#!/usr/bin/env node
<<<<<<< HEAD
function e(e){return null==e?[]:Array.isArray(e)?e:[e]}function t(e,t,r,n){var i,o=e[t],s=~n.string.indexOf(t)?null==r||!0===r?"":r+"":"boolean"==typeof r?r:~n.boolean.indexOf(t)?"false"!==r&&("true"===r||(e._.push(0*(i=+r)==0?i:r),!!r)):0*(i=+r)==0?i:r;e[t]=null==o?s:Array.isArray(o)?o.concat(s):[o,s]}function r(e){return e&&e.__esModule&&{}.hasOwnProperty.call(e,"default")?e.default:e}function n(e){if({}.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}function i(){return Vi?Hi:(Vi=1,Hi={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2})}function o(){if(zi)return qi;zi=1;const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};return qi=e}function s(){return Wi||(Wi=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=i(),a=o(),c=(t=e.exports={}).re=[],u=t.safeRe=[],l=t.src=[],f=t.safeSrc=[],p=t.t={};let d=0;const h="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",s],[h,n]],y=(e,t,r)=>{const n=(e=>{for(const[t,r]of m)e=e.split(t+"*").join(`${t}{0,${r}}`).split(t+"+").join(`${t}{1,${r}}`);return e})(t),i=d++;a(e,i,t),p[e]=i,l[i]=t,f[i]=n,c[i]=RegExp(t,r?"g":void 0),u[i]=RegExp(n,r?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),y("MAINVERSION",`(${l[p.NUMERICIDENTIFIER]})\\.(${l[p.NUMERICIDENTIFIER]})\\.(${l[p.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${l[p.NUMERICIDENTIFIERLOOSE]})\\.(${l[p.NUMERICIDENTIFIERLOOSE]})\\.(${l[p.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${l[p.NONNUMERICIDENTIFIER]}|${l[p.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${l[p.NONNUMERICIDENTIFIER]}|${l[p.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${l[p.PRERELEASEIDENTIFIER]}(?:\\.${l[p.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${l[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[p.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",h+"+"),y("BUILD",`(?:\\+(${l[p.BUILDIDENTIFIER]}(?:\\.${l[p.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${l[p.MAINVERSION]}${l[p.PRERELEASE]}?${l[p.BUILD]}?`),y("FULL",`^${l[p.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${l[p.MAINVERSIONLOOSE]}${l[p.PRERELEASELOOSE]}?${l[p.BUILD]}?`),y("LOOSE",`^${l[p.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",l[p.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),y("XRANGEIDENTIFIER",l[p.NUMERICIDENTIFIER]+"|x|X|\\*"),y("XRANGEPLAIN",`[v=\\s]*(${l[p.XRANGEIDENTIFIER]})(?:\\.(${l[p.XRANGEIDENTIFIER]})(?:\\.(${l[p.XRANGEIDENTIFIER]})(?:${l[p.PRERELEASE]})?${l[p.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${l[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[p.XRANGEIDENTIFIERLOOSE]})(?:${l[p.PRERELEASELOOSE]})?${l[p.BUILD]}?)?)?`),y("XRANGE",`^${l[p.GTLT]}\\s*${l[p.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${l[p.GTLT]}\\s*${l[p.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),y("COERCE",l[p.COERCEPLAIN]+"(?:$|[^\\d])"),y("COERCEFULL",l[p.COERCEPLAIN]+`(?:${l[p.PRERELEASE]})?(?:${l[p.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",l[p.COERCE],!0),y("COERCERTLFULL",l[p.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${l[p.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${l[p.LONETILDE]}${l[p.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${l[p.LONETILDE]}${l[p.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${l[p.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${l[p.LONECARET]}${l[p.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${l[p.LONECARET]}${l[p.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${l[p.GTLT]}\\s*(${l[p.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${l[p.GTLT]}\\s*(${l[p.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${l[p.GTLT]}\\s*(${l[p.LOOSEPLAIN]}|${l[p.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${l[p.XRANGEPLAIN]})\\s+-\\s+(${l[p.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${l[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[p.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(xs,xs.exports)),xs.exports}function a(){if(Ki)return Xi;Ki=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Xi=r=>r?"object"!=typeof r?e:r:t}function c(){if(Ji)return Yi;Ji=1;const e=/^[0-9]+$/,t=(t,r)=>{const n=e.test(t),i=e.test(r);return n&&i&&(t=+t,r=+r),t===r?0:n&&!i?-1:i&&!n?1:r>t?-1:1};return Yi={compareIdentifiers:t,rcompareIdentifiers:(e,r)=>t(r,e)}}function u(){if(Zi)return Qi;Zi=1;const e=o(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=i(),{safeRe:n,t:u}=s(),l=a(),{compareIdentifiers:f}=c();class p{constructor(i,o){if(o=l(o),i instanceof p){if(i.loose===!!o.loose&&i.includePrerelease===!!o.includePrerelease)return i;i=i.version}else if("string"!=typeof i)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof i}".`);if(i.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",i,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const s=i.trim().match(o.loose?n[u.LOOSE]:n[u.FULL]);if(!s)throw new TypeError("Invalid Version: "+i);if(this.raw=i,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>r||0>this.major)throw new TypeError("Invalid major version");if(this.minor>r||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>r||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=s[4]?s[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&r>t)return t}return e}):[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(t){if(e("SemVer.compare",this.version,this.options,t),!(t instanceof p)){if("string"==typeof t&&t===this.version)return 0;t=new p(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(e){return e instanceof p||(e=new p(e,this.options)),f(this.major,e.major)||f(this.minor,e.minor)||f(this.patch,e.patch)}comparePre(t){if(t instanceof p||(t=new p(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(e("prerelease compare",r,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return f(n,i)}while(++r)}compareBuild(t){t instanceof p||(t=new p(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(e("build compare",r,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return f(n,i)}while(++r)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){const e=("-"+t).match(this.options.loose?n[u.PRERELEASELOOSE]:n[u.PRERELEASE]);if(!e||e[1]!==t)throw Error("invalid identifier: "+t)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===f(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error("invalid increment argument: "+e)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}}return Qi=p}function l(){if(to)return eo;to=1;const e=u();return eo=(t,r,n=!1)=>{if(t instanceof e)return t;try{return new e(t,r)}catch(i){if(!n)return null;throw i}}}function f(){if(no)return ro;no=1;const e=l();return ro=(t,r)=>{const n=e(t,r);return n?n.version:null}}function p(){if(fo)return lo;fo=1;const e=u();return lo=(t,r)=>new e(t,r).major}function d(){if(Eo)return go;Eo=1;const e=u();return go=(t,r,n)=>new e(t,n).compare(new e(r,n))}function h(){if(Io)return Ro;Io=1;const e=u();return Ro=(t,r,n)=>{const i=new e(t,n),o=new e(r,n);return i.compare(o)||i.compareBuild(o)}}function m(){if(Co)return $o;Co=1;const e=d();return $o=(t,r,n)=>e(t,r,n)>0}function y(){if(Lo)return Ao;Lo=1;const e=d();return Ao=(t,r,n)=>0>e(t,r,n)}function v(){if(Do)return ko;Do=1;const e=d();return ko=(t,r,n)=>0===e(t,r,n)}function w(){if(jo)return Fo;jo=1;const e=d();return Fo=(t,r,n)=>0!==e(t,r,n)}function g(){if(Mo)return Uo;Mo=1;const e=d();return Uo=(t,r,n)=>e(t,r,n)>=0}function E(){if(Bo)return Go;Bo=1;const e=d();return Go=(t,r,n)=>0>=e(t,r,n)}function _(){if(Vo)return Ho;Vo=1;const e=v(),t=w(),r=m(),n=g(),i=y(),o=E();return Ho=(s,a,c,u)=>{switch(a){case"===":return"object"==typeof s&&(s=s.version),"object"==typeof c&&(c=c.version),s===c;case"!==":return"object"==typeof s&&(s=s.version),"object"==typeof c&&(c=c.version),s!==c;case"":case"=":case"==":return e(s,c,u);case"!=":return t(s,c,u);case">":return r(s,c,u);case">=":return n(s,c,u);case"<":return i(s,c,u);case"<=":return o(s,c,u);default:throw new TypeError("Invalid operator: "+a)}}}function b(){if(zo)return qo;zo=1;const e=u(),t=l(),{safeRe:r,t:n}=s();return qo=(i,o)=>{if(i instanceof e)return i;if("number"==typeof i&&(i+=""),"string"!=typeof i)return null;let s=null;if((o=o||{}).rtl){const e=o.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let t;for(;(t=e.exec(i))&&(!s||s.index+s[0].length!==i.length);)s&&t.index+t[0].length===s.index+s[0].length||(s=t),e.lastIndex=t.index+t[1].length+t[2].length;e.lastIndex=-1}else s=i.match(o.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);return null===s?null:t(`${s[2]}.${s[3]||"0"}.${s[4]||"0"}${o.includePrerelease&&s[5]?"-"+s[5]:""}${o.includePrerelease&&s[6]?"+"+s[6]:""}`,o)}}function S(){if(Yo)return Ko;Yo=1;const e=/\s+/g;class t{constructor(r,i){if(i=n(i),r instanceof t)return r.loose===!!i.loose&&r.includePrerelease===!!i.includePrerelease?r:new t(r.raw,i);if(r instanceof c)return this.raw=r.value,this.set=[[r]],this.formatted=void 0,this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=r.trim().replace(e," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&E(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;this.set.length>e;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;t.length>e;e++)e>0&&(this.formatted+=" "),this.formatted+=(""+t[e]).trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&v)|(this.options.loose&&w))+":"+e,n=r.get(t);if(n)return n;const i=this.options.loose;e=e.replace(i?p[d.HYPHENRANGELOOSE]:p[d.HYPHENRANGE],A(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(p[d.COMPARATORTRIM],h),l("comparator trim",e),e=e.replace(p[d.TILDETRIM],m),l("tilde trim",e),e=e.replace(p[d.CARETTRIM],y),l("caret trim",e);let o=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>C(e,this.options));i&&(o=o.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(p[d.COMPARATORLOOSE])))),l("range list",o);const s=new Map,a=o.map(e=>new c(e,this.options));for(const r of a){if(g(r))return[r];s.set(r.value,r)}s.size>1&&s.has("")&&s.delete("");const u=[...s.values()];return r.set(t,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(t=>_(t,r)&&e.set.some(e=>_(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new f(e,this.options)}catch(t){return!1}for(let r=0;this.set.length>r;r++)if(L(this.set[r],e,this.options))return!0;return!1}}Ko=t;const r=new(Xo?Wo:(Xo=1,Wo=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}})),n=a(),c=O(),l=o(),f=u(),{safeRe:p,t:d,comparatorTrimReplace:h,tildeTrimReplace:m,caretTrimReplace:y}=s(),{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:w}=i(),g=e=>"<0.0.0-0"===e.value,E=e=>""===e.value,_=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},b=(e,t)=>(l("comp",e,t),e=P(e,t),l("caret",e),e=R(e,t),l("tildes",e),e=T(e,t),l("xrange",e),e=$(e,t),l("stars",e),e),S=e=>!e||"x"===e.toLowerCase()||"*"===e,R=(e,t)=>e.trim().split(/\s+/).map(e=>I(e,t)).join(" "),I=(e,t)=>e.replace(t.loose?p[d.TILDELOOSE]:p[d.TILDE],(t,r,n,i,o)=>{let s;return l("tilde",e,t,r,n,i,o),S(r)?s="":S(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:S(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(l("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,l("tilde return",s),s}),P=(e,t)=>e.trim().split(/\s+/).map(e=>x(e,t)).join(" "),x=(e,t)=>{l("caret",e,t);const r=t.includePrerelease?"-0":"";return e.replace(t.loose?p[d.CARETLOOSE]:p[d.CARET],(t,n,i,o,s)=>{let a;return l("caret",e,t,n,i,o,s),S(n)?a="":S(i)?a=`>=${n}.0.0${r} <${+n+1}.0.0-0`:S(o)?a="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(l("replaceCaret pr",s),a="0"===n?"0"===i?`>=${n}.${i}.${o}-${s} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${s} <${+n+1}.0.0-0`):(l("no pr"),a="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),l("caret return",a),a})},T=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>N(e,t)).join(" ")),N=(e,t)=>(e=e.trim()).replace(t.loose?p[d.XRANGELOOSE]:p[d.XRANGE],(r,n,i,o,s,a)=>{l("xRange",e,r,n,i,o,s,a);const c=S(i),u=c||S(o),f=u||S(s);return"="===n&&f&&(n=""),a=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&f?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),"<"===n&&(a="-0"),r=`${n+i}.${o}.${s}${a}`):u?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:f&&(r=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),l("xRange return",r),r}),$=(e,t)=>(l("replaceStars",e,t),e.trim().replace(p[d.STAR],"")),C=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(p[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),A=e=>(t,r,n,i,o,s,a,c,u,l,f,p)=>`${r=S(n)?"":S(i)?`>=${n}.0.0${e?"-0":""}`:S(o)?`>=${n}.${i}.0${e?"-0":""}`:s?">="+r:`>=${r}${e?"-0":""}`} ${c=S(u)?"":S(l)?`<${+u+1}.0.0-0`:S(f)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${f}-${p}`:e?`<${u}.${l}.${+f+1}-0`:"<="+c}`.trim(),L=(e,t,r)=>{for(let n=0;e.length>n;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;e.length>r;r++)if(l(e[r].semver),e[r].semver!==c.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0};return Ko}function O(){if(Qo)return Jo;Qo=1;const e=Symbol();class t{static get ANY(){return e}constructor(n,i){if(i=r(i),n instanceof t){if(n.loose===!!i.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),l("comparator",n,i),this.options=i,this.loose=!!i.loose,this.parse(n),this.value=this.semver===e?"":this.operator+this.semver.version,l("comp",this)}parse(t){const r=t.match(this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR]);if(!r)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),this.semver=r[2]?new f(r[2],this.options.loose):e}toString(){return this.value}test(t){if(l("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new f(t,this.options)}catch(r){return!1}return c(t,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,n).test(this.value):""===e.operator?""===e.value||new p(this.value,n).test(e.semver):!((n=r(n)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}Jo=t;const r=a(),{safeRe:n,t:i}=s(),c=_(),l=o(),f=u(),p=S();return Jo}function R(){if(es)return Zo;es=1;const e=S();return Zo=(t,r,n)=>{try{r=new e(r,n)}catch(i){return!1}return r.test(t)}}function I(){if(ps)return fs;ps=1;const e=u(),t=O(),{ANY:r}=t,n=S(),i=R(),o=m(),s=y(),a=E(),c=g();return fs=(u,l,f,p)=>{let d,h,m,y,v;switch(u=new e(u,p),l=new n(l,p),f){case">":d=o,h=a,m=s,y=">",v=">=";break;case"<":d=s,h=c,m=o,y="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(u,l,p))return!1;for(let e=0;l.set.length>e;++e){let n=null,i=null;if(l.set[e].forEach(e=>{e.semver===r&&(e=new t(">=0.0.0")),n=n||e,i=i||e,d(e.semver,n.semver,p)?n=e:m(e.semver,i.semver,p)&&(i=e)}),n.operator===y||n.operator===v)return!1;if((!i.operator||i.operator===y)&&h(u,i.semver))return!1;if(i.operator===v&&m(u,i.semver))return!1}return!0}}function P(){if(Os)return Ss;Os=1;const e=s(),t=i(),r=u(),n=c(),o=l(),a=f(),P=function(){if(oo)return io;oo=1;const e=l();return io=(t,r)=>{const n=e(t.trim().replace(/^[=v]+/,""),r);return n?n.version:null}}(),x=function(){if(ao)return so;ao=1;const e=u();return so=(t,r,n,i,o)=>{"string"==typeof n&&(o=i,i=n,n=void 0);try{return new e(t instanceof e?t.version:t,n).inc(r,i,o).version}catch(s){return null}}}(),T=function(){if(uo)return co;uo=1;const e=l();return co=(t,r)=>{const n=e(t,null,!0),i=e(r,null,!0),o=n.compare(i);if(0===o)return null;const s=o>0,a=s?n:i,c=s?i:n,u=!!a.prerelease.length;if(c.prerelease.length&&!u){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(a))return c.minor&&!c.patch?"minor":"patch"}const l=u?"pre":"";return n.major!==i.major?l+"major":n.minor!==i.minor?l+"minor":n.patch!==i.patch?l+"patch":"prerelease"}}(),N=p(),$=function(){if(ho)return po;ho=1;const e=u();return po=(t,r)=>new e(t,r).minor}(),C=function(){if(yo)return mo;yo=1;const e=u();return mo=(t,r)=>new e(t,r).patch}(),A=function(){if(wo)return vo;wo=1;const e=l();return vo=(t,r)=>{const n=e(t,r);return n&&n.prerelease.length?n.prerelease:null}}(),L=d(),k=function(){if(bo)return _o;bo=1;const e=d();return _o=(t,r,n)=>e(r,t,n)}(),D=function(){if(Oo)return So;Oo=1;const e=d();return So=(t,r)=>e(t,r,!0)}(),F=h(),j=function(){if(xo)return Po;xo=1;const e=h();return Po=(t,r)=>t.sort((t,n)=>e(t,n,r))}(),U=function(){if(No)return To;No=1;const e=h();return To=(t,r)=>t.sort((t,n)=>e(n,t,r))}(),M=m(),G=y(),B=v(),H=w(),V=g(),q=E(),z=_(),W=b(),X=O(),K=S(),Y=R(),J=function(){if(rs)return ts;rs=1;const e=S();return ts=(t,r)=>new e(t,r).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))}(),Q=function(){if(is)return ns;is=1;const e=u(),t=S();return ns=(r,n,i)=>{let o=null,s=null,a=null;try{a=new t(n,i)}catch(c){return null}return r.forEach(t=>{a.test(t)&&(o&&-1!==s.compare(t)||(o=t,s=new e(o,i)))}),o}}(),Z=function(){if(ss)return os;ss=1;const e=u(),t=S();return os=(r,n,i)=>{let o=null,s=null,a=null;try{a=new t(n,i)}catch(c){return null}return r.forEach(t=>{a.test(t)&&(o&&1!==s.compare(t)||(o=t,s=new e(o,i)))}),o}}(),ee=function(){if(cs)return as;cs=1;const e=u(),t=S(),r=m();return as=(n,i)=>{n=new t(n,i);let o=new e("0.0.0");if(n.test(o))return o;if(o=new e("0.0.0-0"),n.test(o))return o;o=null;for(let t=0;n.set.length>t;++t){let i=null;n.set[t].forEach(t=>{const n=new e(t.semver.version);switch(t.operator){case">":0===n.prerelease.length?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":i&&!r(n,i)||(i=n);break;case"<":case"<=":break;default:throw Error("Unexpected operation: "+t.operator)}}),!i||o&&!r(o,i)||(o=i)}return o&&n.test(o)?o:null}}(),te=function(){if(ls)return us;ls=1;const e=S();return us=(t,r)=>{try{return new e(t,r).range||"*"}catch(n){return null}}}(),re=I(),ne=function(){if(hs)return ds;hs=1;const e=I();return ds=(t,r,n)=>e(t,r,">",n)}(),ie=function(){if(ys)return ms;ys=1;const e=I();return ms=(t,r,n)=>e(t,r,"<",n)}(),oe=function(){if(ws)return vs;ws=1;const e=S();return vs=(t,r,n)=>(t=new e(t,n),r=new e(r,n),t.intersects(r,n))}(),se=function(){if(Es)return gs;Es=1;const e=R(),t=d();return gs=(r,n,i)=>{const o=[];let s=null,a=null;const c=r.sort((e,r)=>t(e,r,i));for(const t of c)e(t,n,i)?(a=t,s||(s=t)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const u=[];for(const[e,t]of o)u.push(e===t?e:t||e!==c[0]?t?e===c[0]?"<="+t:`${e} - ${t}`:">="+e:"*");const l=u.join(" || ");return("string"==typeof n.raw?n.raw:n+"").length>l.length?l:n}}(),ae=function(){if(bs)return _s;bs=1;const e=S(),t=O(),{ANY:r}=t,n=R(),i=d(),o=[new t(">=0.0.0-0")],s=[new t(">=0.0.0")],a=(e,t,a)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===r){if(1===t.length&&t[0].semver===r)return!0;e=a.includePrerelease?o:s}if(1===t.length&&t[0].semver===r){if(a.includePrerelease)return!0;t=s}const l=new Set;let f,p,d,h,m,y,v;for(const r of e)">"===r.operator||">="===r.operator?f=c(f,r,a):"<"===r.operator||"<="===r.operator?p=u(p,r,a):l.add(r.semver);if(l.size>1)return null;if(f&&p){if(d=i(f.semver,p.semver,a),d>0)return null;if(0===d&&(">="!==f.operator||"<="!==p.operator))return null}for(const r of l){if(f&&!n(r,f+"",a))return null;if(p&&!n(r,p+"",a))return null;for(const e of t)if(!n(r,e+"",a))return!1;return!0}let w=!(!p||a.includePrerelease||!p.semver.prerelease.length)&&p.semver,g=!(!f||a.includePrerelease||!f.semver.prerelease.length)&&f.semver;w&&1===w.prerelease.length&&"<"===p.operator&&0===w.prerelease[0]&&(w=!1);for(const r of t){if(v=v||">"===r.operator||">="===r.operator,y=y||"<"===r.operator||"<="===r.operator,f)if(g&&r.semver.prerelease&&r.semver.prerelease.length&&r.semver.major===g.major&&r.semver.minor===g.minor&&r.semver.patch===g.patch&&(g=!1),">"===r.operator||">="===r.operator){if(h=c(f,r,a),h===r&&h!==f)return!1}else if(">="===f.operator&&!n(f.semver,r+"",a))return!1;if(p)if(w&&r.semver.prerelease&&r.semver.prerelease.length&&r.semver.major===w.major&&r.semver.minor===w.minor&&r.semver.patch===w.patch&&(w=!1),"<"===r.operator||"<="===r.operator){if(m=u(p,r,a),m===r&&m!==p)return!1}else if("<="===p.operator&&!n(p.semver,r+"",a))return!1;if(!r.operator&&(p||f)&&0!==d)return!1}return!(f&&y&&!p&&0!==d||p&&v&&!f&&0!==d||g||w)},c=(e,t,r)=>{if(!e)return t;const n=i(e.semver,t.semver,r);return n>0?e:0>n||">"===t.operator&&">="===e.operator?t:e},u=(e,t,r)=>{if(!e)return t;const n=i(e.semver,t.semver,r);return 0>n?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};return _s=(t,r,n={})=>{if(t===r)return!0;t=new e(t,n),r=new e(r,n);let i=!1;e:for(const e of t.set){for(const t of r.set){const r=a(e,t,n);if(i=i||null!==r,r)continue e}if(i)return!1}return!0}}();return Ss={parse:o,valid:a,clean:P,inc:x,diff:T,major:N,minor:$,patch:C,prerelease:A,compare:L,rcompare:k,compareLoose:D,compareBuild:F,sort:j,rsort:U,gt:M,lt:G,eq:B,neq:H,gte:V,lte:q,cmp:z,coerce:W,Comparator:X,Range:K,satisfies:Y,toComparators:J,maxSatisfying:Q,minSatisfying:Z,minVersion:ee,validRange:te,outside:re,gtr:ne,ltr:ie,intersects:oe,simplifyRange:se,subset:ae,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}}function x(){return Ds||(Ds=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.toCommandProperties=Gs.toCommandValue=void 0,Gs.toCommandValue=function(e){return null==e?"":"string"==typeof e||e instanceof String?e:JSON.stringify(e)},Gs.toCommandProperties=function(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}),Gs}function T(e){const t="https:"===e.protocol;if(function(e){if(!e.hostname)return!1;if(function(e){const t=e.toLowerCase();return"localhost"===t||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}(e.hostname))return!0;const t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):"http:"===e.protocol?r=80:"https:"===e.protocol&&(r=443);const n=[e.hostname.toUpperCase()];"number"==typeof r&&n.push(`${n[0]}:${r}`);for(const i of t.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e))if("*"===i||n.some(e=>e===i||e.endsWith("."+i)||i.startsWith(".")&&e.endsWith(""+i)))return!0;return!1}(e))return;const r=t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;if(r)try{return new Vs(r)}catch{if(!r.startsWith("http://")&&!r.startsWith("https://"))return new Vs("http://"+r)}}function N(){if(la)return Hs;la=1;var e=Hs&&Hs.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.OidcClient=void 0;const t=ca,r=function(){if(ua)return ga;ua=1;var e=ga&&ga.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};return Object.defineProperty(ga,"__esModule",{value:!0}),ga.PersonalAccessTokenCredentialHandler=ga.BearerCredentialHandler=ga.BasicCredentialHandler=void 0,ga.BasicCredentialHandler=class{constructor(e,t){this.username=e,this.password=t}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization="Basic "+Buffer.from(`${this.username}:${this.password}`).toString("base64")}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,function*(){throw Error("not implemented")})}},ga.BearerCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization="Bearer "+this.token}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,function*(){throw Error("not implemented")})}},ga.PersonalAccessTokenCredentialHandler=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,function*(){throw Error("not implemented")})}},ga}(),n=k();class i{static createHttpClient(e=!0,n=10){const o={allowRetries:e,maxRetries:n};return new t.HttpClient("actions/oidc-client",[new r.BearerCredentialHandler(i.getRequestToken())],o)}static getRequestToken(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){const e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(t){var r;return e(this,void 0,void 0,function*(){const e=i.createHttpClient(),n=yield e.getJson(t).catch(e=>{throw Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.message}`)}),o=null===(r=n.result)||void 0===r?void 0:r.value;if(!o)throw Error("Response json body do not have ID Token field");return o})}static getIDToken(t){return e(this,void 0,void 0,function*(){try{let e=i.getIDTokenUrl();t&&(e=`${e}&audience=${encodeURIComponent(t)}`),(0,n.debug)("ID token url is "+e);const r=yield i.getCall(e);return(0,n.setSecret)(r),r}catch(e){throw Error("Error message: "+e.message)}})}}return Hs.OidcClient=i,Hs}function $(){return fa||(fa=1,function(e){var t=Ea&&Ea.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.summary=e.markdownSummary=e.SUMMARY_DOCS_URL=e.SUMMARY_ENV_VAR=void 0;const r=Fn,n=Jn,{access:i,appendFile:o,writeFile:s}=n.promises;e.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",e.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";const a=new class{constructor(){this._buffer=""}filePath(){return t(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;const t=process.env[e.SUMMARY_ENV_VAR];if(!t)throw Error(`Unable to find environment variable for $${e.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield i(t,n.constants.R_OK|n.constants.W_OK)}catch(r){throw Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(e,t,r={}){const n=Object.entries(r).map(([e,t])=>` ${e}="${t}"`).join("");return t?`<${e}${n}>${t}</${e}>`:`<${e}${n}>`}write(e){return t(this,void 0,void 0,function*(){const t=!!(null==e?void 0:e.overwrite),r=yield this.filePath(),n=t?s:o;return yield n(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return t(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return 0===this._buffer.length}emptyBuffer(){return this._buffer="",this}addRaw(e,t=!1){return this._buffer+=e,t?this.addEOL():this}addEOL(){return this.addRaw(r.EOL)}addCodeBlock(e,t){const r=Object.assign({},t&&{lang:t}),n=this.wrap("pre",this.wrap("code",e),r);return this.addRaw(n).addEOL()}addList(e,t=!1){const r=t?"ol":"ul",n=e.map(e=>this.wrap("li",e)).join(""),i=this.wrap(r,n);return this.addRaw(i).addEOL()}addTable(e){const t=e.map(e=>{const t=e.map(e=>{if("string"==typeof e)return this.wrap("td",e);const{header:t,data:r,colspan:n,rowspan:i}=e,o=t?"th":"td",s=Object.assign(Object.assign({},n&&{colspan:n}),i&&{rowspan:i});return this.wrap(o,r,s)}).join("");return this.wrap("tr",t)}).join(""),r=this.wrap("table",t);return this.addRaw(r).addEOL()}addDetails(e,t){const r=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(r).addEOL()}addImage(e,t,r){const{width:n,height:i}=r||{},o=Object.assign(Object.assign({},n&&{width:n}),i&&{height:i}),s=this.wrap("img",null,Object.assign({src:e,alt:t},o));return this.addRaw(s).addEOL()}addHeading(e,t){const r="h"+t,n=this.wrap(["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",e);return this.addRaw(n).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const r=Object.assign({},t&&{cite:t}),n=this.wrap("blockquote",e,r);return this.addRaw(n).addEOL()}addLink(e,t){const r=this.wrap("a",e,{href:t});return this.addRaw(r).addEOL()}};e.markdownSummary=a,e.summary=a}(Ea)),Ea}function C(){return da||(da=1,function(e){function t(e){return(1&e.mode)>0||(8&e.mode)>0&&e.gid===process.getgid()||(64&e.mode)>0&&e.uid===process.getuid()}var r,n=Ia&&Ia.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=Ia&&Ia.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=Ia&&Ia.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=Ia&&Ia.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getCmdPath=e.tryGetExecutablePath=e.isRooted=e.isDirectory=e.exists=e.READONLY=e.UV_FS_O_EXLOCK=e.IS_WINDOWS=e.unlink=e.symlink=e.stat=e.rmdir=e.rm=e.rename=e.readlink=e.readdir=e.open=e.mkdir=e.lstat=e.copyFile=e.chmod=void 0;const a=o(Jn),c=o(Mn);e.chmod=(r=a.promises).chmod,e.copyFile=r.copyFile,e.lstat=r.lstat,e.mkdir=r.mkdir,e.open=r.open,e.readdir=r.readdir,e.readlink=r.readlink,e.rename=r.rename,e.rm=r.rm,e.rmdir=r.rmdir,e.stat=r.stat,e.symlink=r.symlink,e.unlink=r.unlink,e.IS_WINDOWS="win32"===process.platform,e.UV_FS_O_EXLOCK=268435456,e.READONLY=a.constants.O_RDONLY,e.exists=function(t){return s(this,void 0,void 0,function*(){try{yield e.stat(t)}catch(r){if("ENOENT"===r.code)return!1;throw r}return!0})},e.isDirectory=function(t,r=!1){return s(this,void 0,void 0,function*(){return(r?yield e.stat(t):yield e.lstat(t)).isDirectory()})},e.isRooted=function(t){if(!(t=function(t){return t=t||"",e.IS_WINDOWS?(t=t.replace(/\//g,"\\")).replace(/\\\\+/g,"\\"):t.replace(/\/\/+/g,"/")}(t)))throw Error('isRooted() parameter "p" cannot be empty');return e.IS_WINDOWS?t.startsWith("\\")||/^[A-Z]:/i.test(t):t.startsWith("/")},e.tryGetExecutablePath=function(r,n){return s(this,void 0,void 0,function*(){let i;try{i=yield e.stat(r)}catch(s){"ENOENT"!==s.code&&console.log(`Unexpected error attempting to determine if executable file exists '${r}': ${s}`)}if(i&&i.isFile())if(e.IS_WINDOWS){const e=c.extname(r).toUpperCase();if(n.some(t=>t.toUpperCase()===e))return r}else if(t(i))return r;const o=r;for(const a of n){r=o+a,i=void 0;try{i=yield e.stat(r)}catch(s){"ENOENT"!==s.code&&console.log(`Unexpected error attempting to determine if executable file exists '${r}': ${s}`)}if(i&&i.isFile()){if(e.IS_WINDOWS){try{const t=c.dirname(r),n=c.basename(r).toUpperCase();for(const i of yield e.readdir(t))if(n===i.toUpperCase()){r=c.join(t,i);break}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${r}': ${s}`)}return r}if(t(i))return r}}return""})},e.getCmdPath=function(){var e;return null!==(e=process.env.COMSPEC)&&void 0!==e?e:"cmd.exe"}}(Ia)),Ia}function A(){function e(e){return c(this,void 0,void 0,function*(){if(f.IS_WINDOWS&&/[*"<>|]/.test(e))throw Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{yield f.rm(e,{force:!0,maxRetries:3,recursive:!0,retryDelay:300})}catch(t){throw Error("File was unable to be removed "+t)}})}function t(e){return c(this,void 0,void 0,function*(){u.ok(e,"a path argument must be provided"),yield f.mkdir(e,{recursive:!0})})}function r(e){return c(this,void 0,void 0,function*(){if(!e)throw Error("parameter 'tool' is required");const t=[];if(f.IS_WINDOWS&&process.env.PATHEXT)for(const e of process.env.PATHEXT.split(l.delimiter))e&&t.push(e);if(f.isRooted(e)){const r=yield f.tryGetExecutablePath(e,t);return r?[r]:[]}if(e.includes(l.sep))return[];const r=[];if(process.env.PATH)for(const e of process.env.PATH.split(l.delimiter))e&&r.push(e);const n=[];for(const i of r){const r=yield f.tryGetExecutablePath(l.join(i,e),t);r&&n.push(r)}return n})}function n(e,r,o,s){return c(this,void 0,void 0,function*(){if(o>=255)return;o++,yield t(r);const a=yield f.readdir(e);for(const t of a){const a=`${e}/${t}`,c=`${r}/${t}`;(yield f.lstat(a)).isDirectory()?yield n(a,c,o,s):yield i(a,c,s)}yield f.chmod(r,(yield f.stat(e)).mode)})}function i(e,t,r){return c(this,void 0,void 0,function*(){if((yield f.lstat(e)).isSymbolicLink()){try{yield f.lstat(t),yield f.unlink(t)}catch(n){"EPERM"===n.code&&(yield f.chmod(t,"0666"),yield f.unlink(t))}const r=yield f.readlink(e);yield f.symlink(r,t,f.IS_WINDOWS?"junction":null)}else(yield f.exists(t))&&!r||(yield f.copyFile(e,t))})}if(ha)return Ra;ha=1;var o=Ra&&Ra.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=Ra&&Ra.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=Ra&&Ra.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t},c=Ra&&Ra.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.findInPath=Ra.which=Ra.mkdirP=Ra.rmRF=Ra.mv=Ra.cp=void 0;const u=fi,l=a(Mn),f=a(C());return Ra.cp=function(e,t,r={}){return c(this,void 0,void 0,function*(){const{force:o,recursive:s,copySourceDirectory:a}=function(e){return{force:null==e.force||e.force,recursive:!!e.recursive,copySourceDirectory:null==e.copySourceDirectory||!!e.copySourceDirectory}}(r),c=(yield f.exists(t))?yield f.stat(t):null;if(c&&c.isFile()&&!o)return;const u=c&&c.isDirectory()&&a?l.join(t,l.basename(e)):t;if(!(yield f.exists(e)))throw Error("no such file or directory: "+e);if((yield f.stat(e)).isDirectory()){if(!s)throw Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);yield n(e,u,0,o)}else{if(""===l.relative(e,u))throw Error(`'${u}' and '${e}' are the same file`);yield i(e,u,o)}})},Ra.mv=function(r,n,i={}){return c(this,void 0,void 0,function*(){if(yield f.exists(n)){let t=!0;if((yield f.isDirectory(n))&&(n=l.join(n,l.basename(r)),t=yield f.exists(n)),t){if(null!=i.force&&!i.force)throw Error("Destination already exists");yield e(n)}}yield t(l.dirname(n)),yield f.rename(r,n)})},Ra.rmRF=e,Ra.mkdirP=t,Ra.which=function e(t,n){return c(this,void 0,void 0,function*(){if(!t)throw Error("parameter 'tool' is required");if(n){const r=yield e(t,!1);if(!r)throw Error(f.IS_WINDOWS?`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`:`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return r}const i=yield r(t);return i&&i.length>0?i[0]:""})},Ra.findInPath=r,Ra}function L(){function e(e,t,r){return i(this,void 0,void 0,function*(){const n=s.argStringToArray(e);if(0===n.length)throw Error("Parameter 'commandLine' cannot be null or empty.");const i=n[0];return t=n.slice(1).concat(t||[]),new s.ToolRunner(i,t,r).exec()})}if(ya)return Sa;ya=1;var t=Sa&&Sa.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=Sa&&Sa.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=Sa&&Sa.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=Sa&&Sa.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.getExecOutput=Sa.exec=void 0;const o=di,s=n(function(){if(ma)return Oa;ma=1;var e=Oa&&Oa.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=Oa&&Oa.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=Oa&&Oa.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&Object.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n},n=Oa&&Oa.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.argStringToArray=Oa.ToolRunner=void 0;const i=r(Fn),o=r(li),s=r(hi),a=r(Mn),c=r(A()),u=r(C()),l=mi,f="win32"===process.platform;Oa.ToolRunner=class extends o.EventEmitter{constructor(e,t,r){if(super(),!e)throw Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=e,this.args=t||[],this.options=r||{}}_debug(e){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(e)}_getCommandString(e,t){const r=this._getSpawnFileName(),n=this._getSpawnArgs(e);let i=t?"":"[command]";if(f)if(this._isCmdFile()){i+=r;for(const e of n)i+=" "+e}else if(e.windowsVerbatimArguments){i+=`"${r}"`;for(const e of n)i+=" "+e}else{i+=this._windowsQuoteCmdArg(r);for(const e of n)i+=" "+this._windowsQuoteCmdArg(e)}else{i+=r;for(const e of n)i+=" "+e}return i}_processLineBuffer(e,t,r){try{let n=t+""+e,o=n.indexOf(i.EOL);for(;o>-1;)r(n.substring(0,o)),n=n.substring(o+i.EOL.length),o=n.indexOf(i.EOL);return n}catch(n){return this._debug("error processing line. Failed with error "+n),""}}_getSpawnFileName(){return f&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(e){if(f&&this._isCmdFile()){let t='/D /S /C "'+this._windowsQuoteCmdArg(this.toolPath);for(const r of this.args)t+=" ",t+=e.windowsVerbatimArguments?r:this._windowsQuoteCmdArg(r);return t+='"',[t]}return this.args}_endsWith(e,t){return e.endsWith(t)}_isCmdFile(){const e=this.toolPath.toUpperCase();return this._endsWith(e,".CMD")||this._endsWith(e,".BAT")}_windowsQuoteCmdArg(e){if(!this._isCmdFile())return this._uvQuoteCmdArg(e);if(!e)return'""';const t=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let r=!1;for(const o of e)if(t.some(e=>e===o)){r=!0;break}if(!r)return e;let n='"',i=!0;for(let o=e.length;o>0;o--)n+=e[o-1],i&&"\\"===e[o-1]?n+="\\":'"'===e[o-1]?(i=!0,n+='"'):i=!1;return n+='"',n.split("").reverse().join("")}_uvQuoteCmdArg(e){if(!e)return'""';if(!e.includes(" ")&&!e.includes("\t")&&!e.includes('"'))return e;if(!e.includes('"')&&!e.includes("\\"))return`"${e}"`;let t='"',r=!0;for(let n=e.length;n>0;n--)t+=e[n-1],r&&"\\"===e[n-1]?t+="\\":'"'===e[n-1]?(r=!0,t+="\\"):r=!1;return t+='"',t.split("").reverse().join("")}_cloneExecOptions(e){const t={cwd:(e=e||{}).cwd||process.cwd(),env:e.env||process.env,silent:e.silent||!1,windowsVerbatimArguments:e.windowsVerbatimArguments||!1,failOnStdErr:e.failOnStdErr||!1,ignoreReturnCode:e.ignoreReturnCode||!1,delay:e.delay||1e4};return t.outStream=e.outStream||process.stdout,t.errStream=e.errStream||process.stderr,t}_getSpawnOptions(e,t){const r={};return r.cwd=(e=e||{}).cwd,r.env=e.env,r.windowsVerbatimArguments=e.windowsVerbatimArguments||this._isCmdFile(),e.windowsVerbatimArguments&&(r.argv0=`"${t}"`),r}exec(){return n(this,void 0,void 0,function*(){return!u.isRooted(this.toolPath)&&(this.toolPath.includes("/")||f&&this.toolPath.includes("\\"))&&(this.toolPath=a.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield c.which(this.toolPath,!0),new Promise((e,t)=>n(this,void 0,void 0,function*(){this._debug("exec tool: "+this.toolPath),this._debug("arguments:");for(const e of this.args)this._debug("   "+e);const r=this._cloneExecOptions(this.options);!r.silent&&r.outStream&&r.outStream.write(this._getCommandString(r)+i.EOL);const n=new p(r,this.toolPath);if(n.on("debug",e=>{this._debug(e)}),this.options.cwd&&!(yield u.exists(this.options.cwd)))return t(Error(`The cwd: ${this.options.cwd} does not exist!`));const o=this._getSpawnFileName(),a=s.spawn(o,this._getSpawnArgs(r),this._getSpawnOptions(this.options,o));let c="";a.stdout&&a.stdout.on("data",e=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(e),!r.silent&&r.outStream&&r.outStream.write(e),c=this._processLineBuffer(e,c,e=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(e)})});let l="";if(a.stderr&&a.stderr.on("data",e=>{n.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(e),!r.silent&&r.errStream&&r.outStream&&(r.failOnStdErr?r.errStream:r.outStream).write(e),l=this._processLineBuffer(e,l,e=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(e)})}),a.on("error",e=>{n.processError=e.message,n.processExited=!0,n.processClosed=!0,n.CheckComplete()}),a.on("exit",e=>{n.processExitCode=e,n.processExited=!0,this._debug(`Exit code ${e} received from tool '${this.toolPath}'`),n.CheckComplete()}),a.on("close",e=>{n.processExitCode=e,n.processExited=!0,n.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),n.CheckComplete()}),n.on("done",(r,n)=>{c.length>0&&this.emit("stdline",c),l.length>0&&this.emit("errline",l),a.removeAllListeners(),r?t(r):e(n)}),this.options.input){if(!a.stdin)throw Error("child process missing stdin");a.stdin.end(this.options.input)}}))})}},Oa.argStringToArray=function(e){function t(e){i&&'"'!==e&&(o+="\\"),o+=e,i=!1}const r=[];let n=!1,i=!1,o="";for(let s=0;e.length>s;s++){const a=e.charAt(s);'"'!==a?"\\"===a&&i?t(a):"\\"===a&&n?i=!0:" "!==a||n?t(a):o.length>0&&(r.push(o),o=""):i?t(a):n=!n}return o.length>0&&r.push(o.trim()),r};class p extends o.EventEmitter{constructor(e,t){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!t)throw Error("toolPath must not be empty");this.options=e,this.toolPath=t,e.delay&&(this.delay=e.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=l.setTimeout(p.HandleTimeout,this.delay,this)))}_debug(e){this.emit("debug",e)}_setResult(){let e;this.processExited&&(this.processError?e=Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):0===this.processExitCode||this.options.ignoreReturnCode?this.processStderr&&this.options.failOnStdErr&&(e=Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)):e=Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",e,this.processExitCode)}static HandleTimeout(e){e.done||(!e.processClosed&&e.processExited&&e._debug(`The STDIO streams did not close within ${e.delay/1e3} seconds of the exit event from process '${e.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`),e._setResult())}}return Oa}());return Sa.exec=e,Sa.getExecOutput=function(t,r,n){var s,a;return i(this,void 0,void 0,function*(){let i="",c="";const u=new o.StringDecoder("utf8"),l=new o.StringDecoder("utf8"),f=null===(s=null==n?void 0:n.listeners)||void 0===s?void 0:s.stdout,p=null===(a=null==n?void 0:n.listeners)||void 0===a?void 0:a.stderr,d=Object.assign(Object.assign({},null==n?void 0:n.listeners),{stdout:e=>{i+=u.write(e),f&&f(e)},stderr:e=>{c+=l.write(e),p&&p(e)}}),h=yield e(t,r,Object.assign(Object.assign({},n),{listeners:d}));return i+=u.end(),c+=l.end(),{exitCode:h,stdout:i,stderr:c}})},Sa}function k(){return wa||(wa=1,function(e){function t(e,t){const r=process.env["INPUT_"+e.replace(/ /g,"_").toUpperCase()]||"";if(t&&t.required&&!r)throw Error("Input required and not supplied: "+e);return t&&!1===t.trimWhitespace?r:r.trim()}function r(e,t={}){(0,u.issueCommand)("error",(0,f.toCommandProperties)(t),e instanceof Error?""+e:e)}function n(e){(0,u.issue)("group",e)}function i(){(0,u.issue)("endgroup")}var o=Us&&Us.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=Us&&Us.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=Us&&Us.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t},c=Us&&Us.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.toPlatformPath=e.toWin32Path=e.toPosixPath=e.markdownSummary=e.summary=e.getIDToken=e.getState=e.saveState=e.group=e.endGroup=e.startGroup=e.info=e.notice=e.warning=e.error=e.debug=e.isDebug=e.setFailed=e.setCommandEcho=e.setOutput=e.getBooleanInput=e.getMultilineInput=e.getInput=e.addPath=e.setSecret=e.exportVariable=e.ExitCode=void 0;const u=function(){function e(e,t,r){const n=new a(e,t,r);process.stdout.write(""+n+o.EOL)}function t(e){return(0,s.toCommandValue)(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}if(Fs)return Ms;Fs=1;var r=Ms&&Ms.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=Ms&&Ms.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=Ms&&Ms.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.issue=Ms.issueCommand=void 0;const o=i(Fn),s=x();Ms.issueCommand=e,Ms.issue=function(t,r=""){e(t,{},r)};class a{constructor(e,t,r){e||(e="missing.command"),this.command=e,this.properties=t,this.message=r}toString(){let e="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(const n in this.properties)if(this.properties.hasOwnProperty(n)){const i=this.properties[n];i&&(r?r=!1:e+=",",e+=`${n}=${t(i)}`)}}return e+="::"+(0,s.toCommandValue)(this.message).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A"),e}}return Ms}(),l=function(){if(js)return Bs;js=1;var e=Bs&&Bs.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=Bs&&Bs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=Bs&&Bs.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&{}.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.prepareKeyValueMessage=Bs.issueFileCommand=void 0;const n=r(si),i=r(Jn),o=r(Fn),s=x();return Bs.issueFileCommand=function(e,t){const r=process.env["GITHUB_"+e];if(!r)throw Error("Unable to find environment variable for file command "+e);if(!i.existsSync(r))throw Error("Missing file at path: "+r);i.appendFileSync(r,`${(0,s.toCommandValue)(t)}${o.EOL}`,{encoding:"utf8"})},Bs.prepareKeyValueMessage=function(e,t){const r="ghadelimiter_"+n.randomUUID(),i=(0,s.toCommandValue)(t);if(e.includes(r))throw Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(i.includes(r))throw Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${o.EOL}${i}${o.EOL}${r}`},Bs}(),f=x(),p=a(Fn),d=a(Mn),h=N();var m,y;(y=m||(e.ExitCode=m={}))[y.Success=0]="Success",y[y.Failure=1]="Failure",e.exportVariable=function(e,t){const r=(0,f.toCommandValue)(t);if(process.env[e]=r,process.env.GITHUB_ENV)return(0,l.issueFileCommand)("ENV",(0,l.prepareKeyValueMessage)(e,t));(0,u.issueCommand)("set-env",{name:e},r)},e.setSecret=function(e){(0,u.issueCommand)("add-mask",{},e)},e.addPath=function(e){process.env.GITHUB_PATH?(0,l.issueFileCommand)("PATH",e):(0,u.issueCommand)("add-path",{},e),process.env.PATH=`${e}${d.delimiter}${process.env.PATH}`},e.getInput=t,e.getMultilineInput=function(e,r){const n=t(e,r).split("\n").filter(e=>""!==e);return r&&!1===r.trimWhitespace?n:n.map(e=>e.trim())},e.getBooleanInput=function(e,r){const n=t(e,r);if(["true","True","TRUE"].includes(n))return!0;if(["false","False","FALSE"].includes(n))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\nSupport boolean input list: \`true | True | TRUE | false | False | FALSE\``)},e.setOutput=function(e,t){if(process.env.GITHUB_OUTPUT)return(0,l.issueFileCommand)("OUTPUT",(0,l.prepareKeyValueMessage)(e,t));process.stdout.write(p.EOL),(0,u.issueCommand)("set-output",{name:e},(0,f.toCommandValue)(t))},e.setCommandEcho=function(e){(0,u.issue)("echo",e?"on":"off")},e.setFailed=function(e){process.exitCode=m.Failure,r(e)},e.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},e.debug=function(e){(0,u.issueCommand)("debug",{},e)},e.error=r,e.warning=function(e,t={}){(0,u.issueCommand)("warning",(0,f.toCommandProperties)(t),e instanceof Error?""+e:e)},e.notice=function(e,t={}){(0,u.issueCommand)("notice",(0,f.toCommandProperties)(t),e instanceof Error?""+e:e)},e.info=function(e){process.stdout.write(e+p.EOL)},e.startGroup=n,e.endGroup=i,e.group=function(e,t){return c(this,void 0,void 0,function*(){let r;n(e);try{r=yield t()}finally{i()}return r})},e.saveState=function(e,t){if(process.env.GITHUB_STATE)return(0,l.issueFileCommand)("STATE",(0,l.prepareKeyValueMessage)(e,t));(0,u.issueCommand)("save-state",{name:e},(0,f.toCommandValue)(t))},e.getState=function(e){return process.env["STATE_"+e]||""},e.getIDToken=function(e){return c(this,void 0,void 0,function*(){return yield h.OidcClient.getIDToken(e)})};var v=$();Object.defineProperty(e,"summary",{enumerable:!0,get:function(){return v.summary}});var w=$();Object.defineProperty(e,"markdownSummary",{enumerable:!0,get:function(){return w.markdownSummary}});var g=function(){if(pa)return _a;pa=1;var e=_a&&_a.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=_a&&_a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=_a&&_a.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&{}.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n};Object.defineProperty(_a,"__esModule",{value:!0}),_a.toPlatformPath=_a.toWin32Path=_a.toPosixPath=void 0;const n=r(Mn);return _a.toPosixPath=function(e){return e.replace(/[\\]/g,"/")},_a.toWin32Path=function(e){return e.replace(/[/]/g,"\\")},_a.toPlatformPath=function(e){return e.replace(/[/\\]/g,n.sep)},_a}();Object.defineProperty(e,"toPosixPath",{enumerable:!0,get:function(){return g.toPosixPath}}),Object.defineProperty(e,"toWin32Path",{enumerable:!0,get:function(){return g.toWin32Path}}),Object.defineProperty(e,"toPlatformPath",{enumerable:!0,get:function(){return g.toPlatformPath}}),e.platform=a((va||(va=1,function(e){var t=ba&&ba.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=ba&&ba.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=ba&&ba.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=ba&&ba.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})},o=ba&&ba.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.getDetails=e.isLinux=e.isMacOS=e.isWindows=e.arch=e.platform=void 0;const s=o(Fn),a=n(L());e.platform=s.default.platform(),e.arch=s.default.arch(),e.isWindows="win32"===e.platform,e.isMacOS="darwin"===e.platform,e.isLinux="linux"===e.platform,e.getDetails=function(){return i(this,void 0,void 0,function*(){return Object.assign(Object.assign({},yield i(void 0,void 0,void 0,e.isWindows?function*(){const{stdout:e}=yield a.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Version"',void 0,{silent:!0}),{stdout:t}=yield a.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Caption"',void 0,{silent:!0});return{name:t.trim(),version:e.trim()}}:e.isMacOS?function*(){var e,t,r,n;const{stdout:i}=yield a.getExecOutput("sw_vers",void 0,{silent:!0}),o=null!==(t=null===(e=i.match(/ProductVersion:\s*(.+)/))||void 0===e?void 0:e[1])&&void 0!==t?t:"";return{name:null!==(n=null===(r=i.match(/ProductName:\s*(.+)/))||void 0===r?void 0:r[1])&&void 0!==n?n:"",version:o}}:function*(){const{stdout:e}=yield a.getExecOutput("lsb_release",["-i","-r","-s"],{silent:!0}),[t,r]=e.trim().split("\n");return{name:t,version:r}})),{platform:e.platform,arch:e.arch,isWindows:e.isWindows,isMacOS:e.isMacOS,isLinux:e.isLinux})})}}(ba)),ba))}(Us)),Us}function D(e){return xa?Pa.error(e):console.log(`[31m${e}[0m`)}function F(e){return console.log(`[32m${e}[0m`)}function j(e){return xa?Pa.warning(e):console.log(`[33m${e}[0m`)}function U(e){return xa?Pa.notice(e):console.log(`[94m${e}[0m`)}function M(e){return xa?Pa.info(e):console.log(e)}function G(){if(Da)return ka;Da=1;const e="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,t=Mn,r=e?";":":",n=function(){function e(r,n,i){if("function"==typeof n&&(i=n,n={}),!i){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(t,i){e(r,n||{},function(e,r){e?i(e):t(r)})})}t(r,n||{},function(e,t){e&&("EACCES"===e.code||n&&n.ignoreErrors)&&(e=null,t=!1),i(e,t)})}return La||(La=1,t="win32"===process.platform||Ps.TESTING_WINDOWS?function(){function e(e,t,r){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;r.length>n;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,r)}function t(t,n,i){r.stat(t,function(r,o){i(r,!r&&e(o,t,n))})}if(Na)return Ta;Na=1,Ta=t,t.sync=function(t,n){return e(r.statSync(t),t,n)};var r=Jn;return Ta}():function(){function e(e,n,i){r.stat(e,function(e,r){i(e,!e&&t(r,n))})}function t(e,t){return e.isFile()&&function(e,t){var r=e.mode,n=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=a|c;return r&parseInt("001",8)||r&c&&i===s||r&a&&n===o||r&u&&0===o}(e,t)}if(Ca)return $a;Ca=1,$a=e,e.sync=function(e,n){return t(r.statSync(e),n)};var r=Jn;return $a}(),Aa=e,e.sync=function(e,r){try{return t.sync(e,r||{})}catch(n){if(r&&r.ignoreErrors||"EACCES"===n.code)return!1;throw n}}),Aa;var t}(),i=e=>Object.assign(Error("not found: "+e),{code:"ENOENT"}),o=(t,n)=>{const i=n.colon||r,o=t.match(/\//)||e&&t.match(/\\/)?[""]:[...e?[process.cwd()]:[],...(n.path||process.env.PATH||"").split(i)],s=e?n.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=e?s.split(i):[""];return e&&-1!==t.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:o,pathExt:a,pathExtExe:s}},s=(e,r,s)=>{"function"==typeof r&&(s=r,r={}),r||(r={});const{pathEnv:a,pathExt:c,pathExtExe:u}=o(e,r),l=[],f=n=>new Promise((o,s)=>{if(n===a.length)return r.all&&l.length?o(l):s(i(e));const c=a[n],u=/^".*"$/.test(c)?c.slice(1,-1):c,f=t.join(u,e),d=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;o(p(d,n,0))}),p=(e,t,i)=>new Promise((o,s)=>{if(i===c.length)return o(f(t+1));const a=c[i];n(e+a,{pathExt:u},(n,s)=>{if(!n&&s){if(!r.all)return o(e+a);l.push(e+a)}return o(p(e,t,i+1))})});return s?f(0).then(e=>s(null,e),s):f(0)};return ka=s,s.sync=(e,r)=>{r=r||{};const{pathEnv:s,pathExt:a,pathExtExe:c}=o(e,r),u=[];for(let i=0;s.length>i;i++){const o=s[i],f=/^".*"$/.test(o)?o.slice(1,-1):o,p=t.join(f,e),d=!f&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;for(let e=0;a.length>e;e++){const t=d+a[e];try{if(n.sync(t,{pathExt:c})){if(!r.all)return t;u.push(t)}}catch(l){}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw i(e)},ka}function B(){if(Xa)return Wa;Xa=1;const e=Mn,t=function(){function e(e,i){const o=e.options.env||process.env,s=process.cwd(),a=null!=e.options.cwd,c=a&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(e.options.cwd)}catch(l){}let u;try{u=r.sync(e.command,{path:o[n({env:o})],pathExt:i?t.delimiter:void 0})}catch(f){}finally{c&&process.chdir(s)}return u&&(u=t.resolve(a?e.options.cwd:"",u)),u}if(Ua)return ja;Ua=1;const t=Mn,r=G(),n=function(){if(Fa)return Za.exports;Fa=1;const e=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};return Za.exports=e,Za.exports.default=e,Za.exports}();return ja=function(t){return e(t)||e(t,!0)}}(),r=function(){if(Ma)return ec;Ma=1;const e=/([()\][%!^"`<>&|;, *?])/g;return ec.command=function(t){return t.replace(e,"^$1")},ec.argument=function(t,r){return t=(t=`"${t=(t=(t=""+t).replace(/(?=(\\+?)?)\1"/g,'$1$1\\"')).replace(/(?=(\\+?)?)\1$/,"$1$1")}"`).replace(e,"^$1"),r&&(t=t.replace(e,"^$1")),t},ec}(),n=function(){if(za)return qa;za=1;const e=Jn,t=function(){if(Va)return Ha;Va=1;const e=Ba?Ga:(Ba=1,Ga=/^#!(.*)/);return Ha=(t="")=>{const r=t.match(e);if(!r)return null;const[n,i]=r[0].replace(/#! ?/,"").split(" "),o=n.split("/").pop();return"env"===o?i:i?`${o} ${i}`:o}}();return qa=function(r){const n=Buffer.alloc(150);let i;try{i=e.openSync(r,"r"),e.readSync(i,n,0,150,0),e.closeSync(i)}catch(o){}return t(""+n)}}(),i="win32"===process.platform,o=/\.(?:com|exe)$/i,s=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;return Wa=function(a,c,u){c&&!Array.isArray(c)&&(u=c,c=null);const l={command:a,args:c=c?c.slice(0):[],options:u=Object.assign({},u),file:void 0,original:{command:a,args:c}};return u.shell?l:function(a){if(!i)return a;const c=function(e){e.file=t(e);const r=e.file&&n(e.file);return r?(e.args.unshift(e.file),e.command=r,t(e)):e.file}(a),u=!o.test(c);if(a.options.forceShell||u){const t=s.test(c);a.command=e.normalize(a.command),a.command=r.command(a.command),a.args=a.args.map(e=>r.argument(e,t));const n=[a.command].concat(a.args).join(" ");a.args=["/d","/s","/c",`"${n}"`],a.command=process.env.comspec||"cmd.exe",a.options.windowsVerbatimArguments=!0}return a}(l)}}function H(e={}){const{env:t=process.env,platform:r=process.platform}=e;return"win32"!==r?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"}function V(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}function q(e){return V(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState}function z(e,t,r){const n=ru(e,t,r),i=Kc(e,t),o=Yc(e,t);let s;tu(o,n.options),(({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||0>e))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)})(n.options);try{s=wi.spawn(n.file,n.args,n.options)}catch(p){const e=new wi.ChildProcess,t=Promise.reject(wc({error:p,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return qc(e,t),e}const a=(e=>new Promise((t,r)=>{e.on("exit",(e,r)=>{t({exitCode:e,signal:r})}),e.on("error",e=>{r(e)}),e.stdin&&e.stdin.on("error",e=>{r(e)})}))(s),c=((e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(0===t||void 0===t)return n;let i;const o=new Promise((n,o)=>{i=setTimeout(()=>{((e,t,r)=>{e.kill(t),r(Object.assign(Error("Timed out"),{timedOut:!0,signal:t}))})(e,r,o)},t)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])})(s,n.options,a),u=(async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const i=Oc(()=>{e.kill()});return n.finally(()=>{i()})})(s,n.options,c),l={isCanceled:!1};s.kill=Rc.bind(null,s.kill.bind(s)),s.cancel=Nc.bind(null,s,l);const f=uc(async()=>{const[{error:e,exitCode:t,signal:r,timedOut:a},c,f,p]=await(async({stdout:t,stderr:r,all:n},{encoding:i,buffer:o,maxBuffer:s},a)=>{const c=Bc(t,{encoding:i,buffer:o,maxBuffer:s}),u=Bc(r,{encoding:i,buffer:o,maxBuffer:s}),l=Bc(n,{encoding:i,buffer:o,maxBuffer:2*s});try{return await Promise.all([a,c,u,l])}catch(e){return Promise.all([{error:e,signal:e.signal,timedOut:e.timedOut},Gc(t,c),Gc(r,u),Gc(n,l)])}})(s,n.options,u),d=nu(n.options,c),h=nu(n.options,f),m=nu(n.options,p);if(e||0!==t||null!==r){const c=wc({error:e,exitCode:t,signal:r,stdout:d,stderr:h,all:m,command:i,escapedCommand:o,parsed:n,timedOut:a,isCanceled:l.isCanceled||!!n.options.signal&&n.options.signal.aborted,killed:s.killed});if(!n.options.reject)return c;throw c}return{command:i,escapedCommand:o,exitCode:0,stdout:d,stderr:h,all:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return((e,t)=>{const r=(({input:e,inputFile:t})=>"string"!=typeof t?e:(Mc(e),Ii(t)))(t);void 0!==r&&(V(r)?r.pipe(e.stdin):e.stdin.end(r))})(s,n.options),s.all=((e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=Uc();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r})(s,n.options),(e=>{null!==e.stdout&&(e.pipeStdout=$c.bind(void 0,e,"stdout")),null!==e.stderr&&(e.pipeStderr=$c.bind(void 0,e,"stderr")),void 0!==e.all&&(e.pipeAll=$c.bind(void 0,e,"all"))})(s),qc(s,f),s}function W(e,t,r){const n=ru(e,t,r),i=Kc(e,t),o=Yc(e,t);tu(o,n.options);const s=(e=>{const t=(({input:e,inputFile:t})=>"string"!=typeof t?e:(Mc(e),Pi(t)))(e);if(V(t))throw new TypeError("The `input` option cannot be a stream in sync mode");return t})(n.options);let a;try{a=wi.spawnSync(n.file,n.args,{...n.options,input:s})}catch(l){throw wc({error:l,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}const c=nu(n.options,a.stdout,a.error),u=nu(n.options,a.stderr,a.error);if(a.error||0!==a.status||null!==a.signal){const e=wc({stdout:c,stderr:u,error:a.error,signal:a.signal,exitCode:a.status,command:i,escapedCommand:o,parsed:n,timedOut:a.error&&"ETIMEDOUT"===a.error.code,isCanceled:!1,killed:null!==a.signal});if(!n.options.reject)return e;throw e}return{command:i,escapedCommand:o,exitCode:0,stdout:c,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}function X(){return au||(au=1,function(e){var t=lu&&lu.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=lu&&lu.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=lu&&lu.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&t(n,e,i);return r(n,e),n},i=lu&&lu.__exportStar||function(e,r){for(var n in e)"default"===n||{}.hasOwnProperty.call(r,n)||t(r,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.sync=e.isexe=e.posix=e.win32=void 0;const o=n(function(){if(iu)return fu;iu=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.sync=fu.isexe=void 0;const e=Jn,t=Ci;fu.isexe=async(e,n={})=>{const{ignoreErrors:i=!1}=n;try{return r(await(0,t.stat)(e),n)}catch(o){if(i||"EACCES"===o.code)return!1;throw o}},fu.sync=(t,n={})=>{const{ignoreErrors:i=!1}=n;try{return r((0,e.statSync)(t),n)}catch(o){if(i||"EACCES"===o.code)return!1;throw o}};const r=(e,t)=>e.isFile()&&n(e,t),n=(e,t)=>{const r=t.uid??process.getuid?.(),n=t.groups??process.getgroups?.()??[],i=t.gid??process.getgid?.()??n[0];if(void 0===r||void 0===i)throw Error("cannot get uid or gid");const o=new Set([i,...n]),s=e.mode,a=e.uid,c=e.gid,u=parseInt("100",8),l=parseInt("010",8),f=u|l;return!!(s&parseInt("001",8)||s&l&&o.has(c)||s&u&&a===r||s&f&&0===r)};return fu}());e.posix=o;const s=n(function(){if(ou)return pu;ou=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.sync=pu.isexe=void 0;const e=Jn,t=Ci;pu.isexe=async(e,n={})=>{const{ignoreErrors:i=!1}=n;try{return r(await(0,t.stat)(e),e,n)}catch(o){if(i||"EACCES"===o.code)return!1;throw o}},pu.sync=(t,n={})=>{const{ignoreErrors:i=!1}=n;try{return r((0,e.statSync)(t),t,n)}catch(o){if(i||"EACCES"===o.code)return!1;throw o}};const r=(e,t,r)=>e.isFile()&&((e,t)=>{const{pathExt:r=process.env.PATHEXT||""}=t,n=r.split(";");if(-1!==n.indexOf(""))return!0;for(let i=0;n.length>i;i++){const t=n[i].toLowerCase(),r=e.substring(e.length-t.length).toLowerCase();if(t&&r===t)return!0}return!1})(t,r);return pu}());e.win32=s,i((su||(su=1,Object.defineProperty(du,"__esModule",{value:!0})),du),e);const a="win32"===(process.env._ISEXE_TEST_PLATFORM_||process.platform)?s:o;e.isexe=a.isexe,e.sync=a.sync}(lu)),lu}function K(e,t=["-NoProfile","-NoLogo","-NonInteractive"],r={stdio:"inherit"}){return z(function(){if(void 0===mu){const e=hu.sync("pwsh",{nothrow:!0});null!==e&&(mu=e);const t=hu.sync("powershell",{nothrow:!0});null!==t&&(mu=t)}if(void 0===mu)throw Error("Could not find powershell");return mu}(),[...t,"-c",e],r)}function Y(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function J(){return null!==hu.sync("sudo",{nothrow:!0})}function Q(){return 0===process.getuid?.()||!!process.env.CI}function Z(){return Q()&&J()}function ee(e){return Z()?"sudo "+e:e}function te(e,t=[],r=wu){return Z()?function(e,t){const[r,...n]=Qc(e);return W(r,n,t)}(ne(e,t),r):W(e,ie(t),r)}function re(e,t=[],r=wu){return Z()?function(e,t){const[r,...n]=Qc(e);return z(r,n,t)}(ne(e,t),r):z(e,ie(t),r)}function ne(e,t){return"sudo "+ie([e,...t]).join(" ")}function ie(e){return e.map(e=>`'${e}'`)}function oe(){return"win32"===process.platform?gu():Q()}async function se(e){if(("linux"===process.platform||"darwin"===process.platform)&&Z()&&void 0!==process.env.SUDO_USER){let t=Jn.statSync(e).isDirectory();await re("chown",[...t?["-R"]:[],process.env.SUDO_USER,e],wu)}}function ae(){if(Ou)return Su;Ou=1;var e=(bu?_u:(bu=1,_u=function(){}))();return Su=function(t){return t!==e&&null!==t}}function ce(){if(Iu)return Ru;Iu=1;var e=ae(),t=[].forEach,r=Object.create;return Ru=function(n){var i=r(null);return t.call(arguments,function(t){e(t)&&function(e,t){var r;for(r in e)t[r]=e[r]}(Object(t),i)}),i},Ru}function ue(){if(Du)return ku;Du=1;var e=function(){if(Lu)return Au;Lu=1;var e=Cu?$u:(Cu=1,$u=(xu?Pu:(xu=1,Pu=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}))()?Math.sign:Nu?Tu:(Nu=1,Tu=function(e){return isNaN(e=Number(e))||0===e?e:e>0?1:-1})),t=Math.abs,r=Math.floor;return Au=function(n){return isNaN(n)?0:0!==(n=Number(n))&&isFinite(n)?e(n)*r(t(n)):n}}(),t=Math.max;return ku=function(r){return t(0,e(r))}}function le(){if(ju)return Fu;ju=1;var e=ue();return Fu=function(t,r,n){var i;return isNaN(t)?0>(i=r)?1:n&&i?i-1:i:!1!==t&&e(t)}}function fe(){return Mu?Uu:(Mu=1,Uu=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e})}function pe(){if(Bu)return Gu;Bu=1;var e=ae();return Gu=function(t){if(!e(t))throw new TypeError("Cannot use null or undefined");return t}}function de(){return zu||(zu=1,qu=function(){if(Vu)return Hu;Vu=1;var e=fe(),t=pe(),r=function(){}.bind,n=function(){}.call,i=Object.keys,o={}.propertyIsEnumerable;return Hu=function(s,a){return function(c,u){var l,f=arguments[2],p=arguments[3];return c=Object(t(c)),e(u),l=i(c),p&&l.sort("function"==typeof p?r.call(p,c):void 0),"function"!=typeof s&&(s=l[s]),n.call(s,l,function(e,t){return o.call(c,e)?n.call(u,f,c[e],e,c,t):a})}},Hu}()("forEach")),qu}function he(){return Wu||(Wu=1),yp}function me(){return ol||(ol=1,il=(Ku?Xu:(Ku=1,Xu=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}))()?Object.assign:function(){if(nl)return rl;nl=1;var e=tl?el:(tl=1,el=(Ju?Yu:(Ju=1,Yu=function(){try{return!0}catch(e){return!1}}))()?Object.keys:function(){if(Zu)return Qu;Zu=1;var e=ae(),t=Object.keys;return Qu=function(r){return t(e(r)?Object(r):r)}}()),t=pe(),r=Math.max;return rl=function(n,i){var o,s,a,c=r(arguments.length,2);for(n=Object(t(n)),a=function(e){try{n[e]=i[e]}catch(t){o||(o=t)}},s=1;c>s;++s)e(i=arguments[s]).forEach(a);if(void 0!==o)throw o;return n},rl}()),il}function ye(){if(ll)return ul;ll=1;var e=pe(),t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols;return ul=function(o,s){var a,c=Object(e(s));if(o=Object(e(o)),n(c).forEach(function(e){try{t(o,e,r(s,e))}catch(n){a=n}}),"function"==typeof i&&i(c).forEach(function(e){try{t(o,e,r(s,e))}catch(n){a=n}}),void 0!==a)throw a;return o}}function ve(){if(fl)return wp.exports;fl=1;var e,t,r=ue();try{Object.defineProperty(function(e,t){return t},"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(n){}return t=ye(),e=function(){var e=[];return function(t){var r,n=0;if(e[t])return e[t];for(r=[];t--;)r.push("a"+(++n).toString(36));return Function("fn","return function ("+r.join(", ")+") { return fn.apply(this, arguments); };")}}(),wp.exports=function(i,o){var s;if(o=r(o),i.length===o)return i;s=e(o)(i);try{t(s,i)}catch(n){}return s},wp.exports}function we(){return dl?pl:(dl=1,pl=function(e){return null!=e})}function ge(){if(_l)return El;_l=1;var e=function(){if(gl)return wl;gl=1;var e=function(){if(vl)return yl;vl=1;var e=function(){if(ml)return hl;ml=1;var e=we(),t={object:!0,function:!0,undefined:!0};return hl=function(r){return!!e(r)&&hasOwnProperty.call(t,typeof r)}}();return yl=function(t){if(!e(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(r){return!1}}}();return wl=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(r){return!1}return!e(t)}}(),t=/^\s*class[\s{/}]/,r=function(){}.toString;return El=function(n){return!!e(n)&&!t.test(r.call(n))}}function Ee(){if(xl)return gp.exports;xl=1;var e=we(),t=ge(),r=me(),n=ce(),i=(Pl||(Pl=1,Il=function(){if(Sl)return bl;Sl=1;var e="razdwatrzy";return bl=function(){return"function"==typeof e.contains&&!0===e.contains("dwa")&&!1===e.contains("foo")}}()()?"".contains:function(){if(Rl)return Ol;Rl=1;var e="".indexOf;return Ol=function(t){return e.call(this,t,arguments[1])>-1},Ol}()),Il),o=gp.exports=function(t,o){var s,a,c,u,l;return 2>arguments.length||"string"!=typeof t?(u=o,o=t,t=null):u=arguments[2],e(t)?(s=i.call(t,"c"),a=i.call(t,"e"),c=i.call(t,"w")):(s=c=!0,a=!1),l={value:o,configurable:s,enumerable:a,writable:c},u?r(n(u),l):l};return o.gs=function(o,s,a){var c,u,l,f;return"string"!=typeof o?(l=a,a=s,s=o,o=null):l=arguments[3],e(s)?t(s)?e(a)?t(a)||(l=a,a=void 0):a=void 0:(l=s,s=a=void 0):s=void 0,e(o)?(c=i.call(o,"c"),u=i.call(o,"e")):(c=!0,u=!1),f={get:s,set:a,configurable:c,enumerable:u},l?r(n(l),f):f},gp.exports}function _e(){return Fl?Dl:(Fl=1,Dl=(Al?Cl:(Al=1,Cl=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}))()?globalThis:function(){if(kl)return Ll;kl=1;var e=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw Error("Unable to resolve global `this`")};return Ll=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}()}())}function be(){if(Hl)return Bl;Hl=1;var e=Gl?Ml:(Gl=1,Ml=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])});return Bl=function(t){if(!e(t))throw new TypeError(t+" is not a symbol");return t}}function Se(){return Zl?Ql:(Zl=1,Ql=function(){if(Ul)return jl;Ul=1;var e=_e(),t={object:!0,symbol:!0};return jl=function(){var r=e.Symbol;return"function"==typeof r&&(r("test symbol"),!!t[typeof r.iterator]&&!!t[typeof r.toPrimitive]&&!!t[typeof r.toStringTag])}}()()?_e().Symbol:function(){if(Jl)return Yl;Jl=1;var e,t,r,n=Ee(),i=be(),o=_e().Symbol,s=function(){if(ql)return Vl;ql=1;var e=Ee(),t=Object.defineProperty,r=Object.prototype,n=(0,Object.create)(null);return Vl=function(i){for(var o,s,a=0;n[i+(a||"")];)++a;return n[i+=a||""]=!0,t(r,o="@@"+i,e.gs(null,function(r){s||(s=!0,t(this,o,e(r)),s=!1)})),o}}(),a=function(){if(Wl)return zl;Wl=1;var e=Ee(),t=_e().Symbol;return zl=function(r){return Object.defineProperties(r,{hasInstance:e("",t&&t.hasInstance||r("hasInstance")),isConcatSpreadable:e("",t&&t.isConcatSpreadable||r("isConcatSpreadable")),iterator:e("",t&&t.iterator||r("iterator")),match:e("",t&&t.match||r("match")),replace:e("",t&&t.replace||r("replace")),search:e("",t&&t.search||r("search")),species:e("",t&&t.species||r("species")),split:e("",t&&t.split||r("split")),toPrimitive:e("",t&&t.toPrimitive||r("toPrimitive")),toStringTag:e("",t&&t.toStringTag||r("toStringTag")),unscopables:e("",t&&t.unscopables||r("unscopables"))})}}(),c=function(){if(Kl)return Xl;Kl=1;var e=Ee(),t=be(),r=Object.create(null);return Xl=function(n){return Object.defineProperties(n,{for:e(function(e){return r[e]?r[e]:r[e]=n(e+"")}),keyFor:e(function(e){var n;for(n in t(e),r)if(r[n]===e)return n})})}}(),u=Object.create,l=Object.defineProperties,f=Object.defineProperty;if("function"==typeof o)try{o(),r=!0}catch(p){}else o=null;return t=function(r){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return e(r)},Yl=e=function e(i){var a;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return r?o(i):(a=u(t.prototype),l(a,{__description__:n("",i=void 0===i?"":i+""),__name__:n("",s(i))}))},a(e),c(e),l(t.prototype,{constructor:n(e),toString:n("",function(){return this.__name__})}),l(e.prototype,{toString:n(function(){return"Symbol ("+i(this).__description__+")"}),valueOf:n(function(){return i(this)})}),f(e.prototype,e.toPrimitive,n("",function(){var e=i(this);return"symbol"==typeof e?e:""+e})),f(e.prototype,e.toStringTag,n("c","Symbol")),f(t.prototype,e.toStringTag,n("c",e.prototype[e.toStringTag])),f(t.prototype,e.toPrimitive,n("c",e.prototype[e.toPrimitive])),Yl}())}function Oe(){return lf?uf:(lf=1,uf=($l?Nl:($l=1,Nl=function(){var e,t,r=Array.from;return"function"==typeof r&&!(!(t=r(e=["raz","dwa"]))||t===e||"dwa"!==t[1])}))()?Array.from:function(){if(cf)return af;cf=1;var e=Se().iterator,t=function(){if(tf)return ef;tf=1;var e={}.toString,t=e.call(function(){return arguments}());return ef=function(r){return e.call(r)===t}}(),r=function(){if(nf)return rf;nf=1;var e={}.toString,t=/t/.test.bind(/^[object [A-Za-z0-9]*Function]$/);return rf=function(r){return"function"==typeof r&&t(e.call(r))}}(),n=ue(),i=fe(),o=pe(),s=ae(),a=function(){if(sf)return of;sf=1;var e={}.toString,t=e.call("");return of=function(r){return"string"==typeof r||r&&"object"==typeof r&&(r instanceof String||e.call(r)===t)||!1}}(),c=Array.isArray,u=function(){}.call,l={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;return af=function(p){var d,h,m,y,v,w,g,E,_,b,S=arguments[1],O=arguments[2];if(p=Object(o(p)),s(S)&&i(S),this&&this!==Array&&r(this))d=this;else{if(!S){if(t(p))return 1!==(v=p.length)?Array.apply(null,p):((y=[,])[0]=p[0],y);if(c(p)){for(y=Array(v=p.length),h=0;v>h;++h)y[h]=p[h];return y}}y=[]}if(!c(p))if(void 0!==(_=p[e])){for(g=i(_).call(p),d&&(y=new d),E=g.next(),h=0;!E.done;)b=S?u.call(S,O,E.value,h):E.value,d?(l.value=b,f(y,h,l)):y[h]=b,E=g.next(),++h;v=h}else if(a(p)){for(v=p.length,d&&(y=new d),h=0,m=0;v>h;++h)b=p[h],v>h+1&&(55296>(w=b.charCodeAt(0))||w>56319||(b+=p[++h])),b=S?u.call(S,O,b,m):b,d?(l.value=b,f(y,m,l)):y[m]=b,++m;v=m}if(void 0===v)for(v=n(p.length),d&&(y=new d(v)),h=0;v>h;++h)b=S?u.call(S,O,p[h],h):p[h],d?(l.value=b,f(y,h,l)):y[h]=b;return d&&(l.value=null,y.length=v),y},af}())}function Re(){if(wf)return vf;wf=1;var e,t,r,n,i,o=(cl||(cl=1,e=vp,t=me(),r=function(){if(al)return sl;al=1;var e=ae(),t={function:!0,object:!0};return sl=function(r){return e(r)&&t[typeof r]||!1}}(),n=ae(),i=Error.captureStackTrace,e.exports=function(o){var s=Error(o),a=arguments[1],c=arguments[2];return n(c)||r(a)&&(c=a,a=null),n(c)&&t(s,c),n(a)&&(s.code=a),i&&i(s,e.exports),s}),vp.exports),s=ve(),a=Ee(),c=function(){return Tl||(Tl=1,e=Ep,Ep.exports,u=Ee(),l=fe(),f=function(){}.apply,p=function(){}.call,d=Object.create,h=Object.defineProperty,m=Object.defineProperties,y={}.hasOwnProperty,v={configurable:!0,enumerable:!1,writable:!0},n=function(e,t){var n,o;return l(t),o=this,r.call(this,e,n=function(){i.call(o,e,n),f.call(t,this,arguments)}),n.__eeOnceListener__=t,this},o=function(e){var t,r,n,i,o;if(y.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(o=Array((r=arguments.length)-1),t=1;r>t;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;n=i[t];++t)f.call(n,this,o)}else switch(arguments.length){case 1:p.call(i,this);break;case 2:p.call(i,this,arguments[1]);break;case 3:p.call(i,this,arguments[1],arguments[2]);break;default:for(o=Array((r=arguments.length)-1),t=1;r>t;++t)o[t-1]=arguments[t];f.call(i,this,o)}},s={on:r=function(e,t){var r;return l(t),y.call(this,"__ee__")?r=this.__ee__:(r=v.value=d(null),h(this,"__ee__",v),v.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:n,off:i=function(e,t){var r,n,i,o;if(l(t),!y.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(n=r[e]))for(o=0;i=n[o];++o)i!==t&&i.__eeOnceListener__!==t||(2===n.length?r[e]=n[o?0:1]:n.splice(o,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},emit:o},a={on:u(r),once:u(n),off:u(i),emit:u(o)},c=m({},a),e.exports=t=function(e){return null==e?d(c):m(Object(e),a)},t.methods=s),Ep.exports;var e,t,r,n,i,o,s,a,c,u,l,f,p,d,h,m,y,v}().methods,u=function(){if(hf)return df;hf=1;var e,t=function(){if(pf)return ff;pf=1;var e=Oe(),t=Array.isArray;return ff=function(r){return t(r)?r:e(r)}}(),r=ae(),n=fe(),i=[].slice;return e=function(e){return this.map(function(t,r){return t?t(e[r]):e[r]}).concat(i.call(e,this.length))},df=function(i){return(i=t(i)).forEach(function(e){r(e)&&n(e)}),e.bind(i)}}(),l=function(){if(yf)return mf;yf=1;var e=fe();return mf=function(t){var r;return"function"==typeof t?{set:t,get:t}:(r={get:e(t.get)},void 0!==t.set?(r.set=e(t.set),t.delete&&(r.delete=e(t.delete)),t.clear&&(r.clear=e(t.clear)),r):(r.set=r.get,r))}}(),f=function(){}.apply,p=function(){}.call,d=Object.create,h=Object.defineProperties,m=c.on,y=c.emit;return vf=function(e,t,r){var n,i,c,v,w,g,E,_,b,S,O,R,I,P,x,T=d(null);return i=!1!==t?t:isNaN(e.length)?1:e.length,r.normalizer&&(S=l(r.normalizer),c=S.get,v=S.set,w=S.delete,g=S.clear),null!=r.resolvers&&(x=u(r.resolvers)),P=c?s(function(t){var r,i,s=arguments;if(x&&(s=x(s)),null!==(r=c(s))&&hasOwnProperty.call(T,r))return O&&n.emit("get",r,s,this),T[r];if(i=1===s.length?p.call(e,this,s[0]):f.call(e,this,s),null===r){if(null!==(r=c(s)))throw o("Circular invocation","CIRCULAR_INVOCATION");r=v(s)}else if(hasOwnProperty.call(T,r))throw o("Circular invocation","CIRCULAR_INVOCATION");return T[r]=i,R&&n.emit("set",r,null,i),i},i):0===t?function(){var t;if(hasOwnProperty.call(T,"data"))return O&&n.emit("get","data",arguments,this),T.data;if(t=arguments.length?f.call(e,this,arguments):p.call(e,this),hasOwnProperty.call(T,"data"))throw o("Circular invocation","CIRCULAR_INVOCATION");return T.data=t,R&&n.emit("set","data",null,t),t}:function(t){var r,i,s=arguments;if(x&&(s=x(arguments)),i=s[0]+"",hasOwnProperty.call(T,i))return O&&n.emit("get",i,s,this),T[i];if(r=1===s.length?p.call(e,this,s[0]):f.call(e,this,s),hasOwnProperty.call(T,i))throw o("Circular invocation","CIRCULAR_INVOCATION");return T[i]=r,R&&n.emit("set",i,null,r),r},n={original:e,memoized:P,profileName:r.profileName,get:function(e){return x&&(e=x(e)),c?c(e):e[0]+""},has:function(e){return hasOwnProperty.call(T,e)},delete:function(e){var t;hasOwnProperty.call(T,e)&&(w&&w(e),t=T[e],delete T[e],I&&n.emit("delete",e,t))},clear:function(){var e=T;g&&g(),T=d(null),n.emit("clear",e)},on:function(e,t){return"get"===e?O=!0:"set"===e?R=!0:"delete"===e&&(I=!0),m.call(this,e,t)},emit:y,updateEnv:function(){e=n.original}},E=c?s(function(e){var t,r=arguments;x&&(r=x(r)),null!==(t=c(r))&&n.delete(t)},i):0===t?function(){return n.delete("data")}:function(e){return x&&(e=x(arguments)[0]),n.delete(e)},_=s(function(){var e,r=arguments;return 0===t?T.data:(x&&(r=x(r)),e=c?c(r):r[0]+"",T[e])}),b=s(function(){var e,r=arguments;return 0===t?n.has("data"):(x&&(r=x(r)),null!==(e=c?c(r):r[0]+"")&&n.has(e))}),h(P,{__memoized__:a(!0),delete:a(E),clear:a(n.clear),_get:a(_),_has:a(b)}),n},vf}function Ie(){if(Cf)return $f;Cf=1;var e=Nf?Tf:(Nf=1,Tf=(If?Rf:(If=1,Rf=function(){var e=Number.isNaN;return"function"==typeof e&&!e({})&&e(NaN)&&!e(34)}))()?Number.isNaN:xf?Pf:(xf=1,Pf=function(e){return e!=e})),t=ue(),r=pe(),n=[].indexOf,i={}.hasOwnProperty,o=Math.abs,s=Math.floor;return $f=function(a){var c,u,l;if(!e(a))return n.apply(this,arguments);for(u=t(r(this).length),c=l=isNaN(l=arguments[1])?0:0>l?t(this.length)-s(o(l)):s(l);u>c;++c)if(i.call(this,c)&&e(this[c]))return c;return-1},$f}function Pe(){if(Mf)return Uf;Mf=1;var e=fe(),t=de(),r=function(){}.call;return Uf=function(n,i){var o={},s=arguments[2];return e(i),t(n,function(e,t,n,a){o[t]=r.call(i,s,e,t,n,a)}),o},Uf}function xe(){if(Bf)return Gf;Bf=1;var e=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},t=function(t){var r,n,i=document.createTextNode(""),o=0;return new t(function(){var e;if(r)n&&(r=n.concat(r));else{if(!n)return;r=n}if(n=r,r=null,"function"==typeof n)return e=n,n=null,void e();for(i.data=o=++o%2;n;)e=n.shift(),n.length||(n=null),e()}).observe(i,{characterData:!0}),function(t){e(t),r?"function"==typeof r?r=[r,t]:r.push(t):(r=t,i.data=o=++o%2)}};return Gf=function(){if("object"==typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("function"==typeof queueMicrotask)return function(t){queueMicrotask(e(t))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return t(MutationObserver);if("function"==typeof WebKitMutationObserver)return t(WebKitMutationObserver)}return"function"==typeof setImmediate?function(t){setImmediate(e(t))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(t){setTimeout(e(t),0)}:null}()}function Te(){return Wf?zf:(Wf=1,zf=function(e){return"function"==typeof e})}function Ne(){function e(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}return rp||(rp=1,Sp.exports=e,Sp.exports.default=e),Sp.exports}function $e(){if(np)return bp;np=1;var e=Pe(),t=function(){if(qf)return Vf;qf=1;var e=[].forEach,t=Object.create;return Vf=function(r){var n=t(null);return e.call(arguments,function(e){n[e]=!0}),n},Vf}(),r=function(){if(Jf)return Yf;Jf=1;var e=pe(),t=function(){if(Kf)return Xf;Kf=1;var e=Te();return Xf=function(t){try{return t&&e(t.toString)?""+t:t+""}catch(r){throw new TypeError("Passed argument cannot be stringifed")}}}();return Yf=function(r){return t(e(r))}}(),n=function(){if(tp)return ep;tp=1;var e=function(){if(Zf)return Qf;Zf=1;var e=Te();return Qf=function(t){try{return t&&e(t.toString)?""+t:t+""}catch(r){return"<Non-coercible to string value>"}}}();return ep=function(t){var r=e(t);return r.length>100&&(r=r.slice(0,99)+"…"),r.replace(/[\n\r\u2028\u2029]/g,function(e){return JSON.stringify(e).slice(1,-1)})}}(),i=Ne(),o=xe(),s=Object.create,a=t("then","then:finally","done","done:finally");return he().promise=function(t,c){var u=s(null),l=s(null),f=s(null);if(!0===t)t=null;else if(t=r(t),!a[t])throw new TypeError("'"+n(t)+"' is not valid promise mode");c.on("set",function(e,r,n){var s=!1;if(!i(n))return l[e]=n,void c.emit("setasync",e,1);u[e]=1,f[e]=n;var a=function(t){var r=u[e];if(s)throw Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");r&&(delete u[e],l[e]=t,c.emit("setasync",e,r))},p=function(){s=!0,u[e]&&(delete u[e],delete f[e],c.delete(e))},d=t;if(d||(d="then"),"then"===d){var h=function(){o(p)};"function"==typeof(n=n.then(function(e){o(a.bind(this,e))},h)).finally&&n.finally(h)}else if("done"===d){if("function"!=typeof n.done)throw Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");n.done(a,p)}else if("done:finally"===d){if("function"!=typeof n.done)throw Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof n.finally)throw Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");n.done(a),n.finally(p)}}),c.on("get",function(e,t,r){var n;if(u[e])++u[e];else{var s=function(){c.emit("getasync",e,t,r)};i(n=f[e])?"function"==typeof n.done?n.done(s):n.then(function(){o(s)}):s()}}),c.on("delete",function(e){if(delete f[e],u[e])delete u[e];else if(hasOwnProperty.call(l,e)){var t=l[e];delete l[e],c.emit("deleteasync",e,[t])}}),c.on("clear",function(){var t=l;l=s(null),u=s(null),f=s(null),c.emit("clearasync",e(t,function(e){return[e]}))})},bp}async function Ce(e){try{return await xi.access(e),!0}catch{return!1}}function Ae(e){const t=function(){if(Z()&&"string"==typeof process.env.SUDO_USER&&""!==process.env.SUDO_USER)return"darwin"===process.platform?Gn("/Users/",process.env.SUDO_USER):Gn("/home/",process.env.SUDO_USER);{const e=jn();if(""===e)return;return e}}();return void 0===t?e:e.replace(Tp,t)}async function Le(e){const t=void 0===e.guard?"\n# Automatically Generated by envosman\n":`\n# Automatically Generated by envosman ${e.guard}\nexport SOURCE_${e.guard.toUpperCase()}RC=0\n`;await Ce(e.rcPath)&&((await $p(e.rcPath,"utf8")).includes(t)||(await Np(e.rcPath,`\n${t}\n`),M(`Added ${t} to ${e.rcPath}`)))}async function ke(e,t){await Ce(t)&&((await $p(t,"utf-8")).includes(e)||(await Np(t,e),M(`${e} was added to ${t}`)))}async function De(e,t,r={}){const n={escapeSpace:!1,overwrite:!0,rcPath:Ap,...r},i=function(e,t=!1){const r=t?Fp(e):e;return Vp(r,'"',"\\")}(t??"",n.escapeSpace);try{if(qp)try{if(!n.overwrite&&void 0!==process.env[e])return void M(`Environment variable ${e} is already defined. Skipping.`);Pa.exportVariable(e,i)}catch(o){D(o),await Fe(e,i,n)}else await Fe(e,i,n)}catch(o){D(`${o}\nFailed to export environment variable ${e}=${i}. You should add it manually.`)}}async function Fe(e,t,r){const n=t??"";switch(process.platform){case"win32":return r.overwrite||void 0===process.env[e]?(await K(`[Environment]::SetEnvironmentVariable('${e}', '${n}', "User")`),void M(`${e}='${n}' was set in the environment.`)):void M(`Environment variable ${e} is already defined. Skipping.`);case"linux":case"darwin":return await Lp(r),r.overwrite?(await zp(r.rcPath,`\nexport ${e}="${n}"\n`),M(`${e}="${n}" was added to "${r.rcPath}`)):(await zp(r.rcPath,`\nif [ -z "\${${e}}" ]; then export ${e}="${n}"; fi\n`),M(`if not defined ${e} then ${e}="${n}" was added to "${r.rcPath}`)),void(process.env[e]=n)}process.env[e]=n}async function je(e,t={}){const r={rcPath:Ap,...t};if(!function(e){return!!Kp.some(t=>t.test(e))&&(process.env.PATH?.split(Hn)??[]).includes(e)}(e)){process.env.PATH=`${e}${Hn}${process.env.PATH}`;try{if(Wp)try{Pa.addPath(e)}catch(n){D(n),await Ue(e,r)}else await Ue(e,r)}catch(n){D(`${n}\nFailed to add ${e} to the percistent PATH. You should add it manually.`)}}}async function Ue(e,t){switch(process.platform){case"win32":return await K(`$USER_PATH=([Environment]::GetEnvironmentVariable("PATH", "User")); [Environment]::SetEnvironmentVariable("PATH", "${e};$USER_PATH", "User")`),void M(`"${e}" was added to the PATH.`);case"linux":case"darwin":return await Lp(t),await Xp(t.rcPath,`\nexport PATH="${e}:$PATH"\n`),void M(`"${e}" was added to "${t.rcPath}"`);default:return}}function Me(e){throw Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Ge(){return Yp||(Yp=1,e=Zp,function(){function t(e,t,i){if(r(e),"object"!=typeof i)throw Error("List of variants should be specified as an object");var o=n[e](t);return void 0!==i[o]?i[o]:null}function r(e){(function(e){return void 0!==n[e]})(e)||function(e){try{Me(__dirname+"/../locales/"+e+".js")}catch(t){throw Error("Failed to load the following locale: "+e)}}(e)}var n={};e.exports={create:function(e){return r(e),{pluralize:function(r,n){return t(e,r,n)}}},addLocale:function(e,t){n[e]=t},pluralize:t}}()),Zp.exports;var e}function Be(){return Qp?Jp:(Qp=1,Jp=Ge())}function He(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ve(e,t){return Object.keys(t).forEach(r=>{"default"===r||"__esModule"===r||e.hasOwnProperty(r)||Object.defineProperty(e,r,{enumerable:!0,get:()=>t[r]})}),e}function qe(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function ze(e,t=!0){return t?Vn(e):Vn(e,qn(e))}function We(e){return zn(e).replace(RegExp(He(Wn)+"$"),"")}function Xe(e,t=".exe",r=""){return"win32"===process.platform?`${e}${t}`:`${e}${r}`}function Ke(e,t){const r=qn(e),n=`${t}${Vn(e,r)}${r}`;return Gn(Xn(e),n)}function Ye(e,t){const r=qn(e),n=`${Vn(e,r)}${t}${r}`;return Gn(Xn(e),n)}function Je(e,t=".cmd",r=".sh"){return"win32"===process.platform?`${e}${t}`:`${e}${r}`}function Qe(e){return"win32"===process.platform?e:"./"+e}function Ze(e){const t=qn(e).length;return e.slice(0,-t)}function et(e,t){return yd(e,t)}function tt(e,t){const r=Kn(t,e);return!(!r||".."===r||r.startsWith(".."+Wn)||r===Bn(e))}function rt(){if("linux"!==process.platform)return!1;try{return function(){try{return Oi.accessSync("/etc/alpine-release"),!0}catch{return!1}}()}catch{return!1}}async function nt(){return async function(e){if(!(await Td()))throw Error("apk is not available on this system");try{const t="/etc/apk/repositories";if(!(await Ce(t)))throw Error("APK repositories file not found at "+t);return M("Adding repository: "+e),await Li(t,e+"\n"),await Nd.clear(),await Nd(),M("Successfully added repository: "+e),!0}catch(t){throw Error(`Failed to add repository ${e}: ${t}`)}}(`https://dl-cdn.alpinelinux.org/alpine/v${(await async function(){const e="/etc/alpine-release";if(!(await Ce(e)))throw Error("Alpine release file not found at "+e);return Ai(e,"utf8")}()).split(".").slice(0,2).join(".")}/community/`)}async function it(e){return(await Promise.all(e.map(async e=>await async function(e){try{const{exitCode:t}=await re("apk",["info","-e",e.name],{reject:!1,stdio:["ignore","pipe","ignore"]});if(0!==t)return!1;if(void 0===e.version||""===e.version)return!0;const{stdout:r}=await re("apk",["info","-v",e.name],{stdio:["ignore","pipe","ignore"]});return r.trim().split("-").slice(-1)[0]===e.version}catch(t){return!1}}(e)?void 0:e))).filter(e=>void 0!==e).map(ot)}function ot(e){return void 0!==e.version&&""!==e.version?`${e.name}=${e.version}`:e.name}async function st(e,t=!1){if(!(await Td()))throw Error("apk is not available on this system");try{await $d(),t&&await Nd.clear(),await Nd();const r=await it(e);return 0===r.length?(M("All packages are already installed"),{binDir:"/usr/bin"}):(M("Installing "+r.join(" ")),await re("apk",["add",...r]),M("Successfully installed "+r.join(" ")),{binDir:"/usr/bin"})}catch(r){throw j(`Failed to install ${e.map(e=>ot(e)).join(" ")}: ${r}`),r}}async function at(e,t,r,n=40){Cd?await async function(e,t,r=40){await re("update-alternatives",["--install","/usr/bin/"+e,e,t,""+r])}(e,t,n):(await Lp(r),await Ad(r.rcPath,`\nif [ $UID -eq 0 ]; then update-alternatives --install /usr/bin/${e} ${e} ${t} ${n}; fi\n`))}function ct(){return"linux"===process.platform&&null!==hu.sync("nala",{nothrow:!0})}function ut(){return"linux"===process.platform&&null!==hu.sync("apt-get",{nothrow:!0})}function lt(){if(ct())return"nala";if("linux"===process.platform&&null!==hu.sync("apt-fast",{nothrow:!0}))return"apt-fast";if(ut())return"apt-get";throw Error("No apt command found")}function ft(e){const t={...process.env,DEBIAN_FRONTEND:"noninteractive"};return"nala"===e&&(void 0===t.LANG&&(t.LANG="C.UTF-8"),void 0===t.LC_ALL&&(t.LC_ALL="C.UTF-8")),t}async function pt({keyUrl:e,fileName:t,keyStorePath:r=Fd}){try{ht(t);const n=Gn(r,t);if(!(await Ce(n))){dt(),await _t([{name:"ca-certificates"}]);const r=Gn(Un(),t),i=new Dd.DownloaderHelper(e,Un(),{fileName:t});i.on("error",t=>{throw Error(`Failed to download ${e}: ${t}`)}),await i.start(),te("gpg",["--no-default-keyring","--keyring","gnupg-ring:"+n,"--import",r]),te("chmod",["644",n])}return n}catch(n){return void j(`Failed to add apt key via download ${e}: ${n}`)}}function dt(){te("gpg",["-k"])}function ht(e){if(!e.endsWith(".gpg"))throw Error("Key file name must end with .gpg: "+e)}async function mt(e){try{const{stdout:t}=await z("dpkg",["-s",e],{env:ft("apt-get"),stdio:"pipe"});return"string"==typeof t&&t.split("\n").some(e=>e.startsWith("Status: install ok installed"))}catch{return!1}}async function yt(e,t=lt()){return(await Promise.all(e.map(e=>vt(e,t)))).filter(e=>void 0!==e)}async function vt(e,t=lt()){const r=await async function(e,t){const{name:r,version:n,fallBackToLatest:i=!1}=t;switch(await wt(e,r,n,i)){case Bd.NameDashVersion:return`${r}-${n}`;case Bd.NameEqualsVersion:return`${r}=${n}`;case Bd.Name:return r;default:throw Error(`Could not find package '${r}' ${n??"with unspecified version"}`)}}(t,e);return await mt(r)?void 0:r}async function wt(e,t,r,n){const i=void 0!==r&&""!==r,o=!i||n;if(i){if(await async function(e,t,r){try{const{stdout:n}=await z("apt-cache",["search","--names-only",`^${He(t)}-${He(r)}$`],{env:ft(e),stdio:"pipe"});if(""!==n.trim())return!0}catch{}return!1}(e,t,r))return Bd.NameDashVersion;if(await gt(e,`${t}=${r}`))return Bd.NameEqualsVersion}const s=()=>{i&&n&&M(`Could not find package ${t} ${r}. Falling back to latest version.`)};return o&&await gt(e,t)?(s(),Bd.Name):Md?o?(s(),Bd.Name):Bd.None:(Gd(e),wt(e,t,r,n))}async function gt(e,t){try{const{stdout:r}=await z("apt-cache",["show",t],{env:ft(e),stdio:"pipe",verbose:!0});if(""!==r.trim())return!0}catch{}return!1}async function Et(){if(await mt("software-properties-common"))return;const e="apt-get";te(e,["install","-y","--fix-broken","-o",Ud,"software-properties-common"],{...wu,env:ft(e)})}async function _t(e,t=!1){try{const n=lt();for(const{name:t,version:r}of e)M(`Installing ${t} ${r??""} via ${n}`);t&&Gd.clear(),Gd(n),await async function(e,t){const r=[...new Set(t.flatMap(e=>e.repository??[]))];await Promise.all(r.map(t=>async function(e,t=lt()){await Vd(t),await Et(),te("add-apt-repository",["-y",qd(t)?"--no-update":void 0,e].filter(e=>void 0!==e),{...wu,env:ft(t)}),Gd.clear(),Gd(t)}(t,e)))}(n,e);const i=await yt(e,n);if(0===i.length)return M("All packages are already installed"),{binDir:"/usr/bin/"};await Vd(n);try{await async function(e){await Promise.all(e.map(async e=>{var t;void 0!==e.key&&await(t=e.key,"keyUrl"in t?pt(t):async function({key:e,keyServer:t=jd,fileName:r,keyStorePath:n=jd}){try{ht(r);const i=Gn(n,r);return await Ce(i)||(dt(),await re("gpg",["--no-default-keyring","--keyring","gnupg-ring:"+i,"--keyserver",t,"--recv-keys",e]),await re("chmod",["644",i])),i}catch(i){return void j(`Failed to add apt key via server ${t}: ${i}`)}}(t))}))}(e),te(n,["install","--fix-broken","-y",...i],{...wu,env:ft(n)})}catch(r){if(!function(e){return"string"==typeof e.stderr}(r))throw r;zd.some(e=>"string"==typeof r.stderr&&r.stderr.includes(e))&&(j(`Failed to install packages ${i}. Retrying...`),te(n,["install","--fix-broken","-y","-o",Ud,...i],{...wu,env:ft(n)}))}return{binDir:"/usr/bin/"}}catch(r){throw Error("Failed to install apt packages: "+(r instanceof Error?`${r.message}\n${r.stack}`:r+""))}}async function bt(){if(!ut())return;if("string"==typeof Wd)return{binDir:Wd};const e=hu.sync("apt-fast",{nothrow:!0});return null!==e?(Wd=Xn(e),{binDir:Wd}):(Wd="/usr/bin",await async function(){const e=_t([{name:"bash"},{name:"wget"}]),t=new Dd.DownloaderHelper("https://raw.githubusercontent.com/ilikenwf/apt-fast/c2cd0a0420d3f2d647dc82cf749bfd58c4697dac/quick-install.sh",Un(),{fileName:"install-apt-fast.sh"});t.on("error",e=>{throw Error("Failed to download install-apt-fast.sh: "+e)}),await t.start();const r=Gn(Un(),"install-apt-fast.sh");let n=await Ai(r,"utf8");n=n.replace(/sudo/g,"").replace("https://raw.githubusercontent.com/ilikenwf/apt-fast/master","https://raw.githubusercontent.com/Rongronggg9/apt-fast/ac82051792f764220e5e303d4560de0f1952826b"),await ki(r,n),await e;try{te("bash",[r])}catch(c){D("Failed to install apt-fast via installer: "+c)}const i="/etc/apt-fast.conf";let o=await Ai(i,"utf8");const s=["_APTMGR","DOWNLOADBEFORE"];for(const u of s)o=o.replace(RegExp("^#\\s*"+u,"m"),u);const a=Gn(Un(),"apt-fast.conf");await ki(a,o),te("mv",[a,i])}(),{binDir:Wd})}async function St(e={}){if(!["darwin","linux"].includes(process.platform)||"linux"===process.platform&&"x64"!==process.arch)return void j(`Brew is not supported on ${process.platform} ${process.arch}`);if("string"==typeof Kd)return{binDir:Kd};const t=await hu("brew",{nothrow:!0});if(null!==t)return Kd=Xn(t),{binDir:Kd};await _t([{name:"ca-certificates"}]);const r=new Dd.DownloaderHelper("https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh",Un(),{fileName:"install-brew.sh"});return r.on("error",e=>{throw Error("Failed to download the brew installer script: "+e)}),await r.start(),W("/bin/bash",[r.getDownloadPath()],{stdio:"inherit",env:{NONINTERACTIVE:"1"}}),Kd=Ot(),await je(Kd,e.rcOptions),{binDir:Kd}}function Ot(){return Gn(It(),"bin")}function Rt(){return Gn(Ot(),"brew")}function It(){if("darwin"===process.platform)return"arm64"===process.arch?"/opt/homebrew":"/usr/local";if("linux"===process.platform)return"/home/linuxbrew/.linuxbrew";throw Error("Unsupported platform for brew")}function Pt(e,t){return void 0!==t&&""!==t?`${e}@${t}`:e}async function xt(e){try{const t=Rt();return(await z(t,["--prefix",e],{stdio:"pipe"})).stdout}catch{return}}async function Tt(e,t,r={}){"overwrite"in r||(r.overwrite=!0),!0===r.cask&&(r.overwrite=!1),M(`Installing ${e} ${t??""} via brew`),Yd&&null!==hu.sync("brew",{nothrow:!0})||(await St(),Yd=!0);const n=Rt(),i=["install",Pt(e,t)];for(const[a,c]of Object.entries(r))"boolean"==typeof c&&c?i.push("--"+a):"string"==typeof c&&i.push("--"+a,c);const o=W(n,[...i,"--dry-run"],{stdio:"pipe"});0===o.exitCode&&RegExp(`.*${e}.* is already installed and up-to-date.[\\s\\S]*`).test(o.stderr)?M(`${e} ${t??""} is already installed and up-to-date`):W(n,i,{stdio:"inherit"});const s=await async function(e,t){const r=Pt(e,t),n=await xt(r);if(void 0!==n)return n;const i=await xt(e);return void 0!==i?i:function(e,t){const r=It(),n=Gn(r,"opt",t);if(Zn(n))return n;const i=Gn(r,"opt",e);if(Zn(i))return i;const o=Gn(r,"Cellar",t);if(Zn(o))return o;const s=Gn(r,"Cellar",e);if(Zn(s))return s;const a=Gn(r,"lib",t);if(Zn(a))return a;const c=Gn(r,"lib",e);return Zn(c)?c:void 0}(e,r)}(e,t);return void 0===s?(j(`Failed to find installation directory for ${e} ${t}`),{binDir:Ot(),installDir:void 0}):{installDir:s,binDir:Gn(s,"bin")}}function Nt(e){const t=Pa.getInput(e.toLowerCase());if("false"!==t&&""!==t)return t}function $t(e,t){let r=`✅ ${e} was installed successfully:`;return void 0===t||("installDir"in t&&(r+="\n- The installation directory is "+t.installDir),""!==t.binDir&&(r+="\n- The binary directory is "+t.binDir)),r}async function Ct(){if("darwin"===process.platform)try{const e=await Jd.getExecOutput("xcrun --sdk macosx --show-sdk-path"),t=e.stdout||e.stderr;t?await De("SDKROOT",t.trim(),Qd):D("SDKROOT not set")}catch(e){D(e)}}function At(){return"linux"===process.platform&&(void 0===Zd&&(Zd=null!==hu.sync("dnf",{nothrow:!0})),Zd)}function Lt(){return"linux"===process.platform&&(void 0===eh&&(eh=null!==hu.sync("pacman",{nothrow:!0})),eh)}async function kt(e){for(const{name:t,version:r}of e)M(`Installing ${t} ${r??""} via dnf`);return te("dnf",["-y","install",...await Promise.all(e.map(e=>async function(e,t){if(void 0===t||""===t)return e;const{stdout:r}=await z("dnf",["search","-q",`${e}-${t}`]);if(""!==r.trim())return`${e}-${t}`;const{stdout:n}=await z("dnf",["search","-q",`${e}${t}`]);return""!==n.trim()?`${e}${t}`:(j(`Failed to install ${e} ${t} via dnf, trying without version`),e)}(e.name,e.version)))]),{binDir:"/usr/bin/"}}async function Dt(e,t,r){M(`Installing ${e} ${t??""} via pacman`);const n="pacman";"yay"===r&&function(){if(null===hu.sync("yay",{nothrow:!0}))try{te("pacman",["-S","--noconfirm","base-devel","git"]);const e=Gn(Un(),"yay");te("mkdir",["-p",e]),Q()?(j("Creating a non-root user to build yay"),te("useradd",["-m","-G","wheel","builder"]),te("passwd",["-d","builder"]),te("chown",["-R","builder:builder",e]),te("bash",["-c",'echo "builder ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers']),ih=!0,W("su",["-","builder","-c","git clone https://aur.archlinux.org/yay.git "+e],{stdio:"inherit"}),W("su",["-","builder","-c",`cd ${e} && makepkg -si --noconfirm`],{stdio:"inherit"})):(W("git",["clone","https://aur.archlinux.org/yay.git",e],{stdio:"inherit",cwd:Un()}),W("makepkg",["-si","--noconfirm"],{stdio:"inherit",cwd:e})),W("rm",["-rf",e],{stdio:"inherit"})}catch(e){throw Error(`Failed to install yay: ${e}. Install yay manually and re-run the script.`)}}(),th||"yay"===r||(te(n,["-Sy","--noconfirm"]),th=!0),rh||"yay"===r||(te(n,["-S","--noconfirm","base-devel"]),rh=!0);const i=e=>"yay"===r?Q()&&ih?te("su",["-","builder","-c","yay -S --noconfirm "+e]):W(r,["-S","--noconfirm",e]):te(r??n,["-S","--noconfirm",e]);if(void 0!==t&&""!==t){const r=await async function(e,t){const r=[];try{const{stdout:n}=await z(e,["-Si",t]);for(const e of n.matchAll(nh))r.push(e[1])}catch(n){j(`Failed to get available versions for ${t}: ${n}`)}return r}(n,e);if(r.includes(t))try{i(`${e}=${t}`)}catch{i(`${e}${t}`)}else M(`Failed to install ${e} ${t} via pacman, trying without version`),i(e)}else i(e);return{binDir:"/usr/bin/"}}async function Ft(e,t=ch){try{const r=await Jd.getExecOutput(e,["--version"]),n=r.stdout||r.stderr||"",i=n.trim().match(t)?.[1];return oh(i)??void 0}catch(r){return void console.error(r)}}async function jt(e,t,r=ch){const n=await Ft(e,r);if(void 0===n||""===t)return!1;try{return-1!==sh(n,t)}catch{return ah(n,t)}}function Ut(e){if(null===dd(e))try{const t=oh(e);if(null!==t)return M(`Coerced version '${e}' to '${t}'`),t.version}catch(t){}return e}async function Mt(){const e=Gn(qm,"gcc_matcher.json");if(!(await Ce(e)))return j("the gcc_matcher.json file does not exist in the same folder as setup-cpp.js");M("::add-matcher::"+e)}async function Gt(e){const t=await Ai(e,"utf-8");return JSON.parse(t)}function Bt(e,t){const r=Object.keys(e),n=new Map;if(void 0===t.filterMapTag)for(const a of r)n.set(a,a);else for(const a of r){const e=t.filterMapTag(a);void 0!==e&&n.set(e,a)}if(0===n.size)return;const i=t.versionSatisfies??ah,o=function(e){if(null===dd(e))try{const t=oh(e);if(null!==t){const r=/^[<=>^~]/.test(t.version)?t.version:"^"+t.version;return M(`Coerced version '${e}' to '${r}'`),r}}catch(t){}return e}(t.version),s=[];for(const[a,c]of n.entries())i(a,o)&&s.push(c);if(0!==s.length)for(const a of s){let r=e[a];if(void 0===r)continue;if(void 0!==t.filterName&&(r=r.filter(t.filterName)),0===r.length)continue;const n=Ht(a,r,t);if(void 0!==n)return n}}function Ht(e,t,r){if(!(void 0!==r.keywords&&0!==r.keywords.length||void 0!==r.optionalKeywords&&0!==r.optionalKeywords.length))return{tag:e,name:t[0]};let n=[];if(void 0!==r.keywords&&0!==r.keywords.length)for(const i of t)r.keywords.every(e=>!("string"!=typeof e||!i.includes(e))||Array.isArray(e)&&e.some(e=>i.includes(e)))&&n.push(i);else n=t;if(0!==n.length){if(void 0!==r.optionalKeywords&&0!==r.optionalKeywords.length){const t=n.map(e=>{let t=0;for(const n of r.optionalKeywords)("string"==typeof n&&e.includes(n)||Array.isArray(n)&&n.some(t=>e.includes(t)))&&t++;return t}),i=Math.max(...t);return{tag:e,name:n[t.indexOf(i)]}}return{tag:e,name:n[0]}}}function Vt(){return uh||(uh=1,Em.fromCallback=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((r,n)=>{t.push((e,t)=>null!=e?n(e):r(t)),e.apply(this,t)});e.apply(this,t)},"name",{value:e.name})},Em.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);t.pop(),e.apply(this,t).then(e=>r(null,e),r)},"name",{value:e.name})}),Em}function qt(){function e(e,t){Object.defineProperty(e,o,{get:function(){return t}})}function t(e){function n(e,t){return this instanceof n?(m.apply(this,arguments),this):n.apply(Object.create(n.prototype),arguments)}function i(e,t){return this instanceof i?(y.apply(this,arguments),this):i.apply(Object.create(i.prototype),arguments)}function o(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return g(t,n,i,function(a,c){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?"function"==typeof o&&o.apply(this,arguments):r([e,[t,n,i,o],a,s||Date.now(),Date.now()])})}(e,t,n,i)}c(e),e.gracefulify=t,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var s=e.readFile;e.readFile=function(e,t,n){return"function"==typeof t&&(n=t,t=null),function e(t,n,i,o){return s(t,n,function(s){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):r([e,[t,n,i],s,o||Date.now(),Date.now()])})}(e,t,n)};var a=e.writeFile;e.writeFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return a(t,n,i,function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?"function"==typeof o&&o.apply(this,arguments):r([e,[t,n,i,o],a,s||Date.now(),Date.now()])})}(e,t,n,i)};var l=e.appendFile;l&&(e.appendFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return l(t,n,i,function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?"function"==typeof o&&o.apply(this,arguments):r([e,[t,n,i,o],a,s||Date.now(),Date.now()])})}(e,t,n,i)});var f=e.copyFile;f&&(e.copyFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=0),function e(t,n,i,o,s){return f(t,n,i,function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?"function"==typeof o&&o.apply(this,arguments):r([e,[t,n,i,o],a,s||Date.now(),Date.now()])})}(e,t,n,i)});var p=e.readdir;e.readdir=function(e,t,n){function i(e,t,n,i){return function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(a&&a.sort&&a.sort(),"function"==typeof n&&n.call(this,s,a)):r([o,[e,t,n],s,i||Date.now(),Date.now()])}}"function"==typeof t&&(n=t,t=null);var o=d.test(process.version)?function(e,t,r,n){return p(e,i(e,t,r,n))}:function(e,t,r,n){return p(e,t,i(e,t,r,n))};return o(e,t,n)};var d=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var h=u(e);n=h.ReadStream,i=h.WriteStream}var m=e.ReadStream;m&&(n.prototype=Object.create(m.prototype),n.prototype.open=function(){var e=this;o(e.path,e.flags,e.mode,function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())})});var y=e.WriteStream;y&&(i.prototype=Object.create(y.prototype),i.prototype.open=function(){var e=this;o(e.path,e.flags,e.mode,function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))})}),Object.defineProperty(e,"ReadStream",{get:function(){return n},set:function(e){n=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return i},set:function(e){i=e},enumerable:!0,configurable:!0});var v=n;Object.defineProperty(e,"FileReadStream",{get:function(){return v},set:function(e){v=e},enumerable:!0,configurable:!0});var w=i;Object.defineProperty(e,"FileWriteStream",{get:function(){return w},set:function(e){w=e},enumerable:!0,configurable:!0});var g=e.open;return e.open=o,e}function r(e){d("ENQUEUE",e[0].name,e[1]),a[o].push(e),i()}function n(){for(var e=Date.now(),t=0;a[o].length>t;++t)a[o][t].length>2&&(a[o][t][3]=e,a[o][t][4]=e);i()}function i(){if(clearTimeout(p),p=void 0,0!==a[o].length){var e=a[o].shift(),t=e[0],r=e[1],n=e[2],s=e[3],c=e[4];if(void 0===s)d("RETRY",t.name,r),t.apply(null,r);else if(6e4>Date.now()-s){var u=Date.now()-c;Math.min(1.2*Math.max(c-s,1),100)>u?a[o].push(e):(d("RETRY",t.name,r),t.apply(null,r.concat([s])))}else{d("TIMEOUT",t.name,r);var l=r.pop();"function"==typeof l&&l.call(null,n)}void 0===p&&(p=setTimeout(i,0))}}if(vh)return yh;vh=1;var o,s,a=Jn,c=function(){if(fh)return lh;fh=1;var e=Mi,t=process.cwd,r=null,n=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return r||(r=t.call(process)),r};try{process.cwd()}catch(o){}if("function"==typeof process.chdir){var i=process.chdir;process.chdir=function(e){r=null,i.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,i)}return lh=function(t){function r(e){return e?function(r,n,i){return e.call(t,r,n,function(e){l(e)&&(e=null),i&&i.apply(this,arguments)})}:e}function i(e){return e?function(r,n){try{return e.call(t,r,n)}catch(o){if(!l(o))throw o}}:e}function s(e){return e?function(r,n,i,o){return e.call(t,r,n,i,function(e){l(e)&&(e=null),o&&o.apply(this,arguments)})}:e}function a(e){return e?function(r,n,i){try{return e.call(t,r,n,i)}catch(o){if(!l(o))throw o}}:e}function c(e){return e?function(r,n,i){function o(e,t){t&&(0>t.uid&&(t.uid+=4294967296),0>t.gid&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?e.call(t,r,n,o):e.call(t,r,o)}:e}function u(e){return e?function(r,n){var i=n?e.call(t,r,n):e.call(t,r);return i&&(0>i.uid&&(i.uid+=4294967296),0>i.gid&&(i.gid+=4294967296)),i}:e}function l(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var f;e.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&((f=t).lchmod=function(t,r,n){f.open(t,e.O_WRONLY|e.O_SYMLINK,r,function(e,t){e?n&&n(e):f.fchmod(t,r,function(e){f.close(t,function(t){n&&n(e||t)})})})},f.lchmodSync=function(t,r){var n,i=f.openSync(t,e.O_WRONLY|e.O_SYMLINK,r),s=!0;try{n=f.fchmodSync(i,r),s=!1}finally{if(s)try{f.closeSync(i)}catch(o){}else f.closeSync(i)}return n}),t.lutimes||function(t){e.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(r,n,i,o){t.open(r,e.O_SYMLINK,function(e,r){e?o&&o(e):t.futimes(r,n,i,function(e){t.close(r,function(t){o&&o(e||t)})})})},t.lutimesSync=function(r,n,i){var s,a=t.openSync(r,e.O_SYMLINK),c=!0;try{s=t.futimesSync(a,n,i),c=!1}finally{if(c)try{t.closeSync(a)}catch(o){}else t.closeSync(a)}return s}):t.futimes&&(t.lutimes=function(e,t,r,n){n&&process.nextTick(n)},t.lutimesSync=function(){})}(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=r(t.chmod),t.fchmod=r(t.fchmod),t.lchmod=r(t.lchmod),t.chownSync=a(t.chownSync),t.fchownSync=a(t.fchownSync),t.lchownSync=a(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=c(t.stat),t.fstat=c(t.fstat),t.lstat=c(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(e,t,r){r&&process.nextTick(r)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(e,t,r,n){n&&process.nextTick(n)},t.lchownSync=function(){}),"win32"===n&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function r(r,n,i){var o=Date.now(),s=0;e(r,n,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&6e4>Date.now()-o)return setTimeout(function(){t.stat(n,function(t,o){t&&"ENOENT"===t.code?e(r,n,a):i(c)})},s),void(100>s&&(s+=10));i&&i(c)})}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.rename)),t.read="function"!=typeof t.read?t.read:function(e){function r(r,n,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,f,p){if(l&&"EAGAIN"===l.code&&10>u)return u++,e.call(t,r,n,i,o,s,c);a.apply(this,arguments)}}return e.call(t,r,n,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:function(e){return function(r,n,i,s,a){for(var c=0;;)try{return e.call(t,r,n,i,s,a)}catch(o){if("EAGAIN"===o.code&&10>c){c++;continue}throw o}}}(t.readSync)},lh}(),u=function(){if(dh)return ph;dh=1;var e=Ni.Stream;return ph=function(t){return{ReadStream:function r(n,i){if(!(this instanceof r))return new r(n,i);e.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536;for(var s=Object.keys(i=i||{}),a=0,c=s.length;c>a;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw Error("start must be <= end");this.pos=this.start}null===this.fd?t.open(this.path,this.flags,this.mode,function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}):process.nextTick(function(){o._read()})},WriteStream:function r(n,i){if(!(this instanceof r))return new r(n,i);e.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0;for(var o=Object.keys(i=i||{}),s=0,a=o.length;a>s;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(0>this.start)throw Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}}(),l=function(){if(mh)return hh;mh=1,hh=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var r={__proto__:e(t)};else r=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}),r};var e=Object.getPrototypeOf||function(e){return e.__proto__};return hh}(),f=pi;"function"==typeof Symbol&&"function"==typeof Symbol.for?(o=Symbol.for("graceful-fs.queue"),s=Symbol.for("graceful-fs.previous")):(o="___graceful-fs.queue",s="___graceful-fs.previous");var p,d=function(){};return f.debuglog?d=f.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var e=f.format.apply(f,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),a[o]||(e(a,Ps[o]||[]),a.close=function(e){function t(t,r){return e.call(a,t,function(e){e||n(),"function"==typeof r&&r.apply(this,arguments)})}return Object.defineProperty(t,s,{value:e}),t}(a.close),a.closeSync=function(e){function t(t){e.apply(a,arguments),n()}return Object.defineProperty(t,s,{value:e}),t}(a.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){d(a[o]),fi.equal(a[o].length,0)})),Ps[o]||e(Ps,a[o]),yh=t(l(a)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!a.__patched&&(yh=t(a),a.__patched=!0),yh}function zt(){return wh||(wh=1,function(e){const t=Vt().fromCallback,r=qt(),n=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof r[e]);Object.assign(e,r),n.forEach(n=>{e[n]=t(r[n])}),e.exists=function(e,t){return"function"==typeof t?r.exists(e,t):new Promise(t=>r.exists(e,t))},e.read=function(e,t,n,i,o,s){return"function"==typeof s?r.read(e,t,n,i,o,s):new Promise((s,a)=>{r.read(e,t,n,i,o,(e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})})})},e.write=function(e,t,...n){return"function"==typeof n[n.length-1]?r.write(e,t,...n):new Promise((i,o)=>{r.write(e,t,...n,(e,t,r)=>{if(e)return o(e);i({bytesWritten:t,buffer:r})})})},e.readv=function(e,t,...n){return"function"==typeof n[n.length-1]?r.readv(e,t,...n):new Promise((i,o)=>{r.readv(e,t,...n,(e,t,r)=>{if(e)return o(e);i({bytesRead:t,buffers:r})})})},e.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?r.writev(e,t,...n):new Promise((i,o)=>{r.writev(e,t,...n,(e,t,r)=>{if(e)return o(e);i({bytesWritten:t,buffers:r})})})},"function"==typeof r.realpath.native?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(gm)),gm}function Wt(){if(gh)return bm;gh=1;const e=Mn;return bm.checkPath=function(t){if("win32"===process.platform&&/[<>:"|?*]/.test(t.replace(e.parse(t).root,""))){const e=Error("Path contains invalid characters: "+t);throw e.code="EINVAL",e}},bm}function Xt(){if(Eh)return _m;Eh=1;const e=zt(),{checkPath:t}=Wt(),r=e=>"number"==typeof e?e:{mode:511,...e}.mode;return _m.makeDir=async(n,i)=>(t(n),e.mkdir(n,{mode:r(i),recursive:!0})),_m.makeDirSync=(n,i)=>(t(n),e.mkdirSync(n,{mode:r(i),recursive:!0})),_m}function Kt(){if(bh)return _h;bh=1;const e=Vt().fromPromise,{makeDir:t,makeDirSync:r}=Xt(),n=e(t);return _h={mkdirs:n,mkdirsSync:r,mkdirp:n,mkdirpSync:r,ensureDir:n,ensureDirSync:r}}function Yt(){if(Oh)return Sh;Oh=1;const e=Vt().fromPromise,t=zt();return Sh={pathExists:e(function(e){return t.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:t.existsSync}}function Jt(){if(Ih)return Rh;Ih=1;const e=zt(),t=Vt().fromPromise;return Rh={utimesMillis:t(async function(t,r,n){const i=await e.open(t,"r+");let o=null;try{await e.futimes(i,r,n)}finally{try{await e.close(i)}catch(s){o=s}}if(o)throw o}),utimesMillisSync:function(t,r,n){const i=e.openSync(t,"r+");return e.futimesSync(i,r,n),e.closeSync(i)}}}function Qt(){function e(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function t(e,t){const r=i.resolve(e).split(i.sep).filter(e=>e),n=i.resolve(t).split(i.sep).filter(e=>e);return r.every((e,t)=>n[t]===e)}function r(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}if(xh)return Ph;xh=1;const n=zt(),i=Mn,o=Vt().fromPromise;return Ph={checkPaths:o(async function(o,s,a,c){const{srcStat:u,destStat:l}=await function(e,t,r){const i=r.dereference?e=>n.stat(e,{bigint:!0}):e=>n.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}(o,s,c);if(l){if(e(u,l)){const e=i.basename(o),t=i.basename(s);if("move"===a&&e!==t&&e.toLowerCase()===t.toLowerCase())return{srcStat:u,destStat:l,isChangingCase:!0};throw Error("Source and destination must not be the same.")}if(u.isDirectory()&&!l.isDirectory())throw Error(`Cannot overwrite non-directory '${s}' with directory '${o}'.`);if(!u.isDirectory()&&l.isDirectory())throw Error(`Cannot overwrite directory '${s}' with non-directory '${o}'.`)}if(u.isDirectory()&&t(o,s))throw Error(r(o,s,a));return{srcStat:u,destStat:l}}),checkPathsSync:function(o,s,a,c){const{srcStat:u,destStat:l}=function(e,t,r){let i;const o=r.dereference?e=>n.statSync(e,{bigint:!0}):e=>n.lstatSync(e,{bigint:!0}),s=o(e);try{i=o(t)}catch(a){if("ENOENT"===a.code)return{srcStat:s,destStat:null};throw a}return{srcStat:s,destStat:i}}(o,s,c);if(l){if(e(u,l)){const e=i.basename(o),t=i.basename(s);if("move"===a&&e!==t&&e.toLowerCase()===t.toLowerCase())return{srcStat:u,destStat:l,isChangingCase:!0};throw Error("Source and destination must not be the same.")}if(u.isDirectory()&&!l.isDirectory())throw Error(`Cannot overwrite non-directory '${s}' with directory '${o}'.`);if(!u.isDirectory()&&l.isDirectory())throw Error(`Cannot overwrite directory '${s}' with non-directory '${o}'.`)}if(u.isDirectory()&&t(o,s))throw Error(r(o,s,a));return{srcStat:u,destStat:l}},checkParentPaths:o(async function t(o,s,a,c){const u=i.resolve(i.dirname(o)),l=i.resolve(i.dirname(a));if(l===u||l===i.parse(l).root)return;let f;try{f=await n.stat(l,{bigint:!0})}catch(p){if("ENOENT"===p.code)return;throw p}if(e(s,f))throw Error(r(o,a,c));return t(o,s,l,c)}),checkParentPathsSync:function t(o,s,a,c){const u=i.resolve(i.dirname(o)),l=i.resolve(i.dirname(a));if(l===u||l===i.parse(l).root)return;let f;try{f=n.statSync(l,{bigint:!0})}catch(p){if("ENOENT"===p.code)return;throw p}if(e(s,f))throw Error(r(o,a,c));return t(o,s,l,c)},isSrcSubdir:t,areIdentical:e}}function Zt(){async function e(e,t,r){return!r.filter||r.filter(e,t)}async function t(o,s,a,u){const l=u.dereference?n.stat:n.lstat,f=await l(s);if(f.isDirectory())return async function(r,o,s,a,u){o||await n.mkdir(a);const l=[];for await(const f of await n.opendir(s)){const r=i.join(s,f.name),n=i.join(a,f.name);l.push(e(r,n,u).then(e=>{if(e)return c.checkPaths(r,n,"copy",u).then(({destStat:e})=>t(e,r,n,u))}))}await Promise.all(l),o||await n.chmod(a,r.mode)}(f,o,s,a,u);if(f.isFile()||f.isCharacterDevice()||f.isBlockDevice())return async function(e,t,i,o,s){if(!t)return r(e,i,o,s);if(s.overwrite)return await n.unlink(o),r(e,i,o,s);if(s.errorOnExist)throw Error(`'${o}' already exists`)}(f,o,s,a,u);if(f.isSymbolicLink())return async function(e,t,r,o){let s=await n.readlink(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),!e)return n.symlink(s,r);let a=null;try{a=await n.readlink(r)}catch(u){if("EINVAL"===u.code||"UNKNOWN"===u.code)return n.symlink(s,r);throw u}if(o.dereference&&(a=i.resolve(process.cwd(),a)),c.isSrcSubdir(s,a))throw Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`);if(c.isSrcSubdir(a,s))throw Error(`Cannot overwrite '${a}' with '${s}'.`);return await n.unlink(r),n.symlink(s,r)}(o,s,a,u);if(f.isSocket())throw Error("Cannot copy a socket file: "+s);if(f.isFIFO())throw Error("Cannot copy a FIFO pipe: "+s);throw Error("Unknown file: "+s)}async function r(e,t,r,i){if(await n.copyFile(t,r),i.preserveTimestamps){128&e.mode||await function(e,t){return n.chmod(e,128|t)}(r,e.mode);const i=await n.stat(t);await a(r,i.atime,i.mtime)}return n.chmod(r,e.mode)}if(Nh)return Th;Nh=1;const n=zt(),i=Mn,{mkdirs:o}=Kt(),{pathExists:s}=Yt(),{utimesMillis:a}=Jt(),c=Qt();return Th=async function(r,n,a={}){"function"==typeof a&&(a={filter:a}),a.clobber=!("clobber"in a)||!!a.clobber,a.overwrite="overwrite"in a?!!a.overwrite:a.clobber,a.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:u,destStat:l}=await c.checkPaths(r,n,"copy",a);if(await c.checkParentPaths(r,u,n,"copy"),!(await e(r,n,a)))return;const f=i.dirname(n);await s(f)||await o(f),await t(l,r,n,a)}}function er(){function e(e,i,a,c){const l=(c.dereference?o.statSync:o.lstatSync)(i);if(l.isDirectory())return function(e,t,i,s,a){return t?n(i,s,a):function(e,t,i,s){return o.mkdirSync(i),n(t,i,s),r(i,e)}(e.mode,i,s,a)}(l,e,i,a,c);if(l.isFile()||l.isCharacterDevice()||l.isBlockDevice())return function(e,r,n,i,s){return r?function(e,r,n,i){if(i.overwrite)return o.unlinkSync(n),t(e,r,n,i);if(i.errorOnExist)throw Error(`'${n}' already exists`)}(e,n,i,s):t(e,n,i,s)}(l,e,i,a,c);if(l.isSymbolicLink())return function(e,t,r,n){let i=o.readlinkSync(t);if(n.dereference&&(i=s.resolve(process.cwd(),i)),e){let e;try{e=o.readlinkSync(r)}catch(a){if("EINVAL"===a.code||"UNKNOWN"===a.code)return o.symlinkSync(i,r);throw a}if(n.dereference&&(e=s.resolve(process.cwd(),e)),u.isSrcSubdir(i,e))throw Error(`Cannot copy '${i}' to a subdirectory of itself, '${e}'.`);if(u.isSrcSubdir(e,i))throw Error(`Cannot overwrite '${e}' with '${i}'.`);return function(e,t){return o.unlinkSync(t),o.symlinkSync(e,t)}(i,r)}return o.symlinkSync(i,r)}(e,i,a,c);if(l.isSocket())throw Error("Cannot copy a socket file: "+i);if(l.isFIFO())throw Error("Cannot copy a FIFO pipe: "+i);throw Error("Unknown file: "+i)}function t(e,t,n,i){return o.copyFileSync(t,n),i.preserveTimestamps&&function(e,t,n){(function(e){return!(128&e)})(e)&&function(e,t){r(e,128|t)}(n,e),function(e,t){const r=o.statSync(e);c(t,r.atime,r.mtime)}(t,n)}(e.mode,t,n),r(n,e.mode)}function r(e,t){return o.chmodSync(e,t)}function n(e,t,r){const n=o.opendirSync(e);try{let o;for(;null!==(o=n.readSync());)i(o.name,e,t,r)}finally{n.closeSync()}}function i(t,r,n,i){const o=s.join(r,t),a=s.join(n,t);if(i.filter&&!i.filter(o,a))return;const{destStat:c}=u.checkPathsSync(o,a,"copy",i);return e(c,o,a,i)}if(Ch)return $h;Ch=1;const o=qt(),s=Mn,a=Kt().mkdirsSync,c=Jt().utimesMillisSync,u=Qt();return $h=function(t,r,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:i,destStat:c}=u.checkPathsSync(t,r,"copy",n);if(u.checkParentPathsSync(t,i,r,"copy"),n.filter&&!n.filter(t,r))return;const l=s.dirname(r);return o.existsSync(l)||a(l),e(c,t,r,n)}}function tr(){if(Lh)return Ah;Lh=1;const e=Vt().fromPromise;return Ah={copy:e(Zt()),copySync:er()}}function rr(){if(Dh)return kh;Dh=1;const e=qt(),t=Vt().fromCallback;return kh={remove:t(function(t,r){e.rm(t,{recursive:!0,force:!0},r)}),removeSync:function(t){e.rmSync(t,{recursive:!0,force:!0})}}}function nr(){function e(e){let t;try{t=r.readdirSync(e)}catch{return i.mkdirsSync(e)}t.forEach(t=>{t=n.join(e,t),o.removeSync(t)})}if(jh)return Fh;jh=1;const t=Vt().fromPromise,r=zt(),n=Mn,i=Kt(),o=rr(),s=t(async function(e){let t;try{t=await r.readdir(e)}catch{return i.mkdirs(e)}return Promise.all(t.map(t=>o.remove(n.join(e,t))))});return Fh={emptyDirSync:e,emptydirSync:e,emptyDir:s,emptydir:s}}function ir(){if(Mh)return Uh;Mh=1;const e=Vt().fromPromise,t=Mn,r=zt(),n=Kt();return Uh={createFile:e(async function(e){let i;try{i=await r.stat(e)}catch{}if(i&&i.isFile())return;const o=t.dirname(e);let s=null;try{s=await r.stat(o)}catch(a){if("ENOENT"===a.code)return await n.mkdirs(o),void(await r.writeFile(e,""));throw a}s.isDirectory()?await r.writeFile(e,""):await r.readdir(o)}),createFileSync:function(e){let i;try{i=r.statSync(e)}catch{}if(i&&i.isFile())return;const o=t.dirname(e);try{r.statSync(o).isDirectory()||r.readdirSync(o)}catch(s){if(!s||"ENOENT"!==s.code)throw s;n.mkdirsSync(o)}r.writeFileSync(e,"")}}}function or(){if(Bh)return Gh;Bh=1;const e=Vt().fromPromise,t=Mn,r=zt(),n=Kt(),{pathExists:i}=Yt(),{areIdentical:o}=Qt();return Gh={createLink:e(async function(e,s){let a,c;try{a=await r.lstat(s)}catch{}try{c=await r.lstat(e)}catch(l){throw l.message=l.message.replace("lstat","ensureLink"),l}if(a&&o(c,a))return;const u=t.dirname(s);await i(u)||await n.mkdirs(u),await r.link(e,s)}),createLinkSync:function(e,i){let s;try{s=r.lstatSync(i)}catch{}try{const t=r.lstatSync(e);if(s&&o(t,s))return}catch(c){throw c.message=c.message.replace("lstat","ensureLink"),c}const a=t.dirname(i);return r.existsSync(a)||n.mkdirsSync(a),r.linkSync(e,i)}}}function sr(){if(Vh)return Hh;Vh=1;const e=Mn,t=zt(),{pathExists:r}=Yt(),n=Vt().fromPromise;return Hh={symlinkPaths:n(async function(n,i){if(e.isAbsolute(n)){try{await t.lstat(n)}catch(a){throw a.message=a.message.replace("lstat","ensureSymlink"),a}return{toCwd:n,toDst:n}}const o=e.dirname(i),s=e.join(o,n);if(await r(s))return{toCwd:s,toDst:n};try{await t.lstat(n)}catch(a){throw a.message=a.message.replace("lstat","ensureSymlink"),a}return{toCwd:n,toDst:e.relative(o,n)}}),symlinkPathsSync:function(r,n){if(e.isAbsolute(r)){if(!t.existsSync(r))throw Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}const i=e.dirname(n),o=e.join(i,r);if(t.existsSync(o))return{toCwd:o,toDst:r};if(!t.existsSync(r))throw Error("relative srcpath does not exist");return{toCwd:r,toDst:e.relative(i,r)}}}}function ar(){if(zh)return qh;zh=1;const e=zt(),t=Vt().fromPromise;return qh={symlinkType:t(async function(t,r){if(r)return r;let n;try{n=await e.lstat(t)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}),symlinkTypeSync:function(t,r){if(r)return r;let n;try{n=e.lstatSync(t)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}}function cr(){if(Xh)return Wh;Xh=1;const e=Vt().fromPromise,t=Mn,r=zt(),{mkdirs:n,mkdirsSync:i}=Kt(),{symlinkPaths:o,symlinkPathsSync:s}=sr(),{symlinkType:a,symlinkTypeSync:c}=ar(),{pathExists:u}=Yt(),{areIdentical:l}=Qt();return Wh={createSymlink:e(async function(e,i,s){let c;try{c=await r.lstat(i)}catch{}if(c&&c.isSymbolicLink()){const[t,n]=await Promise.all([r.stat(e),r.stat(i)]);if(l(t,n))return}const f=await o(e,i);e=f.toDst;const p=await a(f.toCwd,s),d=t.dirname(i);return await u(d)||await n(d),r.symlink(e,i,p)}),createSymlinkSync:function(e,n,o){let a;try{a=r.lstatSync(n)}catch{}if(a&&a.isSymbolicLink()){const t=r.statSync(e),i=r.statSync(n);if(l(t,i))return}const u=s(e,n);e=u.toDst,o=c(u.toCwd,o);const f=t.dirname(n);return r.existsSync(f)||i(f),r.symlinkSync(e,n,o)}}}function ur(){if(Yh)return Kh;Yh=1;const{createFile:e,createFileSync:t}=ir(),{createLink:r,createLinkSync:n}=or(),{createSymlink:i,createSymlinkSync:o}=cr();return Kh={createFile:e,createFileSync:t,ensureFile:e,ensureFileSync:t,createLink:r,createLinkSync:n,ensureLink:r,ensureLinkSync:n,createSymlink:i,createSymlinkSync:o,ensureSymlink:i,ensureSymlinkSync:o}}function lr(){return Qh?Jh:(Qh=1,Jh={stringify:function(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:i}={}){const o=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}})}function fr(){if(rm)return tm;rm=1;const e=function(){if(em)return Zh;let e;em=1;try{e=qt()}catch(s){e=Jn}const t=Vt(),{stringify:r,stripBom:n}=lr(),i=t.fromPromise(async function(r,i={}){"string"==typeof i&&(i={encoding:i});const o=i.fs||e,s=!("throws"in i)||i.throws;let a,c=await t.fromCallback(o.readFile)(r,i);c=n(c);try{a=JSON.parse(c,i?i.reviver:null)}catch(u){if(s)throw u.message=`${r}: ${u.message}`,u;return null}return a}),o=t.fromPromise(async function(n,i,o={}){const s=o.fs||e,a=r(i,o);await t.fromCallback(s.writeFile)(n,a,o)});return Zh={readFile:i,readFileSync:function(t,r={}){"string"==typeof r&&(r={encoding:r});const i=r.fs||e,o=!("throws"in r)||r.throws;try{let e=i.readFileSync(t,r);return e=n(e),JSON.parse(e,r.reviver)}catch(s){if(o)throw s.message=`${t}: ${s.message}`,s;return null}},writeFile:o,writeFileSync:function(t,n,i={}){const o=i.fs||e,s=r(n,i);return o.writeFileSync(t,s,i)}}}();return tm={readJson:e.readFile,readJsonSync:e.readFileSync,writeJson:e.writeFile,writeJsonSync:e.writeFileSync}}function pr(){if(im)return nm;im=1;const e=Vt().fromPromise,t=zt(),r=Mn,n=Kt(),i=Yt().pathExists;return nm={outputFile:e(async function(e,o,s="utf-8"){const a=r.dirname(e);return await i(a)||await n.mkdirs(a),t.writeFile(e,o,s)}),outputFileSync:function(e,...i){const o=r.dirname(e);t.existsSync(o)||n.mkdirsSync(o),t.writeFileSync(e,...i)}}}function dr(){if(sm)return om;sm=1;const{stringify:e}=lr(),{outputFile:t}=pr();return om=async function(r,n,i={}){const o=e(n,i);await t(r,o,i)}}function hr(){if(cm)return am;cm=1;const{stringify:e}=lr(),{outputFileSync:t}=pr();return am=function(r,n,i){const o=e(n,i);t(r,o,i)}}function mr(){if(lm)return um;lm=1;const e=Vt().fromPromise,t=fr();return t.outputJson=e(dr()),t.outputJsonSync=hr(),t.outputJSON=t.outputJson,t.outputJSONSync=t.outputJsonSync,t.writeJSON=t.writeJson,t.writeJSONSync=t.writeJsonSync,t.readJSON=t.readJson,t.readJSONSync=t.readJsonSync,um=t}function yr(){if(pm)return fm;pm=1;const e=zt(),t=Mn,{copy:r}=tr(),{remove:n}=rr(),{mkdirp:i}=Kt(),{pathExists:o}=Yt(),s=Qt();return fm=async function(a,c,u={}){const l=u.overwrite||u.clobber||!1,{srcStat:f,isChangingCase:p=!1}=await s.checkPaths(a,c,"move",u);await s.checkParentPaths(a,f,c,"move");const d=t.dirname(c);return t.parse(d).root!==d&&await i(d),async function(t,i,s,a){if(!a)if(s)await n(i);else if(await o(i))throw Error("dest already exists.");try{await e.rename(t,i)}catch(c){if("EXDEV"!==c.code)throw c;await async function(e,t,i){const o={overwrite:i,errorOnExist:!0,preserveTimestamps:!0};return await r(e,t,o),n(e)}(t,i,s)}}(a,c,l,p)}}function vr(){function e(e,r,o){try{t.renameSync(e,r)}catch(s){if("EXDEV"!==s.code)throw s;return function(e,t,r){return n(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),i(e)}(e,r,o)}}if(hm)return dm;hm=1;const t=qt(),r=Mn,n=tr().copySync,i=rr().removeSync,o=Kt().mkdirpSync,s=Qt();return dm=function(n,a,c){const u=(c=c||{}).overwrite||c.clobber||!1,{srcStat:l,isChangingCase:f=!1}=s.checkPathsSync(n,a,"move",c);return s.checkParentPathsSync(n,l,a,"move"),function(e){const t=r.dirname(e);return r.parse(t).root===t}(a)||o(r.dirname(a)),function(r,n,o,s){if(s)return e(r,n,o);if(o)return i(n),e(r,n,o);if(t.existsSync(n))throw Error("dest already exists.");return e(r,n,o)}(n,a,u,f)}}function wr(){if(ym)return mm;ym=1;const e=Vt().fromPromise;return mm={move:e(yr()),moveSync:vr()}}function gr(){return wm?vm:(wm=1,vm={...zt(),...tr(),...nr(),...ur(),...mr(),...Kt(),...wr(),...pr(),...Yt(),...rr()})}async function Er(e,t,r){if("win32"!==process.platform)return;if("string"==typeof Om)return{binDir:Om};const n=hu.sync("choco",{nothrow:!0});if(null!==n)return Om=Xn(n),{binDir:Om};let i="powershell.exe";const o=hu.sync(process.env.SystemRoot+"\\System32\\WindowsPowerShell\\v1.0\\powershell.exe",{nothrow:!0});null!==o&&(i=o),W(i,["-NoProfile","-InputFormat","None","-ExecutionPolicy","Bypass","-Command","[System.Net.ServicePointManager]::SecurityProtocol = 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))"],{stdio:"inherit"});const s=process.env.ALLUSERSPROFILE+"\\chocolatey\\bin";await je(s,Qd);const a=hu.sync("choco",{nothrow:!0});return Om=null!==a?Xn(a):(process.env.ChocolateyInstall??"C:/ProgramData/chocolatey")+"/bin",await Ce(Om)?{binDir:Om}:void 0}async function _r(e,t,r=[]){M(`Installing ${e} ${t??""} via chocolatey`),Rm&&null!==hu.sync("choco",{nothrow:!0})||(await Er(0,0,process),Rm=!0);const n=process.env.PATH,i={...process.env};if(i.TMP=void 0,i.TEMP=void 0,i.Path=void 0,i.PATH=n,void 0!==t&&""!==t)W("choco",["install","-y",e,"--version="+t,...r],{env:i,extendEnv:!1,stdio:"inherit"});else try{W("choco",["install","-y",e,...r],{env:i,extendEnv:!1,stdio:"inherit"})}catch(s){if(!s.message.includes("exit code 3010"))throw s;M(e+" might require a reboot for the completion of the installation.")}const o=(process.env.ChocolateyInstall??"C:/ProgramData/chocolatey")+"/bin";return await je(o,Qd),{binDir:o}}async function br(e,t,r){switch(process.platform){case"win32":return _r("7zip",e);case"darwin":return Tt("p7zip",e);case"linux":if(Lt())return Dt("p7zip",e);if(At())return kt([{name:"p7zip",version:e},{name:"p7zip-plugins",version:e}]);if(ut())return _t([{name:"p7zip-full",version:e}]);if(await Td())return st([{name:"p7zip",version:e}]);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}}function Sr(){return Im||(Im=1,function(e,t){function r(e){N[e]=$++}function n(e){for(var t=0;A.length>t;t++){var r=A[t][0],n=A[t][1];e=e.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return e}function i(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>O)return null;if(!(t.loose?x[N.LOOSE]:x[N.FULL]).test(e))return null;try{return new o(e,t)}catch(r){return null}}function o(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof o){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>O)throw new TypeError("version is longer than "+O+" characters");if(!(this instanceof o))return new o(e,t);S("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?x[N.LOOSE]:x[N.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>R||0>this.major)throw new TypeError("Invalid major version");if(this.minor>R||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>R||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=r[4]?r[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&R>t)return t}return e}):[],this.build=r[5]?r[5].split("."):[],this.format()}function s(e,t){var r=k.test(e),n=k.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:t>e?-1:1}function a(e,t,r){return new o(e,r).compare(new o(t,r))}function c(e,t,r){return a(e,t,r)>0}function u(e,t,r){return 0>a(e,t,r)}function l(e,t,r){return 0===a(e,t,r)}function f(e,t,r){return 0!==a(e,t,r)}function p(e,t,r){return a(e,t,r)>=0}function d(e,t,r){return 0>=a(e,t,r)}function h(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return l(e,r,n);case"!=":return f(e,r,n);case">":return c(e,r,n);case">=":return p(e,r,n);case"<":return u(e,r,n);case"<=":return d(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function m(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof m){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof m))return new m(e,t);e=e.trim().split(/\s+/).join(" "),S("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.value=this.semver===D?"":this.operator+this.semver.version,S("comp",this)}function y(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof y)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new y(e.raw,t);if(e instanceof m)return new y(e.value,t);if(!(this instanceof y))return new y(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}function v(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(e){return i.intersects(e,t)}),i=n.pop();return r}function w(e){return!e||"x"===e.toLowerCase()||"*"===e}function g(e,t,r,n,i,o,s,a,c,u,l,f,p){return((t=w(r)?"":w(n)?">="+r+".0.0":w(i)?">="+r+"."+n+".0":">="+t)+" "+(a=w(c)?"":w(u)?"<"+(+c+1)+".0.0":w(l)?"<"+c+"."+(+u+1)+".0":f?"<="+c+"."+u+"."+l+"-"+f:"<="+a)).trim()}function E(e,t,r){for(var n=0;e.length>n;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;e.length>n;n++)if(S(e[n].semver),e[n].semver!==D&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function _(e,t,r){try{t=new y(t,r)}catch(n){return!1}return t.test(e)}function b(e,t,r,n){var i,s,a,l,f;switch(e=new o(e,n),t=new y(t,n),r){case">":i=c,s=d,a=u,l=">",f=">=";break;case"<":i=u,s=p,a=c,l="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(_(e,t,n))return!1;for(var h=0;t.set.length>h;++h){var v=null,w=null;if(t.set[h].forEach(function(e){e.semver===D&&(e=new m(">=0.0.0")),w=w||e,i(e.semver,(v=v||e).semver,n)?v=e:a(e.semver,w.semver,n)&&(w=e)}),v.operator===l||v.operator===f)return!1;if((!w.operator||w.operator===l)&&s(e,w.semver))return!1;if(w.operator===f&&a(e,w.semver))return!1}return!0}var S;t=Am.exports=o,S="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=[].slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var O=256,R=Number.MAX_SAFE_INTEGER||9007199254740991,I=O-6,P=t.re=[],x=t.safeRe=[],T=t.src=[],N=t.tokens={},$=0,C="[a-zA-Z0-9-]",A=[["\\s",1],["\\d",O],[C,I]];r("NUMERICIDENTIFIER"),T[N.NUMERICIDENTIFIER]="0|[1-9]\\d*",r("NUMERICIDENTIFIERLOOSE"),T[N.NUMERICIDENTIFIERLOOSE]="\\d+",r("NONNUMERICIDENTIFIER"),T[N.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-]"+C+"*",r("MAINVERSION"),T[N.MAINVERSION]="("+T[N.NUMERICIDENTIFIER]+")\\.("+T[N.NUMERICIDENTIFIER]+")\\.("+T[N.NUMERICIDENTIFIER]+")",r("MAINVERSIONLOOSE"),T[N.MAINVERSIONLOOSE]="("+T[N.NUMERICIDENTIFIERLOOSE]+")\\.("+T[N.NUMERICIDENTIFIERLOOSE]+")\\.("+T[N.NUMERICIDENTIFIERLOOSE]+")",r("PRERELEASEIDENTIFIER"),T[N.PRERELEASEIDENTIFIER]="(?:"+T[N.NUMERICIDENTIFIER]+"|"+T[N.NONNUMERICIDENTIFIER]+")",r("PRERELEASEIDENTIFIERLOOSE"),T[N.PRERELEASEIDENTIFIERLOOSE]="(?:"+T[N.NUMERICIDENTIFIERLOOSE]+"|"+T[N.NONNUMERICIDENTIFIER]+")",r("PRERELEASE"),T[N.PRERELEASE]="(?:-("+T[N.PRERELEASEIDENTIFIER]+"(?:\\."+T[N.PRERELEASEIDENTIFIER]+")*))",r("PRERELEASELOOSE"),T[N.PRERELEASELOOSE]="(?:-?("+T[N.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+T[N.PRERELEASEIDENTIFIERLOOSE]+")*))",r("BUILDIDENTIFIER"),T[N.BUILDIDENTIFIER]=C+"+",r("BUILD"),T[N.BUILD]="(?:\\+("+T[N.BUILDIDENTIFIER]+"(?:\\."+T[N.BUILDIDENTIFIER]+")*))",r("FULL"),r("FULLPLAIN"),T[N.FULLPLAIN]="v?"+T[N.MAINVERSION]+T[N.PRERELEASE]+"?"+T[N.BUILD]+"?",T[N.FULL]="^"+T[N.FULLPLAIN]+"$",r("LOOSEPLAIN"),T[N.LOOSEPLAIN]="[v=\\s]*"+T[N.MAINVERSIONLOOSE]+T[N.PRERELEASELOOSE]+"?"+T[N.BUILD]+"?",r("LOOSE"),T[N.LOOSE]="^"+T[N.LOOSEPLAIN]+"$",r("GTLT"),T[N.GTLT]="((?:<|>)?=?)",r("XRANGEIDENTIFIERLOOSE"),T[N.XRANGEIDENTIFIERLOOSE]=T[N.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",r("XRANGEIDENTIFIER"),T[N.XRANGEIDENTIFIER]=T[N.NUMERICIDENTIFIER]+"|x|X|\\*",r("XRANGEPLAIN"),T[N.XRANGEPLAIN]="[v=\\s]*("+T[N.XRANGEIDENTIFIER]+")(?:\\.("+T[N.XRANGEIDENTIFIER]+")(?:\\.("+T[N.XRANGEIDENTIFIER]+")(?:"+T[N.PRERELEASE]+")?"+T[N.BUILD]+"?)?)?",r("XRANGEPLAINLOOSE"),T[N.XRANGEPLAINLOOSE]="[v=\\s]*("+T[N.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+T[N.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+T[N.XRANGEIDENTIFIERLOOSE]+")(?:"+T[N.PRERELEASELOOSE]+")?"+T[N.BUILD]+"?)?)?",r("XRANGE"),T[N.XRANGE]="^"+T[N.GTLT]+"\\s*"+T[N.XRANGEPLAIN]+"$",r("XRANGELOOSE"),T[N.XRANGELOOSE]="^"+T[N.GTLT]+"\\s*"+T[N.XRANGEPLAINLOOSE]+"$",r("COERCE"),T[N.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",r("COERCERTL"),P[N.COERCERTL]=RegExp(T[N.COERCE],"g"),x[N.COERCERTL]=RegExp(n(T[N.COERCE]),"g"),r("LONETILDE"),T[N.LONETILDE]="(?:~>?)",r("TILDETRIM"),T[N.TILDETRIM]="(\\s*)"+T[N.LONETILDE]+"\\s+",P[N.TILDETRIM]=RegExp(T[N.TILDETRIM],"g"),x[N.TILDETRIM]=RegExp(n(T[N.TILDETRIM]),"g"),r("TILDE"),T[N.TILDE]="^"+T[N.LONETILDE]+T[N.XRANGEPLAIN]+"$",r("TILDELOOSE"),T[N.TILDELOOSE]="^"+T[N.LONETILDE]+T[N.XRANGEPLAINLOOSE]+"$",r("LONECARET"),T[N.LONECARET]="(?:\\^)",r("CARETTRIM"),T[N.CARETTRIM]="(\\s*)"+T[N.LONECARET]+"\\s+",P[N.CARETTRIM]=RegExp(T[N.CARETTRIM],"g"),x[N.CARETTRIM]=RegExp(n(T[N.CARETTRIM]),"g"),r("CARET"),T[N.CARET]="^"+T[N.LONECARET]+T[N.XRANGEPLAIN]+"$",r("CARETLOOSE"),T[N.CARETLOOSE]="^"+T[N.LONECARET]+T[N.XRANGEPLAINLOOSE]+"$",r("COMPARATORLOOSE"),T[N.COMPARATORLOOSE]="^"+T[N.GTLT]+"\\s*("+T[N.LOOSEPLAIN]+")$|^$",r("COMPARATOR"),T[N.COMPARATOR]="^"+T[N.GTLT]+"\\s*("+T[N.FULLPLAIN]+")$|^$",r("COMPARATORTRIM"),T[N.COMPARATORTRIM]="(\\s*)"+T[N.GTLT]+"\\s*("+T[N.LOOSEPLAIN]+"|"+T[N.XRANGEPLAIN]+")",P[N.COMPARATORTRIM]=RegExp(T[N.COMPARATORTRIM],"g"),x[N.COMPARATORTRIM]=RegExp(n(T[N.COMPARATORTRIM]),"g"),r("HYPHENRANGE"),T[N.HYPHENRANGE]="^\\s*("+T[N.XRANGEPLAIN]+")\\s+-\\s+("+T[N.XRANGEPLAIN]+")\\s*$",r("HYPHENRANGELOOSE"),T[N.HYPHENRANGELOOSE]="^\\s*("+T[N.XRANGEPLAINLOOSE]+")\\s+-\\s+("+T[N.XRANGEPLAINLOOSE]+")\\s*$",r("STAR"),T[N.STAR]="(<|>)?=?\\s*\\*";for(var L=0;$>L;L++)S(L,T[L]),P[L]||(P[L]=RegExp(T[L]),x[L]=RegExp(n(T[L])));t.parse=i,t.valid=function(e,t){var r=i(e,t);return r?r.version:null},t.clean=function(e,t){var r=i(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=o,o.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},o.prototype.toString=function(){return this.version},o.prototype.compare=function(e){return S("SemVer.compare",this.version,this.options,e),e instanceof o||(e=new o(e,this.options)),this.compareMain(e)||this.comparePre(e)},o.prototype.compareMain=function(e){return e instanceof o||(e=new o(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)},o.prototype.comparePre=function(e){if(e instanceof o||(e=new o(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(S("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return s(r,n)}while(++t)},o.prototype.compareBuild=function(e){e instanceof o||(e=new o(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(S("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return s(r,n)}while(++t)},o.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new o(e,r).inc(t,n).version}catch(i){return null}},t.diff=function(e,t){if(l(e,t))return null;var r=i(e),n=i(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var s="prerelease"}for(var a in r)if(("major"===a||"minor"===a||"patch"===a)&&r[a]!==n[a])return o+a;return s},t.compareIdentifiers=s;var k=/^[0-9]+$/;t.rcompareIdentifiers=function(e,t){return s(t,e)},t.major=function(e,t){return new o(e,t).major},t.minor=function(e,t){return new o(e,t).minor},t.patch=function(e,t){return new o(e,t).patch},t.compare=a,t.compareLoose=function(e,t){return a(e,t,!0)},t.compareBuild=function(e,t,r){var n=new o(e,r),i=new o(t,r);return n.compare(i)||n.compareBuild(i)},t.rcompare=function(e,t,r){return a(t,e,r)},t.sort=function(e,r){return e.sort(function(e,n){return t.compareBuild(e,n,r)})},t.rsort=function(e,r){return e.sort(function(e,n){return t.compareBuild(n,e,r)})},t.gt=c,t.lt=u,t.eq=l,t.neq=f,t.gte=p,t.lte=d,t.cmp=h,t.Comparator=m;var D={};m.prototype.parse=function(e){var t=e.match(this.options.loose?x[N.COMPARATORLOOSE]:x[N.COMPARATOR]);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),this.semver=t[2]?new o(t[2],this.options.loose):D},m.prototype.toString=function(){return this.value},m.prototype.test=function(e){if(S("Comparator.test",e,this.options.loose),this.semver===D||e===D)return!0;if("string"==typeof e)try{e=new o(e,this.options)}catch(t){return!1}return h(e,this.operator,this.semver,this.options)},m.prototype.intersects=function(e,t){if(!(e instanceof m))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new y(e.value,t),_(this.value,r,t));if(""===e.operator)return""===e.value||(r=new y(this.value,t),_(e.semver,r,t));var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=h(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=h(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=y,y.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},y.prototype.toString=function(){return this.range},y.prototype.parseRange=function(e){var t=this.options.loose;e=e.replace(t?x[N.HYPHENRANGELOOSE]:x[N.HYPHENRANGE],g),S("hyphen replace",e),e=e.replace(x[N.COMPARATORTRIM],"$1$2$3"),S("comparator trim",e,x[N.COMPARATORTRIM]),e=(e=(e=e.replace(x[N.TILDETRIM],"$1~")).replace(x[N.CARETTRIM],"$1^")).split(/\s+/).join(" ");var r=t?x[N.COMPARATORLOOSE]:x[N.COMPARATOR],n=e.split(" ").map(function(e){return function(e,t){return S("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){return S("caret",e,t),e.replace(t.loose?x[N.CARETLOOSE]:x[N.CARET],function(t,r,n,i,o){var s;return S("caret",e,t,r,n,i,o),w(r)?s="":w(n)?s=">="+r+".0.0 <"+(+r+1)+".0.0":w(i)?s="0"===r?">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":">="+r+"."+n+".0 <"+(+r+1)+".0.0":o?(S("replaceCaret pr",o),s="0"===r?"0"===n?">="+r+"."+n+"."+i+"-"+o+" <"+r+"."+n+"."+(+i+1):">="+r+"."+n+"."+i+"-"+o+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+i+"-"+o+" <"+(+r+1)+".0.0"):(S("no pr"),s="0"===r?"0"===n?">="+r+"."+n+"."+i+" <"+r+"."+n+"."+(+i+1):">="+r+"."+n+"."+i+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+i+" <"+(+r+1)+".0.0"),S("caret return",s),s})}(e,t)}).join(" ")}(e,t),S("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){return e.replace(t.loose?x[N.TILDELOOSE]:x[N.TILDE],function(t,r,n,i,o){var s;return S("tilde",e,t,r,n,i,o),w(r)?s="":w(n)?s=">="+r+".0.0 <"+(+r+1)+".0.0":w(i)?s=">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":o?(S("replaceTilde pr",o),s=">="+r+"."+n+"."+i+"-"+o+" <"+r+"."+(+n+1)+".0"):s=">="+r+"."+n+"."+i+" <"+r+"."+(+n+1)+".0",S("tilde return",s),s})}(e,t)}).join(" ")}(e,t),S("tildes",e),e=function(e,t){return S("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){return(e=e.trim()).replace(t.loose?x[N.XRANGELOOSE]:x[N.XRANGE],function(r,n,i,o,s,a){S("xRange",e,r,n,i,o,s,a);var c=w(i),u=c||w(o),l=u||w(s);return"="===n&&l&&(n=""),a=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),r=n+i+"."+o+"."+s+a):u?r=">="+i+".0.0"+a+" <"+(+i+1)+".0.0"+a:l&&(r=">="+i+"."+o+".0"+a+" <"+i+"."+(+o+1)+".0"+a),S("xRange return",r),r})}(e,t)}).join(" ")}(e,t),S("xrange",e),e=function(e,t){return S("replaceStars",e,t),e.trim().replace(x[N.STAR],"")}(e,t),S("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(n=n.filter(function(e){return!!e.match(r)})),n.map(function(e){return new m(e,this.options)},this)},y.prototype.intersects=function(e,t){if(!(e instanceof y))throw new TypeError("a Range is required");return this.set.some(function(r){return v(r,t)&&e.set.some(function(e){return v(e,t)&&r.every(function(r){return e.every(function(e){return r.intersects(e,t)})})})})},t.toComparators=function(e,t){return new y(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},y.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(r){return!1}for(var t=0;this.set.length>t;t++)if(E(this.set[t],e,this.options))return!0;return!1},t.satisfies=_,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var s=new y(t,r)}catch(a){return null}return e.forEach(function(e){s.test(e)&&(n&&-1!==i.compare(e)||(i=new o(n=e,r)))}),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var s=new y(t,r)}catch(a){return null}return e.forEach(function(e){s.test(e)&&(n&&1!==i.compare(e)||(i=new o(n=e,r)))}),n},t.minVersion=function(e,t){e=new y(e,t);var r=new o("0.0.0");if(e.test(r))return r;if(r=new o("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;e.set.length>n;++n)e.set[n].forEach(function(e){var t=new o(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!c(r,t)||(r=t);break;case"<":case"<=":break;default:throw Error("Unexpected operation: "+e.operator)}});return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new y(e,t).range||"*"}catch(r){return null}},t.ltr=function(e,t,r){return b(e,t,"<",r)},t.gtr=function(e,t,r){return b(e,t,">",r)},t.outside=b,t.prerelease=function(e,t){var r=i(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new y(e,r),t=new y(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof o)return e;if("number"==typeof e&&(e+=""),"string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var n;(n=x[N.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),x[N.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;x[N.COERCERTL].lastIndex=-1}else r=e.match(x[N.COERCE]);return null===r?null:i(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}}(0,Am.exports)),Am.exports}async function Or(e,t,r,n,i){M(`Installing ${e} ${t} ${i} via direct downloading`),process.env.RUNNER_TEMP=process.env.RUNNER_TEMP??Un(),process.env.RUNNER_TOOL_CACHE=process.env.RUNNER_TOOL_CACHE??Gn(Un(),"setup-cpp","hostedtoolcache");const{url:o,binRelativeDir:s,binFileName:a,extractedFolderName:c,extractFunction:u}=await r(t,process.platform,i);if(Um)try{const r=Dm.find(e,t);if(r){const n=Gn(r,c),i=Gn(n,s);if(await Ce(Gn(i,a)))return M(`${e} ${t} was found in the cache at ${i}.`),await je(i,Qd),{installDir:n,binDir:i}}}catch{}const l=Gn(n,c),f=Gn(l,s),p=Gn(f,a);return await async function(e,t,r,n,i,o,s,a){if((await Promise.all([Ce(e),Ce(t)])).includes(!1))try{const e=await async function(e,t,r){M(`Download ${e} ${t}`);return await jm(()=>{const e=Date.now()+"-setup-cpp-",t=Gn(process.env.RUNNER_TEMP??Un(),`${e}${Vn(r)}`);return Dm.downloadTool(r,t)},{name:r,max:4,backoffBase:2e3,report:e=>M(e)})}(r,n,i);M(`Extracting ${e} to ${o}`);const t=s??Pr(Ir(i));await t(e,o)}catch(c){throw Error(`Failed to download ${r} ${n} ${a} from ${i}: ${c}`)}if(M(`Add ${e} to PATH`),await je(e,Qd),!(await Ce(t)))throw Error(`Failed to find the binary ${t} after extracting ${r} ${n} ${a}`);if("win32"!==process.platform)try{await Di(t,"755")}catch(c){j(`Failed to make ${t} executable: ${c}`)}}(f,p,e,t,o,n,u,i),await async function(e,t,r){Um&&"string"==typeof process.env.RUNNER_TOOL_CACHE&&("true"!==Nt("cache-tools")&&"true"!==process.env.CACHE_TOOLS||await Dm.cacheDir(e,t,r))}(n,e,t),{installDir:l,binDir:f}}async function Rr(e,t,r){const n=await hu("tar",{nothrow:!0});if(null===n)switch(process.platform){case"win32":return Or("tar","1.13-1",()=>({url:"https://phoenixnap.dl.sourceforge.net/project/gnuwin32/tar/1.13-1/tar-1.13-1-bin.zip?viasf=1",extractedFolderName:"",binRelativeDir:"bin",binFileName:"tar.exe"}),t,r);case"darwin":return Tt("gnu-tar",e);case"linux":if(Lt())return await Dt("gzip"),await Dt("xz"),Dt("tar");if(At())return kt([{name:"tar"},{name:"gzip"},{name:"xz"}]);if(ut())return _t([{name:"tar"},{name:"gzip"},{name:"xz-utils"}]);if(await Td())return st([{name:"tar"},{name:"gzip"},{name:"xz"}]);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}else M("tar already installed at "+n)}function Ir(e){const t=e.split(".").pop();return"tar"===t?0:"gz"===t||"tgz"===t?1:"xz"===t||"txz"===t?2:"zip"===t?3:("7z"===t||"exe"===t||j(`Unknown archive type: ${t}. Defaulting to 7z`),4)}function Pr(e){switch(e){case 0:case 1:case 2:return"win32"===process.platform?xr:$r;case 3:return Nr;default:return xr}}async function xr(e,t,r=!1){const n=Vn(e);return/.*\.tar\..+$/.test(n)?await async function(e,t,r,n){if(!/.*\.tar\..+$/.test(t))throw Error("Invalid tar file: "+t);const i=Gn(Xn(e),"sevenzip-temp");await Tr(e,i);const o=t.slice(0,-3),s=Gn(i,o);await Tr(s,i),await Sm.remove(s),M(`Moving ${i} to ${r}`);const a=await Sm.readdir(i);await Promise.all(a.map(async e=>{await Sm.move(Gn(i,e),Gn(r,e),{overwrite:!0})})),await Sm.remove(i),n&&await async function(e){M("Stripping path components from "+e);const t=await Sm.readdir(e);if(1!==t.length)throw Error(`Expected 1 folder in ${e}, got ${t.length}`);const r=Gn(e,t[0]),n=await Sm.stat(r);if(!n.isDirectory())return void j(`Expected ${r} to be a directory, got ${n}.`);const i=await Sm.readdir(r);await Promise.all(i.map(t=>Sm.move(Gn(r,t),Gn(e,t),{overwrite:!0}))),await Sm.remove(r)}(r)}(e,n,t,r):await Tr(e,t),t}async function Tr(e,t){M(`7z: extracting ${e} to ${t}`),await z(await async function(){return void 0===Gm&&(null===hu.sync("7z",{nothrow:!0})&&await br("",0,process),Gm="7z"),Gm}(),["x",e,"-o"+t,"-y"],{stdio:"inherit"}),await se(t)}async function Nr(e,t){return null!==hu.sync("7z",{nothrow:!0})?xr(e,t):null!==hu.sync("unzip",{nothrow:!0})?(await z("unzip",["-q",e,"-d",t],{stdio:"inherit"}),await se(t),t):xr(e,t)}async function $r(e,t,r=0,n=[]){await Rr("","",process.arch);try{await Sm.mkdirp(t)}catch{}try{await z("tar",["xf",e,"-C",t,"--strip-components="+r,...n],{stdio:"inherit"})}catch(i){"win32"===process.platform&&i.message.includes("Can't create '\\\\?\\C:")&&j(`Failed to extract symlink ${e} to ${t}. Ignoring this symlink.`)}return await se(t),t}async function Cr(e,t,r){let n;switch(process.platform){case"win32":"arm"!==r&&"arm64"!==r||(n=await _r("gcc-arm-embedded",e));try{n=await Or("g++",e,Ar,t,r)}catch(i){M(`Failed to download g++ binary. ${i}. Falling back to chocolatey.`),n=await async function(e,t){let r;if(await _r("mingw",e),"x64"===t&&await Ce("C:/tools/mingw64/bin")?(r="C:/tools/mingw64/bin",await je(r,Qd)):"ia32"===t&&await Ce("C:/tools/mingw32/bin")?(r="C:/tools/mingw32/bin",await je(r,Qd)):await Ce((process.env.ChocolateyInstall??"C:/ProgramData/chocolatey")+"/bin/g++.exe")&&(r=(process.env.ChocolateyInstall??"C:/ProgramData/chocolatey")+"/bin"),void 0!==r)return{binDir:r}}(e,r)}break;case"linux":if(Lt())n=await Dt("mingw-w64-gcc",e);else if(At())n=await kt([{name:"mingw64-gcc",version:e}]);else if(ut())n=await _t([{name:"mingw-w64",version:e}]);else{if(!(await Td()))throw Error("Unsupported Linux distro for "+r);await nt(),n=await st([{name:"mingw-w64-gcc",version:e},{name:"mingw-w64-crt",version:e}])}break;default:throw Error("Unsupported platform for "+r)}return void 0!==n&&await async function(e){const t=[];"win32"===process.platform&&t.push(De("CC",Xe(e+"/gcc"),Qd),De("CXX",Xe(e+"/g++"),Qd)),Bm&&await Mt(),await Promise.all(t)}(n.binDir),n}async function Ar(e,t,r){if("win32"!==t)throw Error(`Unsupported platform '${t}'`);const n=await Gt(Gn(Hm,"github_brechtsanders_winlibs_mingw.json")),i=Lr(e),o=kr(e),s=Dr(e),a=Bt(n,{version:e,keywords:[{x64:"x86_64",ia32:"i386"}[r]??r],filterName:e=>!(void 0!==i&&i!==Lr(e)||void 0!==o&&o!==kr(e)||void 0!==s&&s!==Dr(e)),versionSatisfies:(e,t)=>{const r=oh(e);if(null===r)throw Error(`Invalid MinGW asset version: '${e}'`);return ah(r,t)&&(void 0===i||i===Lr(e))&&(void 0===o||o===kr(e))}});if(void 0===a)throw Error(`No asset found for version ${e} and arch ${r}`);return{binRelativeDir:"bin/",binFileName:Xe("g++"),extractedFolderName:"mingw64",extractFunction:xr,url:`https://github.com/brechtsanders/winlibs_mingw/releases/download/${a.tag}/${a.name}`}}function Lr(e){const t=e.match(/(ucrt|msvcrt)/);return null!==t?t[1]:void 0}function kr(e){const t=e.match(/(posix|mcf)/);return null!==t?t[1]:void 0}function Dr(e){const t=e.match(/(seh|dwarf)/);return null!==t?t[1]:void 0}async function Fr(e,t,r,n=40){let i;switch(process.platform){case"win32":i=await Cr(e,t,r);break;case"darwin":i=await Tt("gcc",e);break;case"linux":if(Lt())i=await Dt("gcc",e);else if(At())i=await kt([{name:"gcc",version:e},{name:"gcc-c++",version:e},{name:"libstdc++-devel"}]);else if(await Td())i=await st([{name:"gcc",version:e},{name:"g++",version:e}]);else if(ut())if(""===e)i=await _t([{name:"gcc"},{name:"g++"}]);else try{i=await _t([{name:"gcc",version:e},{name:"g++",version:e}])}catch(o){i=await _t([{name:"gcc",version:e,repository:"ppa:ubuntu-toolchain-r/test",key:{key:"1E9377A2BA9EF27F",fileName:"ubuntu-toolchain-r-test.gpg"}},{name:"g++",version:e,repository:"ppa:ubuntu-toolchain-r/test",key:{key:"1E9377A2BA9EF27F",fileName:"ubuntu-toolchain-r-test.gpg"}}])}break;default:throw Error("Unsupported platform for "+r)}if(void 0!==i)return await async function(e,t,r=40){if("win32"===process.platform)return;const n=[];{const i=function(e){try{const t=Ut(e),r=xd(t);return 5>r?e:""+r}catch{return e}}(e),[o,s]=await Promise.all([jr("gcc",t,i),jr("g++",t,i)]);n.push(De("CC",o,Qd),De("CXX",s,Qd)),ut()&&n.push(at("cc",o,Qd,r),at("cxx",s,Qd,r),at("gcc",o,Qd,r),at("g++",s,Qd,r))}n.push(Ct()),Vm&&await Mt(),await Promise.all(n)}(e,i.binDir,n),i}async function jr(e,t,r){if(await Ce(`${t}/${e}-${r}`))return Xe(`${t}/${e}-${r}`);const n=RegExp(`^${He(e)}-?([\\d\\.\\-]*)(?:\\.exe)?$`),i=(await Fi(t)).filter(e=>n.test(e)).sort((e,t)=>{const r=e.match(n)?.[1]??"",i=t.match(n)?.[1]??"";try{return function(e,t){const r=oh(e),n=oh(t);return null!==r&&null!==n?n.compare(r):t.localeCompare(e)}(r,i)}catch{return 0}});for(const o of i){const e=`${t}/${o}`;if(""===r||o.includes(r)||(await Ur(e))?.includes(r))return Xe(e)}return await Ce(`${t}/${e}`)?Xe(`${t}/${e}`):Xe(e)}async function Ur(e){try{const{stdout:t}=await z(e,["--version"],{stdio:"pipe"}),r=t.match(/(gcc|g\+\+).* \(.*\) ([\d.]+)/);if(null!==r)return r[2];j("Failed to parse gcc version from: "+t)}catch(t){D("Failed to get gcc version: "+t)}}function Mr(e,t,r=null){return Br(t)?Gr(e,r)??"":t}function Gr(e,t=null){const r=ay()[e];if(void 0===r)return;if("string"==typeof r)return r;const n=r[process.platform]??r.else;if(void 0===n)throw Error(`Platform "${process.platform}" not found in versions data for tool "${e}"`);if("string"==typeof n)return n;const i=n,o=ut()?"ubuntu":Lt()?"archlinux":rt()?"alpine":At()?"fedora":"else",s=i[o]??i.else;if(void 0===s)throw Error(`Distro "${o}" not found in versions data for tool "${e}"`);if("string"==typeof s)return s;const a=s,c=null!==t?function(e,t){const r=e[0],n=Object.keys(t).map(e=>Number.parseInt(e,10)).filter(e=>!Number.isNaN(e)).sort((e,t)=>t-e).find(e=>r>=e);return void 0!==n?t[n]??t.else:t.else}(t,a):a.else;if(void 0===c)throw Error(`Architecture "${process.arch}" not found in versions data for tool "${e}"`);return"string"==typeof c?c:c[process.arch]??c.else}function Br(e){return"true"===e||void 0===e}async function Hr(e,t,r){Pa.startGroup("Setup Python");const n=await async function(e,t,r){const n=function(e){return e.startsWith(">")}(e)?"":e;let i,o=await Vr(t);if(void 0!==o){const e=Xn(o);i={bin:o,installDir:e,binDir:e}}else{if(cy)try{M("Installing python in GitHub Actions");const{setupActionsPython:e}=await import("./assets/actions_python-Bt6qyET-.mjs");if(await e(n,t,r),o=await Vr(t),void 0===o)throw Error("Python binary could not be found");const s=Xn(o);i={bin:o,installDir:s,binDir:s}}catch(s){j(""+s)}void 0===i&&(i=await async function(e,t){let r;switch(process.platform){case"win32":{e?await _r("python3",t,["--params=/InstallDir:"+e]):await _r("python3",t);const n=await Vr(e);if(void 0===n)throw Error("Python binary could not be found");const i=Xn(n);await je(i,Qd),r={installDir:i,binDir:i,bin:n};break}case"darwin":{r=await Tt("python3",t);const e=await z("brew",["--prefix","python"],{stdio:"pipe"}),n=Gn(e.stdout,"libexec","bin");await je(n,Qd);break}case"linux":if(Lt())r=await Dt("python",t);else if(At())r=await kt([{name:"python3",version:t}]);else if(ut())r=await _t([{name:"python3",version:t},{name:"python-is-python3"}]);else{if(!(await Td()))throw Error("Unsupported linux distributions");r=await st([{name:"python3",version:t}])}break;default:throw Error("Unsupported platform")}return r}(t,n))}if(void 0===o||void 0===i.bin){if(o=await Vr(t),void 0===o)throw Error("Python binary could not be found");i={bin:o,installDir:Xn(o),binDir:Xn(o)}}return i}(e,t,r);fi(void 0!==n.bin);const i=n.bin;Pa.endGroup(),Pa.startGroup("Setup venv"),await async function(e){if(await async function(e){try{return await z(e,["-m","venv","-h"],{stdio:"ignore"}),!ut()||mt("python3-venv")}catch{}return!1}(e))M("venv module already installed.");else try{await rn("venv")}catch(t){M(`Failed to install venv: ${""+t}. Ignoring...`)}}(i),Pa.endGroup(),Pa.startGroup("Setup pip");const o=await async function(e){const t=await zr();return void 0===t?(M("pip was not found. Installing pip"),await async function(e){await Xr(e)||(await rn("pip"),await Xr(e))}(e),zr()):t}(i);if(Pa.endGroup(),void 0===o)throw Error("pip was not installed correctly");return Pa.startGroup("Setup pipx"),await async function(e){try{if(!(await tn(e))){try{await rn("pipx")}catch(t){U("pipx was not installed completely for the system-wide python: "+t)}try{await tn(e)||await Qr(e,"pipx",void 0,{upgrade:!0,usePipx:!1})}catch(t){U(`pipx was not installed completely for ${e}: ${t}`)}}if(await tn(e))await z(e,["-m","pipx","ensurepath"],{stdio:"inherit"});else{if(!(await async function(){return null!==await hu("pipx",{nothrow:!0})}()))throw Error("pipx module or pipx binary not found. Corrput pipx installation.");U(`pipx module not found for ${e}. Trying to install with pipx binary...`),await z("pipx",["ensurepath"],{stdio:"inherit"})}}catch(t){U(`Failed to install pipx completely for ${e}: ${""+t}. Ignoring...`)}}(i),Pa.endGroup(),Pa.startGroup("Setup wheel"),await async function(e){try{await Qr(e,"setuptools",void 0,{upgrade:!0,isLibrary:!0,usePipx:!1}),await Qr(e,"wheel",void 0,{upgrade:!1,isLibrary:!0,usePipx:!1})}catch(t){M(`Failed to install setuptools/wheel: ${""+t}. Ignoring...`)}}(i),Pa.endGroup(),n}async function Vr(e){for(const t of["python","python3"]){const r=await qr(t,e);if(void 0!==r)return r}if("win32"===process.platform){const e=Yn(jn()).root,t=(await Fi(e)).filter(e=>e.startsWith("Python"));for(const r of t)for(const t of["python3","python"]){const n=await qr(t,Gn(e,r));if(void 0!==n)return n}}}async function qr(e,t){try{const r=Gr("python");if(void 0!==t){const n=Gn(t,Xe(e));if(await Ce(n)&&await jt(n,r))return n}const n=await hu(e,{nothrow:!0,all:!0})??[];for(const e of n)if(await jt(e,r))return e}catch{}}async function zr(){for(const e of["pip3","pip"]){const t=await Wr(e);if(void 0!==t)return t}}async function Wr(e){try{const t=Gr("pip"),r=await hu(e,{nothrow:!0,all:!0})??[];for(const e of r)if(await jt(e,t))return e}catch{}}async function Xr(e){if(await wy(e))return!1;try{return await z(e,["-m","ensurepip","-U","--upgrade"],{stdio:"inherit"}),!0}catch(t){M(""+t);try{return await z(e,["-m","pip","install","--upgrade","pip"],{stdio:"inherit"}),!0}catch(r){M(""+r)}}return!1}function Kr(){if(!("version"in Fn)||"function"!=typeof Fn.version)return null;const e=Fn.version().match(/(\d+)\.(\d+)\.(\d+)/);return null===e?null:[Number.parseInt(e[1],10),Number.parseInt(e[2],10),Number.parseInt(e[3],10)]}function Yr(e,t='"'){return e.includes(" ")?`${t}${e}${t}`:e}async function Jr(e,t,r={}){return Qr(await async function(e){if(void 0!==my)return my;const t=e??Mr("python",void 0,await py());return my=(await Hr(t,"",process.arch)).bin,my}(r.pythonVersion),e,t,r)}async function Qr(e,t,r,n={}){const{usePipx:i=!0,user:o=!0,upgrade:s=!1,isLibrary:a=!1}=n,c=i&&!a&&await tn(e),u=!c&&await wy(e),l=c?"pipx":"pip",f=t.replace(/\[.*]/g,"").trim();if(!s){const t=c?await async function(e,t){try{const r=await z(e,["-m","pipx","list","--json"],{stdio:"ignore",reject:!1});if(0!==r.exitCode||"string"!=typeof r.stdout)return!1;const n=JSON.parse(r.stdout);if(t in n.venvs)return!0;for(const e of Object.values(n.venvs))if(e.metadata.main_package.package_or_url===t||e.metadata.main_package.package===t)return!0}catch{}return!1}(e,f):await async function(e,t){try{return 0===(await z(e,["-m","pip","-qq","show",t],{stdio:"ignore",reject:!1})).exitCode}catch{return!1}}(e,f);if(t)return{binDir:c?await Zr():await en(e,f)}}if(!u&&await async function(e,t){return 0===(await z(e,["-m","pip","-qq","index","versions",t],{stdio:"ignore",reject:!1})).exitCode}(e,f))try{Pa.info(`Installing ${t} ${r??""} via ${l}`);const n=void 0!==r&&""!==r?`${t}==${r}`:t,i=s?c?["upgrade"]:["install","--upgrade"]:["install"],a=!c&&o?["--user"]:[],u=process.env;c&&o&&(u.PIPX_HOME=await dy(),u.PIPX_BIN_DIR=await hy()),W(e,["-m",l,...i,...a,n],{stdio:"inherit",env:u})}catch(p){if(Pa.info(`Failed to install ${t} via ${l}: ${p instanceof Error?`${p.message}\n${p.stack}`:p+""}`),null===await rn(t))throw Error(`Failed to install ${t} via ${l}: ${p}.`)}else if(null===await rn(t))throw Error(`Failed to install ${t} as it was not found via ${l} or the system package manager`);return{binDir:c?await Zr():await en(e,f)}}function Zr(){return hy()}async function en(e,t){const r=await yy(e),n=await async function(e,t){const r=(await Promise.all(e.map(e=>Ce(Gn(e,Xe(t)))))).findIndex(e=>e);if(-1!==r)return e[r];const n=hu.sync(Xe(t),{nothrow:!0});return null!==n?Xn(n):e[e.length-1]}(r,t);return await je(n,Qd),n}async function tn(e){return 0===(await z(e,["-m","pipx","--help"],{stdio:"ignore",reject:!1})).exitCode}async function rn(e,t){if("linux"===process.platform){Pa.info(`Installing ${e} via the system package manager`);const t="pipx"!==e||Lt();if(Lt())return Dt(t?"python-"+e:e);if(At())return kt([{name:t?"python3-"+e:e}]);if(ut())return _t([{name:t?"python3-"+e:e}]);if(await Td())return st([{name:t?"py3-"+e:e}])}else if("darwin"===process.platform)return["venv"].includes(e)?null:Tt(e);return null}function nn(e){const t=dd(e),r=null!==t?xd(t):e;return De("GCOV",""!==r?"gcov-"+r:"gcov",Qd)}async function on(){"darwin"===process.platform&&(null!==await hu("clang",{nothrow:!0})&&null!==await hu("clang++",{nothrow:!0})&&(U("Assuming clang is an Apple Clang compiler"),await Promise.all([De("CC","clang",Qd),De("CXX","clang++",Qd)])),Gi("Apple Clang automatic installation is not supported yet"))}function sn(e){return by.includes(e)?"arm64":Ey.includes(e)?"amd64":e}function an(e,t,r){const n=""===e?"":Ut(e);switch(t){case"win32":{const t=""!==n&&Py(n,"v3.19.6");let i;Ey.includes(r)?i=t?"win64-x64":"windows-x86_64":_y.includes(r)?i=t?"win32-x86":"windows-i386":by.includes(r)?i="windows-arm64":(M(`Trying unsupported arch '${r}' for cmake on Windows`),i="windows-"+r);const o=`cmake-${e}-${i}`;return{binRelativeDir:"bin/",binFileName:Xe("cmake"),extractedFolderName:o,url:`https://github.com/Kitware/CMake/releases/download/v${e}/${o}.zip`}}case"darwin":{const t=`cmake-${e}-${""!==n&&Py(n,"v3.19.1")?"Darwin-x86_64":"macos-universal"}`;return{binRelativeDir:"CMake.app/Contents/bin/",binFileName:Xe("cmake"),extractedFolderName:t,url:`https://github.com/Kitware/CMake/releases/download/v${e}/${t}.tar.gz`}}case"linux":{const t=""!==n&&Py(n,"v3.19.8");let i;by.includes(r)?i=t?"Linux-aarch64":"linux-aarch64":Ey.includes(r)?i=t?"Linux-x86_64":"linux-x86_64":(M(`Trying unsupported arch '${r}' for cmake on Linux`),i="linux-"+r);const o=`cmake-${e}-${i}`;return{binRelativeDir:"bin/",binFileName:Xe("cmake"),extractedFolderName:o,url:`https://github.com/Kitware/CMake/releases/download/v${e}/${o}.tar.gz`}}default:throw Error(`Unsupported platform '${t}'`)}}async function cn(e,t,r){return await Td()?st([{name:"cmake"}]):Or("cmake",e,an,t,r)}function un(e,t,r){return Jr("cmakelang[YAML]",e)}async function ln(e,t,r){switch(process.platform){case"win32":return await _r("graphviz",e),async function(){if("win32"===process.platform){const e="C:/Program Files/Graphviz/bin";return await je(e,Qd),{binDir:e}}throw Error("Unsupported platform")}();case"darwin":return Tt("graphviz",e);case"linux":if(Lt())return Dt("graphviz",e);if(At())return kt([{name:"graphviz",version:e}]);if(ut())return _t([{name:"graphviz",version:e}]);if(await Td())return st([{name:"graphviz",version:e}]);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}}async function fn(e,t){const{ArchiveHdi:r}=await import("./assets/index-B-SdbTWZ.mjs"),n=new r(e);await n.read(async e=>{await e.extract(Gn(t,e.path))})}function pn(e,t,r){switch(t){case"linux":{if("arm64"===process.arch)throw Error("Doxygen binaries are not available for Linux arm64");const t="doxygen-"+e;return{binRelativeDir:"bin/",binFileName:Xe("doxygen"),extractedFolderName:t,url:`https://www.doxygen.nl/files/${t}.linux.bin.tar.gz`}}case"win32":{const t="doxygen-"+e;return{binRelativeDir:"",binFileName:Xe("doxygen"),extractedFolderName:t,url:`https://www.doxygen.nl/files/${t}.windows.x64.bin.zip`}}case"darwin":{const t="Doxygen-"+e;return{binRelativeDir:"Doxygen/Doxygen.app/Contents/Resources/",binFileName:Xe("doxygen"),extractedFolderName:t,extractFunction:fn,url:`https://doxygen.nl/files/${t}.dmg`}}default:throw Error(`Unsupported platform '${t}'`)}}async function dn(e,t,r){const n=await hu("git",{nothrow:!0});if(null===n)switch(process.platform){case"win32":{const t=await _r("git",e),r=function(){const e=["C:/Program Files/Git/bin/","C:/Program Files (x86)/Git/bin/"];for(const t of e)if(Zn(Gn(t,"git.exe")))return t;return j("Git not found in the default locations. Add git to PATH manually."),null}();return null!==r&&await je(r,Qd),t}case"darwin":return Tt("git",e);case"linux":if(Lt())return Dt("git",e);if(At())return kt([{name:"git",version:e}]);if(ut())return _t([{name:"git",version:e}]);if(await Td())return st([{name:"git",version:e}]);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}else M("Git already installed at "+n)}async function hn(e,t,r){const{keywords:n,optionalKeywords:i}=function(e,t){const r=[],n=[];switch(e){case"linux":r.push("linux"),Ey.includes(t)?(n.push("64"),n.push("x86_64")):(M(`Using arch ${t} for infer`),r.push(t));break;case"darwin":r.push("osx"),Ey.includes(t)?n.push("x86_64"):by.includes(t)?n.push("arm64"):(M(`Using arch ${t} for infer`),r.push(t));break;default:M(`Using ${e} ${t} for infer`),r.push(e,t)}return{keywords:r,optionalKeywords:n}}(t,r),o=Bt(await Gt(Gn(Ny,"github_facebook_infer.json")),{version:e,keywords:n,optionalKeywords:i,filterMapTag:e=>e.replace(/^v/,"")});if(void 0!==o)return{url:`https://github.com/facebook/infer/releases/download/${o.tag}/${o.name}`,extractedFolderName:""+Vn(o.name,".tar.xz"),binRelativeDir:"bin",binFileName:Xe("infer")};throw Error(`No asset found for version ${e} matching ${n} and ${i}`)}function mn(e,t,r){const n=function(e,t){switch(e){case"win32":return Ey.includes(t)||_y.includes(t)?"win":by.includes(t)?"winarm64":"win";case"darwin":return"mac";case"linux":return Ey.includes(t)||_y.includes(t)?"linux":by.includes(t)?"linux-aarch64":"linux";default:throw Error(`Unsupported platform '${e}'`)}}(t,r);return{binRelativeDir:"",binFileName:Xe("ninja"),extractedFolderName:"",url:`https://github.com/ninja-build/ninja/releases/download/v${e}/ninja-${n}.zip`}}async function yn(e,t,r){return await Td()?(await nt(),await st([{name:"ninja-build"},{name:"ninja-is-really-ninja"}]),await je("/usr/lib/ninja-build/bin",Qd),{binDir:"/usr/lib/ninja-build/bin",installDir:"/usr/lib/ninja-build/",bin:"/usr/lib/ninja-build/bin/ninja"}):Or("ninja",e,mn,t,r)}function vn(e){return{url:`https://github.com/SimonKagstrom/kcov/releases/download/${e}/kcov-amd64.tar.gz`,extractedFolderName:"",binRelativeDir:"usr/local/bin",binFileName:Xe("kcov")}}function wn(e){return{url:`https://github.com/SimonKagstrom/kcov/archive/refs/tags/${e}.tar.gz`,extractedFolderName:"",binRelativeDir:"build/src",binFileName:Xe("kcov"),extractFunction:gn}}async function gn(e,t){const r=await $r(e,t,1),n=await async function(){let e=hu.sync("cmake",{nothrow:!0});if(null===e){const{binDir:t}=await cn(Mr("cmake",void 0,await py()),Gn(Ae("~"),"cmake"),"");e=Gn(t,"cmake")}return null===hu.sync("ninja",{nothrow:!0})&&await yn(Mr("ninja",void 0,await py()),Gn(Ae("~"),"ninja"),""),e}();"linux"===process.platform&&(Lt()?await Promise.all([Dt("libdwarf"),Dt("libcurl-openssl")]):At()?await kt([{name:"libdwarf-devel"},{name:"libcurl-devel"}]):ut()&&await _t([{name:"libdw-dev"},{name:"libcurl4-openssl-dev"}]));try{if(null!==hu.sync("patch",{nothrow:!0})){const e=Gn($y,"gcc13.patch");await z("patch",["-N","-p1","-i",e],{cwd:r,stdio:"inherit"})}else M("`patch` not found, skipping gcc13.patch, kcov may not build on gcc 13")}catch{}const i=Gn(r,"build");return await z(n,["-S",r,"-B",i,"-DCMAKE_BUILD_TYPE=Release","-G","Ninja"],{cwd:r,stdio:"inherit"}),await z(n,["--build",i,"--config","Release"],{cwd:r,stdio:"inherit"}),r}async function En(e,t,r,n,i,o,s){void 0!==t&&await Ce(t)&&(M(`Adding ${t} to PATH`),await De("VCTargetsPath",t,Qd)),await Ly.setupMSVCDevCmd(function(e){switch(e){case"x32":case"32":case"ia32":return"x86";case"64":return"x64";default:return e}}(r),i,n,o,s,e)}async function _n(e,t,r,n,i,o){if("win32"!==process.platform)return;const s=Ly.vsversion_to_versionnumber(e);M(`Checking if MSVC ${s} is already installed`);let a,c,u=!1;try{const e=Ly.findVcvarsall(s);u=!0,M("Found the pre-installed version of MSVC at "+e)}catch{}if(!u)try{"14.0"===s?(a="14.0",await _r("visualcpp-build-tools","14.0.25420.1",["--ignore-dependencies"]),c="C:/Program Files (x86)/MSBuild/Microsoft.Cpp/v4.0/v140"):"15.0"===s?(a="14.16",await _r("visualstudio2017buildtools","15.9.41.0",[]),c="C:/Program Files (x86)/Microsoft Visual Studio/2017/BuildTools/VC/Tools/MSVC/14.16"):"16.0"===s?(a="14.29",await _r("visualstudio2019buildtools","16.11.7.0",[]),c="C:/Program Files (x86)/Microsoft Visual Studio/2019/BuildTools/VC/Tools/MSVC/14.29.30133"):"17.0"===s?(a=void 0,await _r("visualstudio2022buildtools","117.0.5.0",[]),c=void 0):D(`The given MSVC versions ${e} is not supported yet.`)}catch(l){D(l)}await En(s,c,r,a,n,i,o),ky&&await async function(){const e=Gn(Dy,"msvc_matcher.json");if(!(await Ce(e)))return j("the msvc_matcher.json file does not exist in the same folder as setup-cpp.js");M("::add-matcher::"+e)}()}async function bn(e,t,r){if("win32"===process.platform)return await _r("opencppcoverage",e),{binDir:await async function(){const e="C:/Program Files/OpenCppCoverage";return await je(e,Qd),e}()}}function Sn(e,t,r){return{url:On(t,r,e),binRelativeDir:"",binFileName:Xe("pwsh"),extractedFolderName:""}}function On(e,t,r){switch(e){case"win32":return`https://github.com/PowerShell/PowerShell/releases/download/v${r}/PowerShell-${r}-${["ia32","x86","i386","x32"].includes(t)?"win-x86":"win-x64"}.zip`;case"darwin":return`https://github.com/PowerShell/PowerShell/releases/download/v${r}/powershell-${r}-${["arm","arm64"].includes(t)?"osx-arm64":"osx-x64"}.tar.gz`;case"linux":return`https://github.com/PowerShell/PowerShell/releases/download/v${r}/powershell-${r}-${{arm64:"linux-arm64",arm:"linux-arm64",arm32:"linux-arm32",aarch64:"linux-arm64",x64:"linux-x64"}[t]??"linux-x64"}.tar.gz`;default:throw Error(`Unsupported platform '${e}'`)}}async function Rn(e,t,r){try{return await Td()?In(e):await Or("pwsh",e,Sn,t,r)}catch(n){return D(`Failed to setup pwsh via download: ${n}. Trying package managers...`),In(e)}}async function In(e,t,r){switch(process.platform){case"win32":{await _r("powershell-core",e);const t="C:/Program Files/PowerShell/7";return await je(t,Qd),{binDir:t}}case"darwin":return Tt("powershell",e,{cask:!0,overwrite:!1});case"linux":if(Lt())return Dt("powershell-bin",e,"yay");if(At())return await kt([{name:"curl"}]),te("/bin/bash",["-c","curl https://packages.microsoft.com/config/rhel/8/prod.repo | sudo tee /etc/yum.repos.d/microsoft.repo"]),kt([{name:"powershell",version:e}]);if(ut()){await _t([{name:"curl"}]);const t=await py();return te("curl",["-LJO",`https://packages.microsoft.com/config/ubuntu/${t[0]}.0${t[1]}/packages-microsoft-prod.deb`]),te("dpkg",["-i","packages-microsoft-prod.deb"]),_t([{name:"powershell",version:e}],!0)}if(await Td())return st([{name:"powershell",version:void 0}]);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}}function Pn(e,t,r){const n=function(e){return"win32"===e?"windows":e}(t),i=function(e){switch(e){case"x64":return"amd64";case"ia32":case"x86":case"i386":case"x32":return"386";default:return e}}(r),o="win32"===t?"zip":"tar.gz";return{binRelativeDir:"",binFileName:Xe("task"),extractedFolderName:"",url:`https://github.com/go-task/task/releases/download/v${e}/task_${n}_${i}.${o}`}}async function xn(e,t,r,n,i,o,s,a=Xy){Pa.startGroup(`Installing ${e} ${t}`);try{await async function(e,t,r,n,i,o){const s=Vy.includes(e);let a;if("vcvarsall"===e)await En(Mr(e,t,r),void 0,n,void 0,void 0,!1,!1);else if("brew"===e)a=await St({rcOptions:Qd});else{const o=Gn(i,s?"llvm":e),c=Mr(e,t,r),u=qy[e];a=await u(c,o,n)}o.push($t(e,a))}(e,t,r,n,i,o)}catch(c){D(c),c instanceof Error&&void 0!==c.stack&&D(c.stack),s.push(e+" failed to install")}Pa.endGroup()}async function Tn(e,t,r){const n=await async function(e,t,r){const{keywords:n,optionalKeywords:i}=await async function(e,t){const r=[],n=[];switch(e){case"win32":{n.push(".tar.xz",".tar.xz");const e=[];Ey.includes(t)?(e.push("win64"),n.push(["x86_64","X64"])):_y.includes(t)?e.push("win32"):by.includes(t)?e.push("woa64"):(M(`Using arch ${t} for LLVM`),e.push(t)),e.push("windows","Windows"),r.push(e);break}case"linux":{const e=["linux","Linux"];if(ut()){n.push("ubuntu");const e=await py();if(null!==e){n.push(""+e[0]);const t=10>e[1]?"0"+e[1]:""+e[1];n.push(`${e[0]}.${t}`),n.push(`${e[0]}.${t}.${e[2]}`)}}else At()&&n.push("rhel");Ey.includes(t)?r.push(["x86_64","X64"]):_y.includes(t)?r.push("x86"):by.includes(t)?r.push("aarch64"):Sy.includes(t)?r.push("armv7a"):Oy.includes(t)?r.push("powerpc64le"):Ry.includes(t)?r.push("sparc64"):(M(`Using arch ${t} for LLVM`),r.push(t)),r.push(e);break}case"darwin":r.push(["apple","macos","macOS"]),Ey.includes(t)?n.push(["x86_64","X64"]):by.includes(t)?n.push(["arm64","ARM64"]):(M(`Using arch ${t} for LLVM`),r.push(t));break;case"freebsd":r.push("freebsd"),Ey.includes(t)?r.push("amd64"):_y.includes(t)?r.push("i386"):(M(`Using arch ${t} for LLVM`),r.push(t));break;case"solaris":r.push("solaris"),Ey.includes(t)?r.push("amd64"):Iy.includes(t)?r.push("sparcv9"):(M(`Using arch ${t} for LLVM`),r.push(t));break;default:M(`Using ${e} ${t} for LLVM`),r.push(e,t)}return{keywords:r,optionalKeywords:n}}(e,t),o=Bt(await Gt(Gn(Jy,"github_llvm_llvm-project.json")),{version:r,keywords:n,optionalKeywords:i,filterMapTag:e=>e.replace(/^llvmorg-/,"")});if(void 0!==o)return`https://github.com/llvm/llvm-project/releases/download/${o.tag}/${o.name}`;const s=Bt(await Gt(Gn(Jy,"llvm_org_releases.json")),{version:r,keywords:n,optionalKeywords:i});if(void 0!==s)return`https://releases.llvm.org/${s.tag}/${s.name}`;throw Error(`No asset found for version ${r} matching ${n} and ${i}`)}(t,r,e);M("Downloading LLVM from "+n);const i=Ir(n);return{url:n,extractedFolderName:"",binRelativeDir:"bin",binFileName:Xe("clang"),extractFunction:i===Mm.Tar||i===Mm.TarGz||i===Mm.TarXz?(e,t)=>"win32"===process.platform?xr(e,t,!0):$r(e,t,1):Pr(i)}}async function Nn(e,t,r){const n=await $n(e,t,r);return await tv(r),await async function(){if(!Zy)return;const e=Gn(ev,"llvm_matcher.json");if(!(await Ce(e)))return j("the llvm_matcher.json file does not exist in the same folder as setup-cpp.js");M("::add-matcher::"+e)}(),void 0!==n.installDir&&await async function(e,t){const r=process.env.LD_LIBRARY_PATH??"",n=process.env.DYLD_LIBRARY_PATH??"",i=gy(t),o=[De("CC",Xe(e+"/bin/clang"),Qd),De("CXX",Xe(e+"/bin/clang++"),Qd),De("LLVM_PATH",e,Qd),De("LLVM_LD_LIBRARY_PATH",`${r}${Hn}${e}/lib`,Qd),De("LLVM_DYLD_LIBRARY_PATH",`${n}${Hn}${e}/lib`,Qd),De("LLVM_LDFLAGS","-L"+Yr(e+"/lib"),Qd),De("LLVM_CPPFLAGS","-I"+Yr(e+"/include"),Qd),await Ce(`${e}/lib/clang/${t}/include`)?De("LLVM_CPATH",`${e}/lib/clang/${t}/include`,Qd):await Ce(`${e}/lib/clang/${i}/include`)?De("LLVM_CPATH",`${e}/lib/clang/${i}/include`,Qd):Promise.resolve(),De("LLVM_LIBRARY_PATH",e+"/lib",Qd),Ct()];if(ut()){const t=60;o.push(at("cc",e+"/bin/clang",Qd,t),at("cxx",e+"/bin/clang++",Qd,t),at("clang",e+"/bin/clang",Qd),at("clang++",e+"/bin/clang++",Qd),at("lld",e+"/bin/lld",Qd),at("ld.lld",e+"/bin/ld.lld",Qd),at("llvm-ar",e+"/bin/llvm-ar",Qd))}await Promise.all(o)}(n.installDir,e),n}async function $n(e,t,r,n=Yy.All){const i=await async function(e,t=0){if(ut())try{return await async function(e,t=0){const r=gy(e),n="/usr/lib/llvm-"+r;await _t([{name:"ca-certificates"}]);const i=new Dd.DownloaderHelper("https://apt.llvm.org/llvm.sh",Un(),{fileName:"llvm.sh"});i.on("error",e=>{throw Error("Failed to download the LLVM installer script: "+e)}),await i.start();const o=await Ai(i.getDownloadPath(),"utf-8"),s=Gn(Un(),"llvm-setup-cpp.sh");return await async function(e,t,r,n){let i=function(e){return"1"!==process.env.NODE_DEBUG&&"true"!==process.env.NODE_DEBUG?e.replace(/set -eux/g,"set -eu"):e}(e);i=function(e){return e.replace(/add-apt-repository\s*(-y)?\s*"\${REPO_NAME}"/g,'add-apt-repository -y "${REPO_NAME}"\napt-get update -o '+Ud)}(i),i=function(e,t,r){return 1===e?t.replace(/ -y \$PKG/g," -y clang-format-"+r):t}(n,i,r),i=await async function(e){let t=e.replace(/apt-get install -y/g,`apt-get install -o Dpkg::Options::="--force-overwrite" -o ${Ud}  -y --fix-broken`);return await Promise.all(["libc++-$LLVM_VERSION-dev","libc++abi-$LLVM_VERSION-dev","libunwind-$LLVM_VERSION-dev"].map(async e=>{const r=e.replace("$LLVM_VERSION","*");await async function(e){try{const{stdout:t}=await z("dpkg",["-l",e],{env:ft("apt-get"),stdio:"pipe"});return"string"==typeof t&&t.split("\n").some(e=>e.startsWith("ii"))}catch{return!1}}(r)&&(Bi("Removing conflicting package "+r),t=t.replace(e,""))})),t}(i),i=function(e){return ct()?e.replace(/apt-get/g,"nala"):e}(i),await ki(t,i)}(o,s,r,t),await Et(),await _t([{name:"lsb-release"},{name:"wget"},{name:"gnupg"}]),await Di(s,"755"),await re("bash",[s,""+r,...0===t?["all"]:[]],{stdio:"inherit",shell:!0,timeout:Xy}),await je(n+"/bin",Qd),{installDir:""+n,binDir:n+"/bin",bin:n+"/bin/clang++"}}(e,t)}catch(r){Bi(`Failed to install llvm via system package manager ${r}. Trying to remove the repository`);try{te(Gn(Ky,"llvm_repo_remove.bash"),[""+gy(e)])}catch(n){Bi("Failed to remove llvm repository "+n)}}}(e,n);if(void 0!==i)return i;const o=await async function(e){if(await Td())try{return await function(e){return st([{name:"llvm"+gy(e)}])}(e)}catch(t){M(`Failed to install llvm via system package manager ${t}.`)}}(e);if(void 0!==o)return o;const s=await async function(e){if("darwin"!==process.platform)return Promise.resolve(void 0);try{return await async function(e){const t=gy(e),r=await Tt("llvm",""+t,{"force-bottle":!0});return await je(r.binDir,Qd),r}(e)}catch(t){return void M("Failed to install llvm via brew: "+t)}}(e);return void 0!==s?s:async function(e,t,r){const n=await Or("llvm",e,Tn,t,r);return await Qy(gy(e),r),n}(e,t,r)}function Cn(e,t,r){return $n(e,t,r,Yy.ClangFormat)}function An(e,t,r){return $n(e,t,r)}async function Ln(e={}){const t=e.architecture??process.arch,r=process.env.SETUP_CPP_DIR??Ae("~"),n=[],i=[],o=ud.create({autoloadLocales:!0});let s,a;ud.addLocale(pd),ed.addLocale(rd);const c=await py(),u=void 0!==e.compiler?function(e){try{const t=e.match(rv);if(null===t)return{compiler:e,version:void 0};const r=t[1],n=e.slice(0,t.index).replace(/[.-]$/,"");return r.match(/^\d{4}$/)||null!==dd(r)||M("Non-semver version format: "+r),{compiler:n,version:r}}catch(t){return D(`Failed to parse the compiler info ${e}: ${t}`),{compiler:e,version:void 0}}}(e.compiler):void 0;if(!function(e,t,r){const n=void 0!==r&&t.includes(r.compiler),i=(n?t:t.filter(e=>"compiler"!==e)).filter(t=>void 0!==e[t]),o=i.filter(t=>!Br(n&&"compiler"===t&&void 0!==r?r.version:e[t])),s=0!==o.length?n&&"compiler"===o[0]&&void 0!==r?r.version??"true":e[o[0]]??"true":"true";if(o.some(t=>n&&"compiler"===t&&void 0!==r?e.compiler!==`${r.compiler}-${s}`:e[t]!==s))return!1;for(const a of i)e[a]=n&&"compiler"===a&&void 0!==r?`${r.compiler}-${s}`:s;return!0}(e,[...Vy,"compiler"],u))return{successMessages:[],errorMessages:["The same version must be used for llvm, clang-format and clang-tidy"]};Lt()&&"string"==typeof e.cppcheck&&"string"==typeof e.gcovr&&(M("installing python-pygments to avoid conflicts with cppcheck and gcovr on Arch linux"),await Dt("python-pygments"));const l=zy.filter(t=>{const r=e[t];return void 0!==r&&"false"!==r}),f=void 0===e["setup-cpp"]||e["setup-cpp"]?async function(e,t="npm"){try{return null!==await hu("setup-cpp",{nothrow:!0})?`setup-cpp@${e} already installed`:(M(`Installing setup-cpp@${e} via ${t}...`),await z(t,["install","-g","setup-cpp@"+e],{stdio:"inherit",timeout:6e4}),`setup-cpp@${e} installed successfully`)}catch(r){return Error(`Failed to install the setup-cpp@${e} CLI: ${r}. Ignoring...`)}}(Ns.version,e["node-package-manager"]):Promise.resolve(void 0);let p=!1;for(const h of l){const u=e[h],l=void 0!==e.timeout?60*Number.parseFloat(e.timeout)*1e3:void 0;if(s=Date.now(),await xn(h,u,c,t,r,n,i,l),a=Date.now(),M("took "+(o.format(s,a)||"0 seconds")),0!==i.length&&Ls.isCI){p=!0;break}}if(!p&&void 0!==u){const e=Date.now();await async function(e,t,r,n,i,o,s){let a;try{if(Pa.startGroup(`Installing ${e} ${t??""}`),e in jy)a=await Nn(Mr("llvm",t,r),Gn(n,"llvm"),i),await De("GCOV","llvm-cov gcov",Qd);else if(e in Uy){const e=Mr("gcc",t,r);a=await Fr(e,Gn(n,"gcc"),i),await nn(e)}else if(e in My){const e=Mr("mingw",t,r);a=await Cr(e,Gn(n,"gcc"),i),await nn(e)}else e in Gy?a=await _n(Mr("msvc",t,r),Gn(n,"msvc"),i):e in By?await on():(a=null,s.push("Unsupported compiler "+e))}catch(c){D(c),c instanceof Error&&D(c.stack??""),s.push(`Failed to install the ${e} compiler ${t}`)}null!==a&&o.push($t(e,a)),Pa.endGroup()}(u.compiler,u.version,c,r,t,n,i);const s=Date.now();M("took "+(o.format(e,s)||"0 seconds"))}const d=await f;return"string"==typeof d&&n.push(d),await async function(e){if(await Ce(e.rcPath)){const t=(await $p(e.rcPath,"utf-8")).split("\n"),r=[...new Set(t.reverse())].reverse();await Cp(e.rcPath,r.join("\n")),await se(e.rcPath)}}(Qd),{successMessages:n,errorMessages:i}}function kn(r){const n=Object.fromEntries(Wy.map(e=>[e,Nt(e)]));return function(r,n){var i,o,s,a,c,u={_:[]},l=0,f=0,p=0,d=(r=r||[]).length;const h=void 0!==(n=n||{}).alias,m=void 0!==n.unknown,y=void 0!==n.default;if(n.alias=n.alias||{},n.string=e(n.string),n.boolean=e(n.boolean),h)for(i in n.alias)for(o=n.alias[i]=e(n.alias[i]),l=0;o.length>l;l++)(n.alias[o[l]]=o.concat(i)).splice(l,1);for(l=n.boolean.length;l-- >0;)for(f=(o=n.alias[n.boolean[l]]||[]).length;f-- >0;)n.boolean.push(o[f]);for(l=n.string.length;l-- >0;)for(f=(o=n.alias[n.string[l]]||[]).length;f-- >0;)n.string.push(o[f]);if(y)for(i in n.default)if(a=typeof n.default[i],o=n.alias[i]=n.alias[i]||[],void 0!==n[a])for(n[a].push(i),l=0;o.length>l;l++)n[a].push(o[l]);const v=m?Object.keys(n.alias):[];for(l=0;d>l;l++){if("--"===(s=r[l])){u._=u._.concat(r.slice(++l));break}for(f=0;s.length>f&&45===s.charCodeAt(f);f++);if(0===f)u._.push(s);else if("no-"===s.substring(f,f+3)){if(a=s.substring(f+3),m&&!~v.indexOf(a))return n.unknown(s);u[a]=!1}else{for(p=f+1;s.length>p&&61!==s.charCodeAt(p);p++);for(a=s.substring(f,p),c=s.substring(++p)||l+1===d||45===(""+r[l+1]).charCodeAt(0)||r[++l],o=2===f?[a]:a,p=0;o.length>p;p++){if(a=o[p],m&&!~v.indexOf(a))return n.unknown("-".repeat(f)+a);t(u,a,o.length>p+1||c,n)}}}if(y)for(i in n.default)void 0===u[i]&&(u[i]=n.default[i]);if(h)for(i in u)for(o=n.alias[i]||[];o.length>0;)u[o.shift()]=u[i];return u}(r,{string:[...Wy,"timeout","node-package-manager"],default:n,alias:{h:"help",v:"version"},boolean:["help","version","setup-cpp"]})}import Dn from"process";import Fn,{homedir as jn,tmpdir as Un}from"os";import Mn,{join as Gn,resolve as Bn,delimiter as Hn,basename as Vn,extname as qn,normalize as zn,sep as Wn,dirname as Xn,relative as Kn,parse as Yn}from"path";import Jn,{promises as Qn,existsSync as Zn,mkdir as ei,stat as ti,statSync as ri,mkdirSync as ni}from"fs";import*as ii from"https";import oi from"https";import si from"crypto";import*as ai from"http";import ci from"http";import"net";import ui from"tls";import li from"events";import fi from"assert";import pi from"util";import di from"string_decoder";import hi from"child_process";import mi from"timers";import{Buffer as yi}from"node:buffer";import vi from"node:path";import wi,{ChildProcess as gi}from"node:child_process";import Ei from"node:process";import{fileURLToPath as _i}from"node:url";import bi,{constants as Si}from"node:os";import Oi,{createWriteStream as Ri,createReadStream as Ii,readFileSync as Pi,promises as xi}from"node:fs";import Ti from"buffer";import Ni from"stream";import{debuglog as $i}from"node:util";import Ci,{readFile as Ai,appendFile as Li,writeFile as ki,chmod as Di,readdir as Fi}from"fs/promises";import ji,{fileURLToPath as Ui}from"url";import Mi from"constants";import{error as Gi,info as Bi}from"console";var Hi,Vi,qi,zi,Wi,Xi,Ki,Yi,Ji,Qi,Zi,eo,to,ro,no,io,oo,so,ao,co,uo,lo,fo,po,ho,mo,yo,vo,wo,go,Eo,_o,bo,So,Oo,Ro,Io,Po,xo,To,No,$o,Co,Ao,Lo,ko,Do,Fo,jo,Uo,Mo,Go,Bo,Ho,Vo,qo,zo,Wo,Xo,Ko,Yo,Jo,Qo,Zo,es,ts,rs,ns,is,os,ss,as,cs,us,ls,fs,ps,ds,hs,ms,ys,vs,ws,gs,Es,_s,bs,Ss,Os,Rs,Is,Ps="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xs={exports:{}};const Ts=r(function(){function e(e,t,r,n){return new(r||(r=Promise))(function(t,i){function o(e){try{a(n.next(e))}catch(t){i(t)}}function s(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(o,s)}a((n=n.call(e)).next())})}function t(e,t){function r(r){return function(c){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,r[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&o[3]>r[1])){a.label=r[1];break}if(6===r[0]&&o[1]>a.label){a.label=o[1],o=r;break}if(o&&o[2]>a.label){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}if(Is)return Rs;Is=1;var r=Dn,n=P(),i=Fn,o=Mn,s=Jn,a=oi,c=r.env.npm_package_json,u=r.env.npm_config_user_agent,l=!(!u||!u.startsWith("npm")),f=!(!c||!c.endsWith("package.json")),p=l||f,d=!(!u||!u.startsWith("yarn")),h=p||d,m=i.homedir(),y=process.env.XDG_CONFIG_HOME||o.join(m,".config","simple-update-notifier"),v=function(e){return o.join(y,"".concat(e.replace("@","").replace("/","__"),".json"))},w=function(r,n){return e(void 0,0,void 0,function(){var e;return t(this,function(t){return e="https://registry.npmjs.org/-/package/".concat(r,"/dist-tags"),[2,new Promise(function(t,r){a.get(e,function(e){var i="";e.on("data",function(e){return i+=e}),e.on("end",function(){try{var e=JSON.parse(i)[n];e||r(Error("Error getting version")),t(e)}catch(o){r(Error("Could not parse version response"))}})}).on("error",function(e){return r(e)})})]})})},g=function(r){var i=r.pkg,o=r.updateCheckInterval,a=void 0===o?864e5:o,c=r.distTag,u=void 0===c?"latest":c,l=r.alwaysRun,f=r.debug;return e(void 0,0,void 0,function(){var e,o;return t(this,function(t){switch(t.label){case 0:return s.existsSync(y)||s.mkdirSync(y,{recursive:!0}),e=function(e){var t=v(e);try{if(!s.existsSync(t))return;return JSON.parse(s.readFileSync(t,"utf8")).lastUpdateCheck}catch(r){return}}(i.name),l||!e||e<(new Date).getTime()-a?[4,w(i.name,u)]:[3,2];case 1:return o=t.sent(),c=v(i.name),s.writeFileSync(c,JSON.stringify({lastUpdateCheck:(new Date).getTime()})),n.gt(o,i.version)?[2,o]:(f&&console.error("Latest version (".concat(o,") not newer than current version (").concat(i.version,")")),[3,3]);case 2:f&&console.error("Too recent to check for a new update. simpleUpdateNotifier() interval set to ".concat(a,"ms but only ").concat((new Date).getTime()-e,"ms since last check.")),t.label=3;case 3:return[2,!1]}var c})})};return Rs=function(r){return e(void 0,0,void 0,function(){var e,n;return t(this,function(t){switch(t.label){case 0:if(!r.alwaysRun&&(!process.stdout.isTTY||h&&!r.shouldNotifyInNpmScript))return r.debug&&console.error("Opting out of running simpleUpdateNotifier()"),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,g(r)];case 2:return(e=t.sent())&&console.error(function(e){for(var t=e.split("\n"),r=Math.max.apply(Math,t.map(function(e){return e.length})),n=["┌".concat("─".repeat(r+2),"┐")],i=0,o=t;o.length>i;i++)n.push("│ ".concat(o[i].padEnd(r)," │"));return n.push("└".concat("─".repeat(r+2),"┘")),n.join("\n")}("New version of ".concat(r.pkg.name," available!\nCurrent Version: ").concat(r.pkg.version,"\nLatest Version: ").concat(e))),[3,4];case 3:return n=t.sent(),r.debug&&n instanceof Error&&console.error("Unexpected error in simpleUpdateNotifier():",n),[3,4];case 4:return[2]}})})}}()),Ns={name:"setup-cpp",version:"1.7.0"};var $s={};const Cs=[{name:"Agola CI",constant:"AGOLA",env:"AGOLA_GIT_REF",pr:"AGOLA_PULL_REQUEST_ID"},{name:"Appcircle",constant:"APPCIRCLE",env:"AC_APPCIRCLE",pr:{env:"AC_GIT_PR",ne:"false"}},{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN",pr:{env:"CODEBUILD_WEBHOOK_EVENT",any:["PULL_REQUEST_CREATED","PULL_REQUEST_UPDATED","PULL_REQUEST_REOPENED"]}},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"TF_BUILD",pr:{BUILD_REASON:"PullRequest"}},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"Cloudflare Pages",constant:"CLOUDFLARE_PAGES",env:"CF_PAGES"},{name:"Cloudflare Workers",constant:"CLOUDFLARE_WORKERS",env:"WORKERS_CI"},{name:"Codefresh",constant:"CODEFRESH",env:"CF_BUILD_ID",pr:{any:["CF_PULL_REQUEST_NUMBER","CF_PULL_REQUEST_ID"]}},{name:"Codemagic",constant:"CODEMAGIC",env:"CM_BUILD_ID",pr:"CM_PULL_REQUEST"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"Earthly",constant:"EARTHLY",env:"EARTHLY_CI"},{name:"Expo Application Services",constant:"EAS",env:"EAS_BUILD"},{name:"Gerrit",constant:"GERRIT",env:"GERRIT_PROJECT"},{name:"Gitea Actions",constant:"GITEA_ACTIONS",env:"GITEA_ACTIONS"},{name:"GitHub Actions",constant:"GITHUB_ACTIONS",env:"GITHUB_ACTIONS",pr:{GITHUB_EVENT_NAME:"pull_request"}},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI",pr:"CI_MERGE_REQUEST_ID"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Google Cloud Build",constant:"GOOGLE_CLOUD_BUILD",env:"BUILDER_OUTPUT"},{name:"Harness CI",constant:"HARNESS",env:"HARNESS_BUILD_ID"},{name:"Heroku",constant:"HEROKU",env:{env:"NODE",includes:"/app/.heroku/node/bin/node"}},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"LayerCI",constant:"LAYERCI",env:"LAYERCI",pr:"LAYERCI_PULL_REQUEST"},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Nevercode",constant:"NEVERCODE",env:"NEVERCODE",pr:{env:"NEVERCODE_PULL_REQUEST",ne:"false"}},{name:"Prow",constant:"PROW",env:"PROW_JOB_ID"},{name:"ReleaseHub",constant:"RELEASEHUB",env:"RELEASE_BUILD_ID"},{name:"Render",constant:"RENDER",env:"RENDER",pr:{IS_PULL_REQUEST:"true"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Screwdriver",constant:"SCREWDRIVER",env:"SCREWDRIVER",pr:{env:"SD_PULL_REQUEST",ne:"false"}},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Sourcehut",constant:"SOURCEHUT",env:{CI_NAME:"sourcehut"}},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}},{name:"Vela",constant:"VELA",env:"VELA",pr:{VELA_PULL_REQUEST:"1"}},{name:"Vercel",constant:"VERCEL",env:{any:["NOW_BUILDER","VERCEL"]},pr:"VERCEL_GIT_PULL_REQUEST_ID"},{name:"Visual Studio App Center",constant:"APPCENTER",env:"APPCENTER_BUILD_ID"},{name:"Woodpecker",constant:"WOODPECKER",env:{CI:"woodpecker"},pr:{CI_BUILD_EVENT:"pull_request"}},{name:"Xcode Cloud",constant:"XCODE_CLOUD",env:"CI_XCODE_PROJECT",pr:"CI_PULL_REQUEST_NUMBER"},{name:"Xcode Server",constant:"XCODE_SERVER",env:"XCS"}];var As,Ls=(As||(As=1,function(e){function t(e){return"string"==typeof e?!!n[e]:"env"in e?n[e.env]&&n[e.env].includes(e.includes):"any"in e?e.any.some(function(e){return!!n[e]}):Object.keys(e).every(function(t){return n[t]===e[t]})}const r=Cs,n=process.env;Object.defineProperty(e,"_vendors",{value:r.map(function(e){return e.constant})}),e.name=null,e.isPR=null,e.id=null,r.forEach(function(r){const i=(Array.isArray(r.env)?r.env:[r.env]).every(function(e){return t(e)});e[r.constant]=i,i&&(e.name=r.name,e.isPR=function(e){switch(typeof e.pr){case"string":return!!n[e.pr];case"object":return"env"in e.pr?"any"in e.pr?e.pr.any.some(function(t){return n[e.pr.env]===t}):e.pr.env in n&&n[e.pr.env]!==e.pr.ne:"any"in e.pr?e.pr.any.some(function(e){return!!n[e]}):t(e.pr);default:return null}}(r),e.id=r.constant)}),e.isCI=!("false"===n.CI||!(n.BUILD_ID||n.BUILD_NUMBER||n.CI||n.CI_APP_ID||n.CI_BUILD_ID||n.CI_BUILD_NUMBER||n.CI_NAME||n.CONTINUOUS_INTEGRATION||n.RUN_ID||e.name))}($s)),$s);const ks=r(Ls);var Ds,Fs,js,Us={},Ms={},Gs={},Bs={},Hs={};class Vs extends URL{_decodedUsername;_decodedPassword;constructor(e,t){super(e,t),this._decodedUsername=decodeURIComponent(super.username),this._decodedPassword=decodeURIComponent(super.password)}get username(){return this._decodedUsername}get password(){return this._decodedPassword}}var qs,zs,Ws,Xs,Ks,Ys,Js,Qs,Zs={},ea=(Ws||(Ws=1,zs=function(){function e(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||s.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,n,i,o){for(var s=r(n,i,o),a=0,c=t.requests.length;c>a;++a){var u=t.requests[a];if(u.host===s.host&&u.port===s.port)return t.requests.splice(a,1),void u.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function t(t,r){var i=this;e.prototype.createSocket.call(i,t,function(e){var s=t.request.getHeader("host"),a=n({},i.options,{socket:e,servername:s?s.replace(/:.*$/,""):t.host}),c=o.connect(0,a);i.sockets[i.sockets.indexOf(e)]=c,r(c)})}function r(e,t,r){return"string"==typeof e?{host:e,port:t,localAddress:r}:e}function n(e){for(var t=1,r=arguments.length;r>t;++t){var n=arguments[t];if("object"==typeof n)for(var i=Object.keys(n),o=0,s=i.length;s>o;++o){var a=i[o];void 0!==n[a]&&(e[a]=n[a])}}return e}if(qs)return Zs;qs=1;var i,o=ui,s=ci,a=oi,c=li,u=pi;return Zs.httpOverHttp=function(t){var r=new e(t);return r.request=s.request,r},Zs.httpsOverHttp=function(r){var n=new e(r);return n.request=s.request,n.createSocket=t,n.defaultPort=443,n},Zs.httpOverHttps=function(t){var r=new e(t);return r.request=a.request,r},Zs.httpsOverHttps=function(r){var n=new e(r);return n.request=a.request,n.createSocket=t,n.defaultPort=443,n},u.inherits(e,c.EventEmitter),e.prototype.addRequest=function(e,t,i,o){var s=this,a=n({request:e},s.options,r(t,i,o));this.maxSockets>s.sockets.length?s.createSocket(a,function(t){function r(){s.emit("free",t,a)}function n(e){s.removeSocket(t),t.removeListener("free",r),t.removeListener("close",n),t.removeListener("agentRemove",n)}t.on("free",r),t.on("close",n),t.on("agentRemove",n),e.onSocket(t)}):s.requests.push(a)},e.prototype.createSocket=function(e,t){function r(r,n,a){var u;return c.removeAllListeners(),n.removeAllListeners(),200!==r.statusCode?(i("tunneling socket could not be established, statusCode=%d",r.statusCode),n.destroy(),(u=Error("tunneling socket could not be established, statusCode="+r.statusCode)).code="ECONNRESET",e.request.emit("error",u),void o.removeSocket(s)):a.length>0?(i("got illegal response body from proxy"),n.destroy(),(u=Error("got illegal response body from proxy")).code="ECONNRESET",e.request.emit("error",u),void o.removeSocket(s)):(i("tunneling connection has established"),o.sockets[o.sockets.indexOf(s)]=n,t(n))}var o=this,s={};o.sockets.push(s);var a=n({},o.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(a.localAddress=e.localAddress),a.proxyAuth&&(a.headers=a.headers||{},a.headers["Proxy-Authorization"]="Basic "+new Buffer(a.proxyAuth).toString("base64")),i("making CONNECT request");var c=o.request(a);c.useChunkedEncodingByDefault=!1,c.once("response",function(e){e.upgrade=!0}),c.once("upgrade",function(e,t,n){process.nextTick(function(){r(e,t,n)})}),c.once("connect",r),c.once("error",function(t){c.removeAllListeners(),i("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var r=Error("tunneling socket could not be established, cause="+t.message);r.code="ECONNRESET",e.request.emit("error",r),o.removeSocket(s)}),c.end()},e.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createSocket(r,function(e){r.request.onSocket(e)})}},i=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=[].slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},Zs.debug=i,Zs}()),zs);(Ks=Xs||(Xs={}))[Ks.OK=200]="OK",Ks[Ks.MultipleChoices=300]="MultipleChoices",Ks[Ks.MovedPermanently=301]="MovedPermanently",Ks[Ks.ResourceMoved=302]="ResourceMoved",Ks[Ks.SeeOther=303]="SeeOther",Ks[Ks.NotModified=304]="NotModified",Ks[Ks.UseProxy=305]="UseProxy",Ks[Ks.SwitchProxy=306]="SwitchProxy",Ks[Ks.TemporaryRedirect=307]="TemporaryRedirect",Ks[Ks.PermanentRedirect=308]="PermanentRedirect",Ks[Ks.BadRequest=400]="BadRequest",Ks[Ks.Unauthorized=401]="Unauthorized",Ks[Ks.PaymentRequired=402]="PaymentRequired",Ks[Ks.Forbidden=403]="Forbidden",Ks[Ks.NotFound=404]="NotFound",Ks[Ks.MethodNotAllowed=405]="MethodNotAllowed",Ks[Ks.NotAcceptable=406]="NotAcceptable",Ks[Ks.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",Ks[Ks.RequestTimeout=408]="RequestTimeout",Ks[Ks.Conflict=409]="Conflict",Ks[Ks.Gone=410]="Gone",Ks[Ks.TooManyRequests=429]="TooManyRequests",Ks[Ks.InternalServerError=500]="InternalServerError",Ks[Ks.NotImplemented=501]="NotImplemented",Ks[Ks.BadGateway=502]="BadGateway",Ks[Ks.ServiceUnavailable=503]="ServiceUnavailable",Ks[Ks.GatewayTimeout=504]="GatewayTimeout",(Js=Ys||(Ys={})).Accept="accept",Js.ContentType="content-type",(Qs||(Qs={})).ApplicationJson="application/json";const ta=[Xs.MovedPermanently,Xs.ResourceMoved,Xs.SeeOther,Xs.TemporaryRedirect,Xs.PermanentRedirect],ra=[Xs.BadGateway,Xs.ServiceUnavailable,Xs.GatewayTimeout],na=["OPTIONS","GET","DELETE","HEAD"];class ia extends Error{constructor(e,t){super(e),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,ia.prototype)}statusCode;result}class oa{constructor(e){this.message=e}message;async readBody(){return new Promise(async e=>{let t=Buffer.alloc(0);this.message.on("data",e=>{t=Buffer.concat([t,e])}),this.message.on("end",()=>{e(""+t)})})}async readBodyBuffer(){return new Promise(async e=>{const t=[];this.message.on("data",e=>{t.push(e)}),this.message.on("end",()=>{e(Buffer.concat(t))})})}}class sa{userAgent;handlers;requestOptions;_ignoreSslError=!1;_socketTimeout;_allowRedirects=!0;_allowRedirectDowngrade=!1;_maxRedirects=50;_allowRetries=!1;_maxRetries=1;_agent;_proxyAgent;_proxyAgentDispatcher;_keepAlive=!1;_disposed=!1;constructor(e,t,r){this.userAgent=e,this.handlers=t||[],this.requestOptions=r,r&&(null!=r.ignoreSslError&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,null!=r.allowRedirects&&(this._allowRedirects=r.allowRedirects),null!=r.allowRedirectDowngrade&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),null!=r.maxRedirects&&(this._maxRedirects=Math.max(r.maxRedirects,0)),null!=r.keepAlive&&(this._keepAlive=r.keepAlive),null!=r.allowRetries&&(this._allowRetries=r.allowRetries),null!=r.maxRetries&&(this._maxRetries=r.maxRetries))}async options(e,t){return this.request("OPTIONS",e,null,t||{})}async get(e,t){return this.request("GET",e,null,t||{})}async del(e,t){return this.request("DELETE",e,null,t||{})}async post(e,t,r){return this.request("POST",e,t,r||{})}async patch(e,t,r){return this.request("PATCH",e,t,r||{})}async put(e,t,r){return this.request("PUT",e,t,r||{})}async head(e,t){return this.request("HEAD",e,null,t||{})}async sendStream(e,t,r,n){return this.request(e,t,r,n)}async getJson(e,t={}){t[Ys.Accept]=this._getExistingOrDefaultHeader(t,Ys.Accept,Qs.ApplicationJson);const r=await this.get(e,t);return this._processResponse(r,this.requestOptions)}async postJson(e,t,r={}){const n=JSON.stringify(t,null,2);r[Ys.Accept]=this._getExistingOrDefaultHeader(r,Ys.Accept,Qs.ApplicationJson),r[Ys.ContentType]=this._getExistingOrDefaultHeader(r,Ys.ContentType,Qs.ApplicationJson);const i=await this.post(e,n,r);return this._processResponse(i,this.requestOptions)}async putJson(e,t,r={}){const n=JSON.stringify(t,null,2);r[Ys.Accept]=this._getExistingOrDefaultHeader(r,Ys.Accept,Qs.ApplicationJson),r[Ys.ContentType]=this._getExistingOrDefaultHeader(r,Ys.ContentType,Qs.ApplicationJson);const i=await this.put(e,n,r);return this._processResponse(i,this.requestOptions)}async patchJson(e,t,r={}){const n=JSON.stringify(t,null,2);r[Ys.Accept]=this._getExistingOrDefaultHeader(r,Ys.Accept,Qs.ApplicationJson),r[Ys.ContentType]=this._getExistingOrDefaultHeader(r,Ys.ContentType,Qs.ApplicationJson);const i=await this.patch(e,n,r);return this._processResponse(i,this.requestOptions)}async request(e,t,r,n){if(this._disposed)throw Error("Client has already been disposed.");const i=new URL(t);let o=this._prepareRequest(e,i,n);const s=this._allowRetries&&na.includes(e)?this._maxRetries+1:1;let a,c=0;do{if(a=await this.requestRaw(o,r),a&&a.message&&a.message.statusCode===Xs.Unauthorized){let e;for(const t of this.handlers)if(t.canHandleAuthentication(a)){e=t;break}return e?e.handleAuthentication(this,o,r):a}let t=this._maxRedirects;for(;a.message.statusCode&&ta.includes(a.message.statusCode)&&this._allowRedirects&&t>0;){const s=a.message.headers.location;if(!s)break;const c=new URL(s);if("https:"===i.protocol&&i.protocol!==c.protocol&&!this._allowRedirectDowngrade)throw Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await a.readBody(),c.hostname!==i.hostname)for(const e in n)"authorization"===e.toLowerCase()&&delete n[e];o=this._prepareRequest(e,c,n),a=await this.requestRaw(o,r),t--}if(!a.message.statusCode||!ra.includes(a.message.statusCode))return a;c+=1,s>c&&(await a.readBody(),await this._performExponentialBackoff(c))}while(s>c);return a}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}async requestRaw(e,t){return new Promise((r,n)=>{this.requestRawWithCallback(e,t,function(e,t){e?n(e):t?r(t):n(Error("Unknown error"))})})}requestRawWithCallback(e,t,r){function n(e,t){i||(i=!0,r(e,t))}"string"==typeof t&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let i=!1;const o=e.httpModule.request(e.options,e=>{n(void 0,new oa(e))});let s;o.on("socket",e=>{s=e}),o.setTimeout(this._socketTimeout||18e4,()=>{s&&s.end(),n(Error("Request timeout: "+e.options.path))}),o.on("error",function(e){n(e)}),t&&"string"==typeof t&&o.write(t,"utf8"),t&&"string"!=typeof t?(t.on("close",function(){o.end()}),t.pipe(o)):o.end()}getAgent(e){const t=new URL(e);return this._getAgent(t)}async getAgentDispatcher(e){const t=new URL(e),r=T(t);if(r&&r.hostname)return await this._getProxyAgentDispatcher(t,r)}_prepareRequest(e,t,r){const n={};n.parsedUrl=t;const i="https:"===n.parsedUrl.protocol;n.httpModule=i?ii:ai;const o=i?443:80;if(n.options={},n.options.host=n.parsedUrl.hostname,n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):o,n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||""),n.options.method=e,n.options.headers=this._mergeHeaders(r),null!=this.userAgent&&(n.options.headers["user-agent"]=this.userAgent),n.options.agent=this._getAgent(n.parsedUrl),this.handlers)for(const s of this.handlers)s.prepareRequest(n.options);return n}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},aa(this.requestOptions.headers),aa(e||{})):aa(e||{})}_getExistingOrDefaultHeader(e,t,r){let n;return this.requestOptions&&this.requestOptions.headers&&(n=aa(this.requestOptions.headers)[t]),e[t]||n||r}_getAgent(e){let t;const r=T(e),n=r&&r.hostname;if(this._keepAlive&&n&&(t=this._proxyAgent),n||(t=this._agent),t)return t;const i="https:"===e.protocol;let o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||ai.globalAgent.maxSockets),r&&r.hostname){const e={maxSockets:o,keepAlive:this._keepAlive,proxy:{...(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`},host:r.hostname,port:r.port}};let n;const s="https:"===r.protocol;n=i?s?ea.httpsOverHttps:ea.httpsOverHttp:s?ea.httpOverHttps:ea.httpOverHttp,t=n(e),this._proxyAgent=t}if(!t){const e={keepAlive:this._keepAlive,maxSockets:o};t=i?new ii.Agent(e):new ai.Agent(e),this._agent=t}return i&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}async _getProxyAgentDispatcher(e,t){let r;if(this._keepAlive&&(r=this._proxyAgentDispatcher),r)return r;const n="https:"===e.protocol;return r=new(await import("./assets/proxy-agent-NZ7dghMl.mjs").then(e=>e.p))({uri:t.href,pipelining:this._keepAlive?1:0,...(t.username||t.password)&&{token:"Basic "+Buffer.from(`${t.username}:${t.password}`).toString("base64")}}),this._proxyAgentDispatcher=r,n&&this._ignoreSslError&&(r.options=Object.assign(r.options.requestTls||{},{rejectUnauthorized:!1})),r}async _performExponentialBackoff(e){const t=5*Math.pow(2,e=Math.min(10,e));return new Promise(e=>setTimeout(()=>e(),t))}async _processResponse(e,t){return new Promise(async(r,n)=>{const i=e.message.statusCode||0,o={statusCode:i,result:null,headers:{}};let s,a;i===Xs.NotFound&&r(o);try{a=await e.readBody(),a&&a.length>0&&(s=t&&t.deserializeDates?JSON.parse(a,function(e,t){if("string"==typeof t){const e=new Date(t);if(!isNaN(e.valueOf()))return e}return t}):JSON.parse(a),o.result=s),o.headers=e.message.headers}catch(c){}if(i>299){let e;e=s&&s.message?s.message:a&&a.length>0?a:`Failed request: (${i})`;const t=new ia(e,i);t.result=o.result,n(t)}else r(o)})}}const aa=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}),ca=n(Object.freeze(Object.defineProperty({__proto__:null,get Headers(){return Ys},HttpClient:sa,HttpClientError:ia,HttpClientResponse:oa,get HttpCodes(){return Xs},get MediaTypes(){return Qs},getProxyUrl:function(e){const t=T(new URL(e));return t?t.href:""},isHttps:function(e){return"https:"===new URL(e).protocol}},Symbol.toStringTag,{value:"Module"})));var ua,la,fa,pa,da,ha,ma,ya,va,wa,ga={},Ea={},_a={},ba={},Sa={},Oa={},Ra={},Ia={},Pa=k();const{GITHUB_ACTIONS:xa}=ks;var Ta,Na,$a,Ca,Aa,La,ka,Da,Fa,ja,Ua,Ma,Ga,Ba,Ha,Va,qa,za,Wa,Xa,Ka,Ya,Ja,Qa={exports:{}},Za={exports:{}},ec={};const tc=r(function(){function e(e,i,o){const s=r(e,i,o),a=t.spawn(s.command,s.args,s.options);return n.hookChildProcess(a,s),a}if(Ja)return Qa.exports;Ja=1;const t=hi,r=B(),n=function(){function e(e,t){return Object.assign(Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function t(t,n){return r&&1===t&&!n.file?e(n.original,"spawn"):null}if(Ya)return Ka;Ya=1;const r="win32"===process.platform;return Ka={hookChildProcess:function(e,n){if(!r)return;const i=e.emit;e.emit=function(r,o){if("exit"===r){const r=t(o,n);if(r)return i.call(e,"error",r)}return i.apply(e,arguments)}},verifyENOENT:t,verifyENOENTSync:function(t,n){return r&&1===t&&!n.file?e(n.original,"spawnSync"):null},notFoundError:e},Ka}();return Qa.exports=e,Qa.exports.spawn=e,Qa.exports.sync=function(e,i,o){const s=r(e,i,o),a=t.spawnSync(s.command,s.args,s.options);return a.error=a.error||n.verifyENOENTSync(a.status,s),a},Qa.exports._parse=r,Qa.exports._enoent=n,Qa.exports}()),rc=({env:e=Ei.env,...t}={})=>{const r=H({env:e={...e}});return t.path=e[r],e[r]=(({cwd:e=Ei.cwd(),path:t=Ei.env[H()],preferLocal:r=!0,execPath:n=Ei.execPath,addExecPath:i=!0}={})=>{const o=e instanceof URL?_i(e):e,s=vi.resolve(o),a=[];return r&&((e,t)=>{let r;for(;r!==t;)e.push(vi.join(t,"node_modules/.bin")),r=t,t=vi.resolve(t,"..")})(a,s),i&&((e,t,r)=>{const n=t instanceof URL?_i(t):t;e.push(vi.resolve(r,n,".."))})(a,n,s),[...a,t].join(vi.delimiter)})(t),e},nc=(e,t,r,n)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const i=Object.getOwnPropertyDescriptor(e,r),o=Object.getOwnPropertyDescriptor(t,r);!ic(i,o)&&n||Object.defineProperty(e,r,o)},ic=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},oc=(e,t)=>`/* Wrapped ${e}*/\n${t}`,sc=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),ac=Object.getOwnPropertyDescriptor(function(){}.toString,"name"),cc=new WeakMap,uc=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",o=function(...s){if(cc.set(o,++n),1===n)r=e.apply(this,s),e=null;else if(!0===t.throw)throw Error(`Function \`${i}\` can only be called once`);return r};return function(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const i of Reflect.ownKeys(t))nc(e,t,i,r);((e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)})(e,t),((e,t,r)=>{const n=""===r?"":`with ${r.trim()}() `,i=oc.bind(null,n,""+t);Object.defineProperty(i,"name",ac),Object.defineProperty(e,"toString",{...sc,value:i})})(e,t,n)}(o,e),cc.set(o,n),o};uc.callCount=e=>{if(!cc.has(e))throw Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return cc.get(e)};const lc=(e,t)=>({name:"SIGRT"+(t+1),number:fc+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),fc=34,pc=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],dc=()=>{const e=Array.from({length:64-fc+1},lc);return[...pc,...e].map(hc)},hc=({name:e,number:t,description:r,action:n,forced:i=!1,standard:o})=>{const{signals:{[e]:s}}=Si,a=void 0!==s;return{name:e,number:a?s:t,description:r,supported:a,action:n,forced:i,standard:o}},mc=({name:e,number:t,description:r,supported:n,action:i,forced:o,standard:s})=>[e,{name:e,number:t,description:r,supported:n,action:i,forced:o,standard:s}],yc=(()=>{const e=dc();return Object.fromEntries(e.map(mc))})(),vc=(e,t)=>{const r=t.find(({name:t})=>Si.signals[t]===e);return void 0!==r?r:t.find(t=>t.number===e)};(()=>{const e=dc(),t=Array.from({length:65},(t,r)=>((e,t)=>{const r=vc(e,t);if(void 0===r)return{};const{name:n,description:i,supported:o,action:s,forced:a,standard:c}=r;return{[e]:{name:n,number:e,description:i,supported:o,action:s,forced:a,standard:c}}})(r,e));Object.assign({},...t)})();const wc=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:c,isCanceled:u,killed:l,parsed:{options:{timeout:f,cwd:p=Ei.cwd()}}})=>{const d=void 0===(i=null===i?void 0:i)?void 0:yc[i].description,h=(({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":void 0!==r?"failed with "+r:void 0!==n?`was killed with ${n} (${i})`:void 0!==o?"failed with exit code "+o:"failed")({timedOut:c,timeout:f,errorCode:n&&n.code,signal:i,signalDescription:d,exitCode:o=null===o?void 0:o,isCanceled:u}),m=`Command ${h}: ${s}`,y="[object Error]"==={}.toString.call(n),v=y?`${m}\n${n.message}`:m,w=[v,t,e].filter(Boolean).join("\n");return y?(n.originalMessage=n.message,n.message=w):n=Error(w),n.shortMessage=v,n.command=s,n.escapedCommand=a,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=e,n.stderr=t,n.cwd=p,void 0!==r&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=u,n.killed=l&&!c,n},gc=["stdin","stdout","stderr"];var Ec,_c,bc={exports:{}},Sc={exports:{}};const Oc=r(function(){if(_c)return bc.exports;_c=1;var e=Ps.process;const t=function(e){return e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on};if(t(e)){var r,n=fi,i=(Ec||(Ec=1,(y=Sc).exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&y.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&y.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")),Sc.exports),o=/^win/i.test(e.platform),s=li;"function"!=typeof s&&(s=s.EventEmitter),e.__signal_exit_emitter__?r=e.__signal_exit_emitter__:((r=e.__signal_exit_emitter__=new s).count=0,r.emitted={}),r.infinite||(r.setMaxListeners(1/0),r.infinite=!0),bc.exports=function(e,i){if(!t(Ps.process))return function(){};n.equal(typeof e,"function","a callback must be provided for exit handler"),!1===l&&f();var o="exit";return i&&i.alwaysLast&&(o="afterexit"),r.on(o,e),function(){r.removeListener(o,e),0===r.listeners("exit").length&&0===r.listeners("afterexit").length&&a()}};var a=function(){l&&t(Ps.process)&&(l=!1,i.forEach(function(t){try{e.removeListener(t,u[t])}catch(r){}}),e.emit=h,e.reallyExit=p,r.count-=1)};bc.exports.unload=a;var c=function(e,t,n){r.emitted[e]||(r.emitted[e]=!0,r.emit(e,t,n))},u={};i.forEach(function(n){u[n]=function(){t(Ps.process)&&e.listeners(n).length===r.count&&(a(),c("exit",null,n),c("afterexit",null,n),o&&"SIGHUP"===n&&(n="SIGINT"),e.kill(e.pid,n))}}),bc.exports.signals=function(){return i};var l=!1,f=function(){!l&&t(Ps.process)&&(l=!0,r.count+=1,i=i.filter(function(t){try{return e.on(t,u[t]),!0}catch(r){return!1}}),e.emit=m,e.reallyExit=d)};bc.exports.load=f;var p=e.reallyExit,d=function(r){t(Ps.process)&&(e.exitCode=r||0,c("exit",e.exitCode,null),c("afterexit",e.exitCode,null),p.call(e,e.exitCode))},h=e.emit,m=function(r,n){if("exit"===r&&t(Ps.process)){void 0!==n&&(e.exitCode=n);var i=h.apply(this,arguments);return c("exit",e.exitCode,null),c("afterexit",e.exitCode,null),i}return h.apply(this,arguments)}}else bc.exports=function(){return function(){}};var y;return bc.exports}()),Rc=(e,t="SIGTERM",r={})=>{const n=e(t);return Ic(e,t,r,n),n},Ic=(e,t,r,n)=>{if(!Pc(t,r,n))return;const i=Tc(r),o=setTimeout(()=>{e("SIGKILL")},i);o.unref&&o.unref()},Pc=(e,{forceKillAfterTimeout:t},r)=>xc(e)&&!1!==t&&r,xc=e=>e===bi.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),Tc=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||0>e)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Nc=(e,t)=>{e.kill()&&(t.isCanceled=!0)},$c=(e,t,r)=>{if("string"==typeof r)return e[t].pipe(Ri(r)),e;if(q(r))return e[t].pipe(r),e;if(!(e=>e instanceof gi&&"function"==typeof e.then)(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!q(r.stdin))throw new TypeError("The target child process's stdin must be available.");return e[t].pipe(r.stdin),r};var Cc,Ac,Lc,kc={exports:{}};const Dc=r(function(){async function e(e,r){if(!e)throw Error("Expected a stream");r={maxBuffer:1/0,...r};const{maxBuffer:n}=r,a=i(r);return await new Promise((r,i)=>{const c=e=>{e&&a.getBufferedLength()<=t.MAX_LENGTH&&(e.bufferedData=a.getBufferedValue()),i(e)};(async()=>{try{await o(e,a),r()}catch(t){c(t)}})(),a.on("data",()=>{a.getBufferedLength()>n&&c(new s)})}),a.getBufferedValue()}if(Lc)return kc.exports;Lc=1;const{constants:t}=Ti,r=Ni,{promisify:n}=pi,i=function(){if(Ac)return Cc;Ac=1;const{PassThrough:e}=Ni;return Cc=t=>{t={...t};const{array:r}=t;let{encoding:n}=t;const i="buffer"===n;let o=!1;r?o=!(n||i):n=n||"utf8",i&&(n=null);const s=new e({objectMode:o});n&&s.setEncoding(n);let a=0;const c=[];return s.on("data",e=>{c.push(e),o?a=c.length:a+=e.length}),s.getBufferedValue=()=>r?c:i?Buffer.concat(c,a):c.join(""),s.getBufferedLength=()=>a,s}}(),o=n(r.pipeline);class s extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}return kc.exports=e,kc.exports.buffer=(t,r)=>e(t,{...r,encoding:"buffer"}),kc.exports.array=(t,r)=>e(t,{...r,array:!0}),kc.exports.MaxBufferError=s,kc.exports}());var Fc,jc;const Uc=r(function(){if(jc)return Fc;jc=1;const{PassThrough:e}=Ni;return Fc=function(){function t(e){return Array.isArray(e)?(e.forEach(t),this):(n.push(e),e.once("end",r.bind(null,e)),e.once("error",i.emit.bind(i,"error")),e.pipe(i,{end:!1}),this)}function r(e){!(n=n.filter(function(t){return t!==e})).length&&i.readable&&i.end()}var n=[],i=new e({objectMode:!0});return i.setMaxListeners(0),i.add=t,i.isEmpty=function(){return 0==n.length},i.on("unpipe",r),[].slice.call(arguments).forEach(t),i}}()),Mc=e=>{if(void 0!==e)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},Gc=async(e,t)=>{if(e&&void 0!==t){e.destroy();try{return await t}catch(r){return r.bufferedData}}},Bc=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(e&&r)return t?Dc(e,{encoding:t,maxBuffer:n}):Dc.buffer(e,{maxBuffer:n})},Hc=(async()=>{})().constructor.prototype,Vc=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Hc,e)]),qc=(e,t)=>{for(const[r,n]of Vc){const i="function"==typeof t?(...e)=>Reflect.apply(n.value,t(),e):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}},zc=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],Wc=/^[\w.-]+$/,Xc=/"/g,Kc=(e,t)=>zc(e,t).join(" "),Yc=(e,t)=>zc(e,t).map(e=>(e=>"string"!=typeof e||Wc.test(e)?e:`"${e.replace(Xc,'\\"')}"`)(e)).join(" "),Jc=/ +/g,Qc=e=>{const t=[];for(const r of e.trim().split(Jc)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${r}`:t.push(r)}return t},Zc=$i("execa").enabled,eu=(e,t)=>(e+"").padStart(t,"0"),tu=(e,{verbose:t})=>{t&&Ei.stderr.write(`[${(()=>{const e=new Date;return`${eu(e.getHours(),2)}:${eu(e.getMinutes(),2)}:${eu(e.getSeconds(),2)}.${eu(e.getMilliseconds(),3)}`})()}] ${e}\n`)},ru=(e,t,r={})=>{const n=tc._parse(e,t,r);return e=n.command,t=n.args,(r={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(r=n.options).cwd||Ei.cwd(),execPath:Ei.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:Zc,...r}).env=(({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{const o=t?{...Ei.env,...e}:e;return r?rc({env:o,cwd:n,execPath:i}):o})(r),r.stdio=(e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return gc.map(t=>e[t]);if((e=>gc.some(t=>void 0!==e[t]))(e))throw Error("It's not possible to provide `stdio` in combination with one of "+gc.map(e=>`\`${e}\``).join(", "));if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);return Array.from({length:Math.max(t.length,gc.length)},(e,r)=>t[r])})(r),"win32"===Ei.platform&&"cmd"===vi.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},nu=(e,t,r)=>"string"==typeof t||yi.isBuffer(t)?e.stripFinalNewline?function(e){const t="string"==typeof e?"\r":13;return e[e.length-1]===("string"==typeof e?"\n":10)&&(e=e.slice(0,-1)),e[e.length-1]===t&&(e=e.slice(0,-1)),e}(t):t:void 0===r?void 0:"";var iu,ou,su,au,cu,uu,lu={},fu={},pu={},du={};const hu=r(function(){if(uu)return cu;uu=1;const{isexe:e,sync:t}=X(),{join:r,delimiter:n,sep:i,posix:o}=Mn,s="win32"===process.platform,a=RegExp(`[${o.sep}${i===o.sep?"":i}]`.replace(/(\\)/g,"\\$1")),c=RegExp("^\\."+a.source),u=e=>Object.assign(Error("not found: "+e),{code:"ENOENT"}),l=(e,{path:t=process.env.PATH,pathExt:r=process.env.PATHEXT,delimiter:i=n})=>{const o=e.match(a)?[""]:[...s?[process.cwd()]:[],...(t||"").split(i)];if(s){const t=r||[".EXE",".CMD",".BAT",".COM"].join(i),n=t.split(i).flatMap(e=>[e,e.toLowerCase()]);return e.includes(".")&&""!==n[0]&&n.unshift(""),{pathEnv:o,pathExt:n,pathExtExe:t}}return{pathEnv:o,pathExt:[""]}},f=(e,t)=>{const n=/^".*"$/.test(e)?e.slice(1,-1):e;return(!n&&c.test(t)?t.slice(0,2):"")+r(n,t)},p=async(t,r={})=>{const{pathEnv:n,pathExt:i,pathExtExe:o}=l(t,r),s=[];for(const a of n){const n=f(a,t);for(const t of i){const i=n+t;if(await e(i,{pathExt:o,ignoreErrors:!0})){if(!r.all)return i;s.push(i)}}}if(r.all&&s.length)return s;if(r.nothrow)return null;throw u(t)};return cu=p,p.sync=(e,r={})=>{const{pathEnv:n,pathExt:i,pathExtExe:o}=l(e,r),s=[];for(const a of n){const n=f(a,e);for(const e of i){const i=n+e;if(t(i,{pathExt:o,ignoreErrors:!0})){if(!r.all)return i;s.push(i)}}}if(r.all&&s.length)return s;if(r.nothrow)return null;throw u(e)},cu}());let mu;var yu,vu={};Y(vu,"hasSudo",()=>J),Y(vu,"isRoot",()=>Q),Y(vu,"isSudo",()=>Z),Y(vu,"prependSudo",()=>ee),Y(vu,"defaultExecOptions",()=>wu),Y(vu,"execRootSync",()=>te),Y(vu,"execRoot",()=>re);let wu={stdio:"inherit",shell:!0};Y(yu={},"isAdminWindows",()=>gu),Y(yu,"isAdminPosix",()=>Eu),Y(yu,"isAdmin",()=>oe);let gu=async function(){if("win32"!==process.platform)return!1;try{return await z("fsutil",["dirty","query",process.env.systemdrive??""]),!0}catch(e){return"ENOENT"===e.code&&async function(){try{return await z("fltmc"),!0}catch{return!1}}()}},Eu=Q;var _u,bu,Su,Ou,Ru,Iu,Pu,xu,Tu,Nu,$u,Cu,Au,Lu,ku,Du,Fu,ju,Uu,Mu,Gu,Bu,Hu,Vu,qu,zu;Y({},"grantUserWriteAccess",()=>se);var Wu,Xu,Ku,Yu,Ju,Qu,Zu,el,tl,rl,nl,il,ol,sl,al,cl,ul,ll,fl,pl,dl,hl,ml,yl,vl,wl,gl,El,_l,bl,Sl,Ol,Rl,Il,Pl,xl,Tl,Nl,$l,Cl,Al,Ll,kl,Dl,Fl,jl,Ul,Ml,Gl,Bl,Hl,Vl,ql,zl,Wl,Xl,Kl,Yl,Jl,Ql,Zl,ef,tf,rf,nf,of,sf,af,cf,uf,lf,ff,pf,df,hf,mf,yf,vf,wf,gf,Ef,_f,bf,Sf,Of,Rf,If,Pf,xf,Tf,Nf,$f,Cf,Af,Lf,kf,Df,Ff,jf,Uf,Mf,Gf,Bf,Hf,Vf,qf,zf,Wf,Xf,Kf,Yf,Jf,Qf,Zf,ep,tp,rp,np,ip,op,sp,ap,cp,up,lp,fp,pp,dp,hp,mp,yp={},vp={exports:{}},wp={exports:{}},gp={exports:{}},Ep={exports:{}},_p={},bp={},Sp={exports:{}},Op={},Rp={},Ip={},Pp={};const xp=r(function(){if(mp)return hp;mp=1;var e=ce(),t=le(),r=function(){if(Ef)return gf;Ef=1;var e=fe(),t=de(),r=he(),n=Re(),i=le();return gf=function o(s){var a,c,u;if(e(s),(a=Object(arguments[1])).async&&a.promise)throw Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(s,"__memoized__")&&!a.force?s:(c=i(a.length,s.length,a.async&&r.async),u=n(s,c,a),t(r,function(e,t){a[t]&&e(a[t],u,a)}),o.__profiler__&&o.__profiler__(u),u.updateEnv(),u.memoized)},gf}();return hp=function(n){var i,o=e(arguments[1]);return o.normalizer||0!==(i=o.length=t(o.length,n.length,o.async))&&(o.primitive?!1===i?o.normalizer=bf?_f:(bf=1,_f=function(e){var t,r,n=e.length;if(!n)return"";for(t=e[r=0]+"";--n;)t+=""+e[++r];return t}):i>1&&(o.normalizer=(Of?Sf:(Of=1,Sf=function(e){return e?function(t){for(var r=t[0]+"",n=0,i=e;--i;)r+=""+t[++n];return r}:function(){return""}}))(i)):o.normalizer=!1===i?function(){if(Lf)return Af;Lf=1;var e=Ie(),t=Object.create;return Af=function(){var r=0,n=[],i=t(null);return{get:function(t){var r,i=0,o=n,s=t.length;if(0===s)return o[s]||null;if(o=o[s]){for(;s-1>i;){if(-1===(r=e.call(o[0],t[i])))return null;o=o[1][r],++i}return-1===(r=e.call(o[0],t[i]))?null:o[1][r]||null}return null},set:function(t){var o,s=0,a=n,c=t.length;if(0===c)a[c]=++r;else{for(a[c]||(a[c]=[[],[]]),a=a[c];c-1>s;)-1===(o=e.call(a[0],t[s]))&&(o=a[0].push(t[s])-1,a[1].push([[],[]])),a=a[1][o],++s;-1===(o=e.call(a[0],t[s]))&&(o=a[0].push(t[s])-1),a[1][o]=++r}return i[r]=t,r},delete:function(t){var r,o=0,s=n,a=i[t],c=a.length,u=[];if(0===c)delete s[c];else if(s=s[c]){for(;c-1>o;){if(-1===(r=e.call(s[0],a[o])))return;u.push(s,r),s=s[1][r],++o}if(-1===(r=e.call(s[0],a[o])))return;for(t=s[1][r],s[0].splice(r,1),s[1].splice(r,1);!s[0].length&&u.length;)r=u.pop(),(s=u.pop())[0].splice(r,1),s[1].splice(r,1)}delete i[t]},clear:function(){n=[],i=t(null)}}}}()():1===i?function(){if(Df)return kf;Df=1;var e=Ie();return kf=function(){var t=0,r=[],n=[];return{get:function(t){var i=e.call(r,t[0]);return-1===i?null:n[i]},set:function(e){return r.push(e[0]),n.push(++t),t},delete:function(t){var i=e.call(n,t);-1!==i&&(r.splice(i,1),n.splice(i,1))},clear:function(){r=[],n=[]}}}}()():function(){if(jf)return Ff;jf=1;var e=Ie(),t=Object.create;return Ff=function(r){var n=0,i=[[],[]],o=t(null);return{get:function(t){for(var n,o=0,s=i;r-1>o;){if(-1===(n=e.call(s[0],t[o])))return null;s=s[1][n],++o}return-1===(n=e.call(s[0],t[o]))?null:s[1][n]||null},set:function(t){for(var s,a=0,c=i;r-1>a;)-1===(s=e.call(c[0],t[a]))&&(s=c[0].push(t[a])-1,c[1].push([[],[]])),c=c[1][s],++a;return-1===(s=e.call(c[0],t[a]))&&(s=c[0].push(t[a])-1),c[1][s]=++n,o[n]=t,n},delete:function(t){for(var n,s=0,a=i,c=[],u=o[t];r-1>s;){if(-1===(n=e.call(a[0],u[s])))return;c.push(a,n),a=a[1][n],++s}if(-1!==(n=e.call(a[0],u[s]))){for(t=a[1][n],a[0].splice(n,1),a[1].splice(n,1);!a[0].length&&c.length;)n=c.pop(),(a=c.pop())[0].splice(n,1),a[1].splice(n,1);delete o[t]}},clear:function(){i=[[],[]],o=t(null)}}}}()(i)),o.async&&function(){if(Hf)return _p;Hf=1;var e=Oe(),t=Pe(),r=ye(),n=ve(),i=xe(),o=[].slice,s=function(){}.apply,a=Object.create;he().async=function(c,u){var l,f,p,d=a(null),h=a(null),m=u.memoized,y=u.original;u.memoized=n(function(e){var t=arguments,r=t[t.length-1];return"function"==typeof r&&(l=r,t=o.call(t,0,-1)),m.apply(f=this,p=t)},m);try{r(u.memoized,m)}catch(v){}u.on("get",function(e){var t,r,n;if(l){if(d[e])return"function"==typeof d[e]?d[e]=[d[e],l]:d[e].push(l),void(l=null);t=l,r=f,n=p,l=f=p=null,i(function(){var i;hasOwnProperty.call(h,e)?(i=h[e],u.emit("getasync",e,n,r),s.call(t,i.context,i.args)):(l=t,f=r,p=n,m.apply(r,n))})}}),u.original=function(){var t,r,n,o;return l?(t=e(arguments),r=function t(r){var n,a,c=t.id;if(null!=c){if(delete t.id,n=d[c],delete d[c],n)return a=e(arguments),u.has(c)&&(r?u.delete(c):(h[c]={context:this,args:a},u.emit("setasync",c,"function"==typeof n?1:n.length))),"function"==typeof n?o=s.call(n,this,a):n.forEach(function(e){o=s.call(e,this,a)},this),o}else i(s.bind(t,this,arguments))},n=l,l=f=p=null,t.push(r),o=s.call(y,this,t),r.cb=n,l=r,o):s.call(y,this,arguments)},u.on("set",function(e){l?(d[e]?"function"==typeof d[e]?d[e]=[d[e],l.cb]:d[e].push(l.cb):d[e]=l.cb,delete l.cb,l.id=e,l=null):u.delete(e)}),u.on("delete",function(e){var t;hasOwnProperty.call(d,e)||h[e]&&(t=h[e],delete h[e],u.emit("deleteasync",e,o.call(t.args,1)))}),u.on("clear",function(){var e=h;h=a(null),u.emit("clearasync",t(e,function(e){return o.call(e.args,1)}))})}}(),o.promise&&$e(),o.dispose&&function(){if(ip)return Op;ip=1;var e=fe(),t=de(),r=he(),n=function(){}.apply;r.dispose=function(i,o,s){var a;if(e(i),s.async&&r.async||s.promise&&r.promise)return o.on("deleteasync",a=function(e,t){n.call(i,null,t)}),void o.on("clearasync",function(e){t(e,function(e,t){a(t,e)})});o.on("delete",a=function(e,t){i(t)}),o.on("clear",function(e){t(e,function(e,t){a(t,e)})})}}(),o.maxAge&&function(){if(up)return Rp;up=1;var e=Oe(),t=de(),r=xe(),n=Ne(),i=function(){if(cp)return ap;cp=1;var e=ue(),t=sp?op:(sp=1,op=2147483647);return ap=function(r){if((r=e(r))>t)throw new TypeError(r+" exceeds maximum possible timeout");return r}}(),o=he(),s=Function.prototype,a=Math.max,c=Math.min,u=Object.create;o.maxAge=function(l,f,p){var d,h,m,y;(l=i(l))&&(d=u(null),f.on("set"+(h=p.async&&o.async||p.promise&&o.promise?"async":""),function(e){d[e]=setTimeout(function(){f.delete(e)},l),"function"==typeof d[e].unref&&d[e].unref(),y&&(y[e]&&"nextTick"!==y[e]&&clearTimeout(y[e]),y[e]=setTimeout(function(){delete y[e]},m),"function"==typeof y[e].unref&&y[e].unref())}),f.on("delete"+h,function(e){clearTimeout(d[e]),delete d[e],y&&("nextTick"!==y[e]&&clearTimeout(y[e]),delete y[e])}),p.preFetch&&(m=!0===p.preFetch||isNaN(p.preFetch)?.333:a(c(Number(p.preFetch),1),0))&&(y={},m=(1-m)*l,f.on("get"+h,function(t,i,o){y[t]||(y[t]="nextTick",r(function(){var r;"nextTick"===y[t]&&(delete y[t],f.delete(t),p.async&&(i=e(i)).push(s),r=f.memoized.apply(o,i),p.promise&&n(r)&&("function"==typeof r.done?r.done(s,s):r.then(s,s)))}))})),f.on("clear"+h,function(){t(d,function(e){clearTimeout(e)}),d={},y&&(t(y,function(e){"nextTick"!==e&&clearTimeout(e)}),y={})}))}}(),o.max&&function(){if(pp)return Ip;pp=1;var e=ue(),t=function(){if(fp)return lp;fp=1;var e=ue(),t=Object.create,r={}.hasOwnProperty;return lp=function(n){var i,o=0,s=1,a=t(null),c=t(null),u=0;return n=e(n),{hit:function(e){var t=c[e],l=++u;if(a[l]=e,c[e]=l,!t){if(++o,n>=o)return;return i(e=a[s]),e}if(delete a[t],s===t)for(;!r.call(a,++s);)continue},delete:i=function(e){var t=c[e];if(t&&(delete a[t],delete c[e],--o,s===t)){if(!o)return u=0,void(s=1);for(;!r.call(a,++s);)continue}},clear:function(){o=0,s=1,a=t(null),c=t(null),u=0}}}}(),r=he();r.max=function(n,i,o){var s,a,c;(n=e(n))&&(a=t(n),i.on("set"+(s=o.async&&r.async||o.promise&&r.promise?"async":""),c=function(e){void 0!==(e=a.hit(e))&&i.delete(e)}),i.on("get"+s,c),i.on("delete"+s,a.delete),i.on("clear"+s,a.clear))}}(),o.refCounter&&function(){if(dp)return Pp;dp=1;var e=Ee(),t=he(),r=Object.create,n=Object.defineProperties;t.refCounter=function(i,o,s){var a,c;a=r(null),o.on("set"+(c=s.async&&t.async||s.promise&&t.promise?"async":""),function(e,t){a[e]=t||1}),o.on("get"+c,function(e){++a[e]}),o.on("delete"+c,function(e){delete a[e]}),o.on("clear"+c,function(){a={}}),n(o.memoized,{deleteRef:e(function(){var e=o.get(arguments);return null===e?null:a[e]?! --a[e]&&(o.delete(e),!0):null}),getRefCount:e(function(){var e=o.get(arguments);return null===e?0:a[e]?a[e]:0})})}}(),r(n,o)}}()),Tp=/^~(?=$|\/|\\)/,{appendFile:Np,readFile:$p,writeFile:Cp}=Qn,Ap=Ae("~/.envosmanrc"),Lp=xp(async function(e){const t=Ae("~/.bashrc"),r=Ae("~/.profile"),n=Bn(e.rcPath);if(n===t||n===r)return;const i=e.guard??"envosman",o=`\n# ${i}\nif [[ "$SOURCE_${i.toUpperCase()}RC" != 0 && -f "${n}" ]]; then source "${n}"; fi\n`;try{await Promise.all([Le(e),ke(o,t),ke(o,r)])}catch(s){j(`Failed to add ${o} to .profile or .bashrc. You should add it manually: ${s}`)}},{promise:!0});var kp,Dp;const Fp=r(function(){if(Dp)return kp;Dp=1;const e=Fn,t="win32"!==e.platform(),r=e.release(),n=/(\d+\.\d+)\.(\d+)/;return kp=function(e){return t?e.replace(/(\s+)/g,"\\$1"):((e="",t="")=>/1\d+\.\d+/.test(e)&&Number(t)>=17134.1184)(...n.exec(r).splice(1))?e:e.replace(/(\s+)/g,"%20")}}());var jp,Up,Mp,Gp,Bp,Hp={exports:{}};const Vp=r((Mp||(Mp=1,Gp=function(){if(Up)return jp;Up=1;var e=/[|\\{}()[\]^$+*?.]/g;return jp=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(e,"\\$&")}}(),Bp=function(e){return e.split("").reverse().join("")},Hp.exports=function(e,t,r){var n;return null==t&&(t="'"),null==r&&(r="\\"),"string"!=typeof e?e:(n=RegExp("(["+Gp(t)+"])(?!"+Gp(r)+")","g"),Bp(Bp(e).replace(n,"$1"+r)))}),Hp.exports)),{GITHUB_ACTIONS:qp}=ks,{appendFile:zp}=Qn,{GITHUB_ACTIONS:Wp}=ks,{appendFile:Xp}=Qn,Kp=[/\/usr\/bin\/?/,/\/usr\/local\/bin\/?/];var Yp,Jp,Qp,Zp={exports:{}};const ed=r(Be());var td;const rd=r((td||(td=1,Ge().addLocale("en",function(e){var t=Math.floor(Math.abs(e)),r=(""+e).replace(/^[^.]*\.?/,"").length;return"string"==typeof e&&(e=parseInt(e,10)),1===t&&0===r?"one":"other"})),{}));var nd,id,od,sd,ad,cd={exports:{}};const ud=r(ad?sd:(ad=1,sd=function(){function e(e){Array.isArray(e)||(e=[e]);for(const t of e){const{id:e,data:r}=t;s[e]=r}}function t(e,t,n){const i=function(e){const t=s[e.locale];let r=e.unitTypeLookupOrder.slice();r.unshift(e.unitType),r=Array.from(new Set(r));let n=null;if(r.some(function(e){if(void 0!==t[e])return n=t[e],!0}),null===n)throw Error("Can not find any unit type data for locale: "+e.locale);return n}(n);return r.pluralize(n.locale,t,i[e]).replace("{0}",t)}if(od)return id;od=1;const r=Be(),n=nd?cd.exports:(nd=1,cd.exports=!("undefined"==typeof process||!process.versions||!process.versions.node)),i=[["years",290304e5],["months",24192e5],["weeks",6048e5],["days",864e5],["hours",36e5],["minutes",6e4],["seconds",1e3]],o={locale:"en",span:2,delimiter:", ",unitType:"long",unitTypeLookupOrder:["long","short","narrow"],autoloadLocales:!0},s={};return id={create:function(r){return r=Object.assign({},o,r||{}),{format:function(o,a,c){return function(r,o,a){if(function(t,r){const{autoload:i}=r;if(!s[t]){if(!n||!i)throw Error(`Missing locale: ${t}, you must load it manually before using it`);!function(t){try{e(Me(`../locales/${t}.js`))}catch(r){throw Error(`Failed to load locale: ${t} from ../locales/${t}.js. If using a bundled time-delta, set 'autoloadLocales: false' in the config: ${r}`)}}(t)}}(a.locale,{autoload:a.autoloadLocales}),!r)throw Error("Missing first date argument");if(!o)throw Error("Missing second date argument");const c=function(e,t){let r=t-e;const n=[];return i.some(function(e){const t=e[0],i=e[1],o=Math.floor(r/i);if(r-=o*i,n.push([t,o]),0>=r)return!0}),n}(r,o),u=[];for(const e of c){const[r,n]=e;if(n>0&&u.push(t(r,n,a)),u.length>=a.span)break}return u.join(a.delimiter)}(o,a,c=Object.assign({},r,c||{}))}}},addLocale:e,defaultConfig:o}}()));var ld,fd;const pd=r(fd?ld:(fd=1,ld={id:"en",data:{long:{years:{one:"{0} year",other:"{0} years"},months:{one:"{0} month",other:"{0} months"},weeks:{one:"{0} week",other:"{0} weeks"},days:{one:"{0} day",other:"{0} days"},hours:{one:"{0} hour",other:"{0} hours"},minutes:{one:"{0} minute",other:"{0} minutes"},seconds:{one:"{0} second",other:"{0} seconds"}},narrow:{years:{one:"{0}y",other:"{0}y"},months:{one:"{0}m",other:"{0}m"},weeks:{one:"{0}w",other:"{0}w"},days:{one:"{0}d",other:"{0}d"},hours:{one:"{0}h",other:"{0}h"},minutes:{one:"{0}m",other:"{0}m"},seconds:{one:"{0}s",other:"{0}s"}},short:{years:{one:"{0} yr",other:"{0} yrs"},months:{one:"{0} mth",other:"{0} mths"},weeks:{one:"{0} wk",other:"{0} wks"},days:{one:"{0} day",other:"{0} days"},hours:{one:"{0} hr",other:"{0} hr"},minutes:{one:"{0} min",other:"{0} min"},seconds:{one:"{0} sec",other:"{0} sec"}}}})),dd=r(f());var hd,md;const yd=r(function(){if(md)return hd;md=1;var e=Mn;return hd=function(t,r){if("string"!=typeof t)return t;if(0===t.length)return t;var n,i=e.basename(t,e.extname(t))+r,o=e.join(e.dirname(t),i);return(n=t.slice(0,2))==="."+e.sep||"./"===n?"."+e.sep+o:o}}());var vd={},wd={};qe(wd,"name",()=>ze);var gd={};qe(gd,"normalizeTrim",()=>We);var Ed={};qe(Ed,"addExeExt",()=>Xe);var _d={};qe(_d,"addNamePrefix",()=>Ke);var bd={};qe(bd,"addNameSuffix",()=>Ye);var Sd={};qe(Sd,"addShExt",()=>Je);var Od={};qe(Od,"addShRelativePrefix",()=>Qe);var Rd={};qe(Rd,"removeExt",()=>Ze);var Id={};qe(Id,"replaceExt",()=>et);var Pd={};qe(Pd,"isPathInside",()=>tt),Ve(vd,wd),Ve(vd,gd),Ve(vd,Ed),Ve(vd,_d),Ve(vd,bd),Ve(vd,Sd),Ve(vd,Od),Ve(vd,Rd),Ve(vd,Id),Ve(vd,Pd);const xd=r(p()),Td=xp(async function(){if(!rt())return!1;try{return await hu("apk"),!0}catch{return!1}},{promise:!0}),Nd=xp(async function(){await z("apk",["update"],{stdio:"inherit"})},{promise:!0}),$d=xp(async function(){const e=await it([{name:"bash"}]);0!==e.length&&te("apk",["add",...e],{...wu})},{promise:!0}),{GITHUB_ACTIONS:Cd}=ks,{appendFile:Ad}=Qn;var Ld,kd={},Dd=(Ld||(Ld=1,function(e){function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(e,"__esModule",{value:!0}),e.DownloaderHelper=e.DH_STATES=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r,n=0;t.length>n;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=t(Jn),s=ji,a=t(Mn),c=t(ci),u=t(oi),l=li,f=e.DH_STATES={IDLE:"IDLE",SKIPPED:"SKIPPED",STARTED:"STARTED",DOWNLOADING:"DOWNLOADING",RETRY:"RETRY",PAUSED:"PAUSED",RESUMED:"RESUMED",STOPPED:"STOPPED",FINISHED:"FINISHED",FAILED:"FAILED"};e.DownloaderHelper=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{captureRejections:!0}));return o.__validate(e,n)?(o.url=o.requestURL=e.trim(),o.state=f.IDLE,o.__defaultOpts={body:null,retry:!1,method:"GET",headers:{},fileName:"",timeout:-1,metadata:null,override:!1,forceResume:!1,removeOnStop:!0,removeOnFail:!0,progressThrottle:1e3,httpRequestOptions:{},httpsRequestOptions:{},resumeOnIncomplete:!0,resumeIfFileExists:!1,resumeOnIncompleteMaxRetry:5},o.__opts=Object.assign({},o.__defaultOpts),o.__pipes=[],o.__total=0,o.__downloaded=0,o.__progress=0,o.__retryCount=0,o.__retryTimeout=null,o.__resumeRetryCount=0,o.__states=f,o.__promise=null,o.__request=null,o.__response=null,o.__isAborted=!1,o.__isResumed=!1,o.__isResumable=!1,o.__isRedirected=!1,o.__destFolder=n,o.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0},o.__fileName="",o.__filePath="",o.updateOptions(i),o):r(o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"start",value:function(){var e=this,t=function(){return new Promise(function(t,r){e.__promise={resolve:t,reject:r},e.__start()})};return this.__opts.resumeIfFileExists&&this.state!==this.__states.RESUMED?this.getTotalSize().then(function(r){var n=r.name,i=r.total,s=e.__opts.override;return e.__opts.override=!0,e.__filePath=e.__getFilePath(n),e.__opts.override=s,e.__filePath&&o.existsSync(e.__filePath)?e.__getFilesizeInBytes(e.__filePath)===i?t():e.resumeFromFile(e.__filePath,{total:i,fileName:n}):t()}):t()}},{key:"pause",value:function(){var e=this;return this.state===this.__states.STOPPED?Promise.resolve(!0):(this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(e){return e.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return e.__setState(e.__states.PAUSED),e.emit("pause"),!0}))}},{key:"resume",value:function(){return this.__promise?this.state===this.__states.STOPPED?Promise.resolve(!1):(this.__setState(this.__states.RESUMED),this.__isResumable&&(this.__isResumed=!0,this.__reqOptions.headers.range="bytes="+this.__downloaded+"-"),this.emit("resume",this.__isResumed),this.__start()):this.start()}},{key:"stop",value:function(){var e=this;return this.state===this.__states.STOPPED?Promise.resolve(!0):(this.__requestAbort(),this.__closeFileStream().then(function(){return e.__opts.removeOnStop?new Promise(function(t,r){o.access(e.__filePath,function(n){return n?(e.__emitStop(),t(!0)):void o.unlink(e.__filePath,function(n){return n?(e.__setState(e.__states.FAILED),e.emit("error",n),r(n)):(e.__emitStop(),void t(!0))})})}):(e.__emitStop(),Promise.resolve(!0))}))}},{key:"pipe",value:function(e){return this.__pipes.push({stream:e,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}),e}},{key:"unpipe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=function(t){return e.__response?e.__response.unpipe(t):t.unpipe()};t?this.__pipes.find(function(e){return e.stream===t})&&(r(t),this.__pipes=this.__pipes.filter(function(e){return e.stream!==t})):(this.__pipes.forEach(function(e){return r(e.stream)}),this.__pipes=[])}},{key:"getDownloadPath",value:function(){return this.__filePath}},{key:"isResumable",value:function(){return this.__isResumable}},{key:"updateOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.__opts=Object.assign({},this.__opts,e),this.__headers=this.__opts.headers,this.__opts.timeout>-1&&(this.__opts.httpRequestOptions.timeout=this.__opts.timeout,this.__opts.httpsRequestOptions.timeout=this.__opts.timeout),("number"!=typeof this.__opts.progressThrottle||0>this.__opts.progressThrottle)&&(this.__opts.progressThrottle=this.__defaultOpts.progressThrottle),this.url=t||this.url,this.__reqOptions=this.__getReqOptions(this.__opts.method,this.url,this.__opts.headers),this.__initProtocol(this.url)}},{key:"getOptions",value:function(){return this.__opts}},{key:"getMetadata",value:function(){return this.__opts.metadata}},{key:"getStats",value:function(){return{total:this.__total,name:this.__fileName,downloaded:this.__downloaded,progress:this.__progress,speed:this.__statsEstimate.bytes}}},{key:"getTotalSize",value:function(){var e=this;return new Promise(function(t,r){var n=function(t){e.__initProtocol(t);var r=Object.assign({},e.__headers);r.hasOwnProperty("range")&&delete r.range;var n=e.__getReqOptions("HEAD",t,r);return Object.assign({},e.__reqOptions,n)},i=function(o,a){var c=e.__protocol.request(a,function(a){if(e.__isRequireRedirect(a)){var c=/^https?:\/\//.test(a.headers.location)?a.headers.location:new s.URL(a.headers.location,o).href;return e.emit("redirected",c,o),i(c,n(c))}return 200===a.statusCode?void t({name:e.__getFileNameFromHeaders(a.headers,a),total:parseInt(a.headers["content-length"])||null}):r(Error("Response status was "+a.statusCode))});c.on("error",function(e){return r(e)}),c.on("timeout",function(){return r(Error("timeout"))}),c.on("uncaughtException",function(e){return r(e)}),c.end()};i(e.url,n(e.url))})}},{key:"getResumeState",value:function(){return{downloaded:this.__downloaded,filePath:this.__filePath,fileName:this.__fileName,total:this.__total}}},{key:"resumeFromFile",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.__opts.override=!0,this.__filePath=e,(r.total&&r.fileName?Promise.resolve({name:r.fileName,total:r.total}):this.getTotalSize()).then(function(e){var n=e.name;return t.__total=r.total||e.total,t.__fileName=r.fileName||n,t.__downloaded=r.downloaded||t.__getFilesizeInBytes(t.__filePath),t.__reqOptions.headers.range="bytes="+t.__downloaded+"-",t.__isResumed=!0,t.__isResumable=!0,t.__setState(t.__states.RESUMED),t.emit("resume",t.__isResumed),new Promise(function(e,r){t.__promise={resolve:e,reject:r},t.__start()})})}},{key:"__start",value:function(){this.__isRedirected||this.state===this.__states.RESUMED||(this.emit("start"),this.__setState(this.__states.STARTED),this.__initProtocol(this.url)),this.__response=null,this.__isAborted=!1,this.__request&&!this.__request.destroyed&&this.__request.destroy(),this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__request=this.__downloadRequest(this.__promise.resolve,this.__promise.reject),this.__request.on("error",this.__onError(this.__promise.resolve,this.__promise.reject)),this.__request.on("timeout",this.__onTimeout(this.__promise.resolve,this.__promise.reject)),this.__request.on("uncaughtException",this.__onError(this.__promise.resolve,this.__promise.reject,!0)),this.__opts.body&&this.__request.write(this.__opts.body),this.__request.end()}},{key:"__resolvePending",value:function(){if(this.__promise){var e=this.__promise.resolve;return this.__promise=null,e(!0)}}},{key:"__downloadRequest",value:function(e,t){var r=this;return this.__protocol.request(this.__reqOptions,function(n){if(r.__response=n,r.__isResumed||(r.__total=parseInt(n.headers["content-length"])||null,r.__resetStats()),r.__isRequireRedirect(n)){var i=/^https?:\/\//.test(n.headers.location)?n.headers.location:new s.URL(n.headers.location,r.url).href;return r.__isRedirected=!0,r.__initProtocol(i),r.emit("redirected",i,r.url),r.__start()}if(200!==n.statusCode&&206!==n.statusCode){var o=Error("Response status was "+n.statusCode);return o.status=n.statusCode||0,o.body=n.body||"",r.__setState(r.__states.FAILED),r.emit("error",o),t(o)}(r.__opts.forceResume||n.headers.hasOwnProperty("accept-ranges")&&"none"!==n.headers["accept-ranges"])&&(r.__isResumable=!0),r.__startDownload(n,e,t)})}},{key:"__startDownload",value:function(e,t,r){var i=this,s=e;if(this.__isResumed)this.__fileStream=o.createWriteStream(this.__filePath,{flags:"a"});else{var c=this.__getFileNameFromHeaders(e.headers);if(this.__filePath=this.__getFilePath(c),this.__fileName=this.__filePath.split(a.sep).pop(),o.existsSync(this.__filePath)){var u=this.__getFilesizeInBytes(this.__filePath),l=this.__total?this.__total:0;if("object"===n(this.__opts.override)&&this.__opts.override.skip&&(this.__opts.override.skipSmaller||u>=l))return this.emit("skip",{totalSize:this.__total,fileName:this.__fileName,filePath:this.__filePath,downloadedSize:u}),this.__setState(this.__states.SKIPPED),t(!0)}this.__fileStream=o.createWriteStream(this.__filePath,{})}this.emit("download",{fileName:this.__fileName,filePath:this.__filePath,totalSize:this.__total,isResumed:this.__isResumed,downloadedSize:this.__downloaded}),this.__retryCount=0,this.__isResumed=!1,this.__isRedirected=!1,this.__setState(this.__states.DOWNLOADING),this.__statsEstimate.time=new Date,this.__statsEstimate.throttleTime=new Date,s.on("data",function(e){return i.__calculateStats(e.length)}),this.__pipes.forEach(function(e){s.pipe(e.stream,e.options),s=e.stream}),s.pipe(this.__fileStream),s.on("error",this.__onError(t,r)),this.__fileStream.on("finish",this.__onFinished(t,r)),this.__fileStream.on("error",this.__onError(t,r))}},{key:"__hasFinished",value:function(){return!this.__isAborted&&-1===[this.__states.PAUSED,this.__states.STOPPED,this.__states.RETRY,this.__states.FAILED,this.__states.RESUMED].indexOf(this.state)}},{key:"__isRequireRedirect",value:function(e){return e.statusCode>300&&400>e.statusCode&&e.headers.hasOwnProperty("location")&&e.headers.location}},{key:"__onFinished",value:function(e,t){var r=this;return function(){r.__fileStream.close(function(n){if(n)return t(n);if(r.__hasFinished()){var i=!!r.__total&&r.__downloaded!==r.__total;if(i&&r.__isResumable&&r.__opts.resumeOnIncomplete&&r.__opts.resumeOnIncompleteMaxRetry>=r.__resumeRetryCount)return r.__resumeRetryCount++,r.emit("warning",Error("uncomplete download, retrying")),r.resume();r.__setState(r.__states.FINISHED),r.__pipes=[],r.emit("end",{fileName:r.__fileName,filePath:r.__filePath,totalSize:r.__total,incomplete:i,onDiskSize:r.__getFilesizeInBytes(r.__filePath),downloadedSize:r.__downloaded})}return e(r.__downloaded===r.__total)})}}},{key:"__closeFileStream",value:function(){var e=this;return this.__fileStream?new Promise(function(t,r){e.__fileStream.close(function(e){return e?r(e):t(!0)})}):Promise.resolve(!0)}},{key:"__onError",value:function(e,t){var r=this,n=!(2>=arguments.length||void 0===arguments[2])&&arguments[2];return function(e){return r.__pipes=[],n&&r.__requestAbort(),r.state===r.__states.STOPPED||r.state===r.__states.FAILED?void 0:r.__opts.retry?r.__retry(e).catch(function(n){r.__removeFile().finally(function(){r.__setState(r.__states.FAILED),r.emit("error",n||e),t(n||e)})}):r.__removeFile().finally(function(){r.__setState(r.__states.FAILED),r.emit("error",e),t(e)})}}},{key:"__retry",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.__opts.retry||"object"!==n(this.__opts.retry))return Promise.reject(t||Error("wrong retry options"));var r=this.__opts.retry,i=r.delay,o=void 0===i?0:i,s=r.maxRetries;return(void 0===s?999:s)>this.__retryCount?(this.__retryCount++,this.__setState(this.__states.RETRY),this.emit("retry",this.__retryCount,this.__opts.retry,t),this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(e){return e.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return new Promise(function(t){return e.__retryTimeout=setTimeout(function(){return t(e.__downloaded>0?e.resume():e.__start())},o)})})):Promise.reject(t||Error("reached the maximum retries"))}},{key:"__onTimeout",value:function(e,t){var r=this;return function(){return r.__requestAbort(),r.__opts.retry?r.__retry(Error("timeout")).catch(function(e){r.__removeFile().finally(function(){r.__setState(r.__states.FAILED),e?t(e):(r.emit("timeout"),t(Error("timeout")))})}):r.__removeFile().finally(function(){r.__setState(r.__states.FAILED),r.emit("timeout"),t(Error("timeout"))})}}},{key:"__resetStats",value:function(){this.__retryCount=0,this.__downloaded=0,this.__progress=0,this.__resumeRetryCount=0,this.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0}}},{key:"__getFileNameFromHeaders",value:function(e,t){var r="",n=e.hasOwnProperty("content-disposition"),i=n?e["content-disposition"].match(/.*filename\*=.*?'.*?'([^"].+?[^"])(?:(?:;)|$)/i):null,o=!n||i?null:e["content-disposition"].match(/.*filename="(.*?)";?/i),c=!n||i||o?null:e["content-disposition"].match(/.*filename=([^"].+?[^"])(?:(?:;)|$)/i);return n&&(i||o||c)?(r=(r=e["content-disposition"]).trim(),i?r=i[1]:o?r=o[1]:c&&(r=c[1]),r=r.replace(/[/\\]/g,"")):r=a.basename(new s.URL(this.requestURL).pathname).length>0?a.basename(new s.URL(this.requestURL).pathname):new s.URL(this.requestURL).hostname+".html",this.__opts.fileName?this.__getFileNameFromOpts(r,t):r.replace(/\.*$/,"")}},{key:"__getFilePath",value:function(e){var t=a.join(this.__destFolder,e),r=t;return this.__opts.override||this.state===this.__states.RESUMED||t!==(r=this.__uniqFileNameSync(r))&&this.emit("renamed",{path:r,fileName:r.split(a.sep).pop(),prevPath:t,prevFileName:t.split(a.sep).pop()}),r}},{key:"__getFileNameFromOpts",value:function(e,t){if(!this.__opts.fileName)return e;if("string"==typeof this.__opts.fileName)return this.__opts.fileName;if("function"==typeof this.__opts.fileName){var r=a.join(this.__destFolder,e);return t&&t.headers||this.__response&&this.__response.headers?this.__opts.fileName(e,r,(t||this.__response).headers["content-type"]):this.__opts.fileName(e,r)}if("object"===n(this.__opts.fileName)){var i=this.__opts.fileName,o=i.name,s=!!i.hasOwnProperty("ext")&&i.ext;if("string"==typeof s)return o+"."+s;if("boolean"==typeof s){if(s)return o;var c=e.includes(".")?e.split(".").pop():"";return""===c?o:o+"."+c}}return e}},{key:"__calculateStats",value:function(e){var t=new Date,r=t-this.__statsEstimate.time,n=t-this.__statsEstimate.throttleTime,i=this.__total||0;e&&(this.__downloaded+=e,this.__progress=0===i?0:this.__downloaded/i*100,(this.__downloaded===i||r>1e3)&&(this.__statsEstimate.time=t,this.__statsEstimate.bytes=this.__downloaded-this.__statsEstimate.prevBytes,this.__statsEstimate.prevBytes=this.__downloaded),(this.__downloaded===i||n>this.__opts.progressThrottle)&&(this.__statsEstimate.throttleTime=t,this.emit("progress.throttled",this.getStats())),this.emit("progress",this.getStats()))}},{key:"__setState",value:function(e){this.state=e,this.emit("stateChanged",this.state)}},{key:"__getReqOptions",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new s.URL(t),i={protocol:n.protocol,host:n.hostname,port:n.port,path:n.pathname+n.search,method:e};return r&&(i.headers=r),i}},{key:"__getFilesizeInBytes",value:function(e){try{return o.statSync(e,{throwIfNoEntry:!1}).size||0}catch(t){this.emit("warning",t)}return 0}},{key:"__validate",value:function(e,t){if("string"!=typeof e)throw Error("URL should be an string");if(""===e.trim())throw Error("URL couldn't be empty");if("string"!=typeof t)throw Error("Destination Folder should be an string");if(""===t.trim())throw Error("Destination Folder couldn't be empty");if(!o.existsSync(t))throw Error("Destination Folder must exist");if(!o.statSync(t).isDirectory())throw Error("Destination Folder must be a directory");try{o.accessSync(t,o.constants.W_OK)}catch(r){throw Error("Destination Folder must be writable")}return!0}},{key:"__initProtocol",value:function(e){var t=this.__getReqOptions(this.__opts.method,e,this.__headers);this.requestURL=e,e.indexOf("https://")>-1?(this.__protocol=u,t.agent=new u.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},t,this.__opts.httpsRequestOptions)):(this.__protocol=c,t.agent=new c.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},t,this.__opts.httpRequestOptions))}},{key:"__uniqFileNameSync",value:function(e){if("string"!=typeof e||""===e)return e;try{o.accessSync(e,o.F_OK);var t=e.match(/(.*)(\([0-9]+\))(\..*)$/),r=t?t[1].trim():e,n=t?parseInt(t[2].replace(/\(|\)/,"")):0,i=e.split(".").pop();return i!==e&&i.length>0?r=r.replace(i="."+i,""):i="",this.__uniqFileNameSync(r+" ("+ ++n+")"+i)}catch(s){return e}}},{key:"__removeFile",value:function(){var e=this;return new Promise(function(t){return e.__fileStream?void e.__fileStream.close(function(r){return r&&e.emit("warning",r),e.__opts.removeOnFail?o.access(e.__filePath,function(n){return n?t():void o.unlink(e.__filePath,function(n){n&&e.emit("warning",r),t()})}):void t()}):t()})}},{key:"__requestAbort",value:function(){this.__isAborted=!0,this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__response&&this.__response.destroy(),this.__request&&(this.__request.destroy?this.__request.destroy():this.__request.abort())}},{key:"__emitStop",value:function(){this.__resolvePending(),this.__setState(this.__states.STOPPED),this.emit("stop")}}]),t}(l.EventEmitter)}(kd)),kd);const Fd="/etc/apt/trusted.gpg.d",jd="keyserver.ubuntu.com",Ud="Dpkg::Lock::Timeout=300";let Md=!1;const Gd=xp(function(e=lt()){te(e,["update","-o",Ud],{...wu,env:ft(e)}),Md=!0});var Bd,Hd;(Hd=Bd||(Bd={}))[Hd.NameDashVersion=0]="NameDashVersion",Hd[Hd.NameEqualsVersion=1]="NameEqualsVersion",Hd[Hd.Name=2]="Name",Hd[Hd.None=3]="None";const Vd=xp(async function(e){Gd(e);const t=await yt([{name:"ca-certificates"},{name:"gnupg"},{name:"apt-utils"}],e);0!==t.length&&te(e,["install","-y","--fix-broken","-o",Ud,...t],{...wu,env:ft(e)})},{promise:!0}),qd=xp(function(e){const{stdout:t}=te("add-apt-repository",["--help"],{...wu,env:ft(e),stdio:"pipe"});return t.includes("--no-update")}),zd=["E: Could not get lock","dpkg: error processing archive","dpkg: error: dpkg status database is locked by another process"];let Wd,Xd,Kd,Yd=!1;var Jd=L();const Qd={rcPath:Ae("~/.cpprc"),guard:"cpp"};let Zd,eh,th=!1,rh=!1;const nh=/Version\s*:\s*(.*)/g;let ih=!1;const oh=r(b()),sh=r(d()),ah=r(R()),ch=/v?(\d\S*)/;var uh,lh,fh,ph,dh,hh,mh,yh,vh,wh,gh,Eh,_h,bh,Sh,Oh,Rh,Ih,Ph,xh,Th,Nh,$h,Ch,Ah,Lh,kh,Dh,Fh,jh,Uh,Mh,Gh,Bh,Hh,Vh,qh,zh,Wh,Xh,Kh,Yh,Jh,Qh,Zh,em,tm,rm,nm,im,om,sm,am,cm,um,lm,fm,pm,dm,hm,mm,ym,vm,wm,gm={},Em={},_m={},bm={},Sm=gr();let Om,Rm=!1;var Im,Pm,xm,Tm,Nm,$m={},Cm={exports:{}},Am={exports:{}},Lm=Cm.exports,km={},Dm=function(){function e(e,t){const r=[];t=t||w.arch();const n=g.join(s(),e);if(y.existsSync(n)){const e=y.readdirSync(n);for(const o of e)if(i(o)){const e=g.join(n,o,t||"");y.existsSync(e)&&y.existsSync(e+".complete")&&r.push(o)}}return r}function t(e){return p(this,void 0,void 0,function*(){return e||(e=g.join(a(),m.randomUUID())),yield h.mkdirP(e),e})}function r(e,t,r){return p(this,void 0,void 0,function*(){const n=g.join(s(),e,_.clean(t)||t,r||"");d.debug("destination "+n);const i=n+".complete";return yield h.rmRF(n),yield h.rmRF(i),yield h.mkdirP(n),n})}function n(e,t,r){const n=g.join(s(),e,_.clean(t)||t,r||"");y.writeFileSync(n+".complete",""),d.debug("finished caching tool")}function i(e){const t=_.clean(e)||"";d.debug("isExplicit: "+t);const r=null!=_.valid(t);return d.debug("explicit? "+r),r}function o(e,t){let r="";d.debug(`evaluating ${e.length} versions`);for(let n=(e=e.sort((e,t)=>_.gt(e,t)?1:-1)).length-1;n>=0;n--){const i=e[n];if(_.satisfies(i,t)){r=i;break}}return d.debug(r?"matched: "+r:"match not found"),r}function s(){const e=process.env.RUNNER_TOOL_CACHE||"";return(0,O.ok)(e,"Expected RUNNER_TOOL_CACHE to be defined"),e}function a(){const e=process.env.RUNNER_TEMP||"";return(0,O.ok)(e,"Expected RUNNER_TEMP to be defined"),e}function c(e,t){const r=Ps[e];return void 0!==r?r:t}if(Tm)return $m;Tm=1;var u=$m&&$m.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=$m&&$m.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=$m&&$m.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&u(t,e,r);return l(t,e),t},p=$m&&$m.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty($m,"__esModule",{value:!0}),$m.evaluateVersions=$m.isExplicitVersion=$m.findFromManifest=$m.getManifestFromRepo=$m.findAllVersions=$m.find=$m.cacheFile=$m.cacheDir=$m.extractZip=$m.extractXar=$m.extractTar=$m.extract7z=$m.downloadTool=$m.HTTPError=void 0;const d=f(k()),h=f(A()),m=f(si),y=f(Jn),v=f((Pm||(Pm=1,function(e,t){var r=Lm&&Lm.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=Lm&&Lm.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=Lm&&Lm.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&{}.hasOwnProperty.call(e,i)&&r(t,e,i);return n(t,e),t},o=Lm&&Lm.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._readLinuxVersionFile=t._getOsVersion=t._findMatch=void 0;const s=i(Sr()),a=k(),c=Fn,u=hi,l=Jn;t._findMatch=function(t,r,n,i){return o(this,void 0,void 0,function*(){const o=c.platform();let u,l,f;for(const c of n){const n=c.version;if((0,a.debug)(`check ${n} satisfies ${t}`),s.satisfies(n,t)&&(!r||c.stable===r)&&(f=c.files.find(t=>{(0,a.debug)(`${t.arch}===${i} && ${t.platform}===${o}`);let r=t.arch===i&&t.platform===o;if(r&&t.platform_version){const n=e.exports._getOsVersion();r=n===t.platform_version||s.satisfies(n,t.platform_version)}return r}),f)){(0,a.debug)("matched "+c.version),l=c;break}}return l&&f&&(u=Object.assign({},l),u.files=[f]),u})},t._getOsVersion=function(){const t=c.platform();let r="";if("darwin"===t)r=""+u.execSync("sw_vers -productVersion");else if("linux"===t){const t=e.exports._readLinuxVersionFile();if(t){const e=t.split("\n");for(const t of e){const e=t.split("=");if(2===e.length&&("VERSION_ID"===e[0].trim()||"DISTRIB_RELEASE"===e[0].trim())){r=e[1].trim().replace(/^"/,"").replace(/"$/,"");break}}}}return r},t._readLinuxVersionFile=function(){const e="/etc/lsb-release",t="/etc/os-release";let r="";return l.existsSync(e)?r=""+l.readFileSync(e):l.existsSync(t)&&(r=""+l.readFileSync(t)),r}}(Cm,Cm.exports)),Cm.exports)),w=f(Fn),g=f(Mn),E=f(ca),_=f(Sr()),b=f(Ni),S=f(pi),O=fi,R=L(),I=function(){if(xm)return km;xm=1;var e=km&&km.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=km&&km.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=km&&km.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var i in r)"default"!==i&&{}.hasOwnProperty.call(r,i)&&e(n,r,i);return t(n,r),n},n=km&&km.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(km,"__esModule",{value:!0}),km.RetryHelper=void 0;const i=r(k());return km.RetryHelper=class{constructor(e,t,r){if(1>e)throw Error("max attempts should be greater than or equal to 1");if(this.maxAttempts=e,this.minSeconds=Math.floor(t),this.maxSeconds=Math.floor(r),this.minSeconds>this.maxSeconds)throw Error("min seconds should be less than or equal to max seconds")}execute(e,t){return n(this,void 0,void 0,function*(){let r=1;for(;this.maxAttempts>r;){try{return yield e()}catch(n){if(t&&!t(n))throw n;i.info(n.message)}const o=this.getSleepAmount();i.info(`Waiting ${o} seconds before trying again`),yield this.sleep(o),r++}return yield e()})}getSleepAmount(){return Math.floor(Math.random()*(this.maxSeconds-this.minSeconds+1))+this.minSeconds}sleep(e){return n(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,1e3*e))})}},km}();class P extends Error{constructor(e){super("Unexpected HTTP response: "+e),this.httpStatusCode=e,Object.setPrototypeOf(this,new.target.prototype)}}$m.HTTPError=P;const x="win32"===process.platform,T="darwin"===process.platform;return $m.downloadTool=function(e,t,r,n){return p(this,void 0,void 0,function*(){t=t||g.join(a(),m.randomUUID()),yield h.mkdirP(g.dirname(t)),d.debug("Downloading "+e),d.debug("Destination "+t);const i=c("TEST_DOWNLOAD_TOOL_RETRY_MIN_SECONDS",10),o=c("TEST_DOWNLOAD_TOOL_RETRY_MAX_SECONDS",20),s=new I.RetryHelper(3,i,o);return yield s.execute(()=>p(this,void 0,void 0,function*(){return yield function(e,t,r,n){return p(this,void 0,void 0,function*(){if(y.existsSync(t))throw Error(`Destination file path ${t} already exists`);const i=new E.HttpClient("actions/tool-cache",[],{allowRetries:!1});r&&(d.debug("set auth"),void 0===n&&(n={}),n.authorization=r);const o=yield i.get(e,n);if(200!==o.message.statusCode){const t=new P(o.message.statusCode);throw d.debug(`Failed to download from "${e}". Code(${o.message.statusCode}) Message(${o.message.statusMessage})`),t}const s=S.promisify(b.pipeline),a=c("TEST_DOWNLOAD_TOOL_RESPONSE_MESSAGE_FACTORY",()=>o.message)();let u=!1;try{return yield s(a,y.createWriteStream(t)),d.debug("download complete"),u=!0,t}finally{if(!u){d.debug("download failed");try{yield h.rmRF(t)}catch(l){d.debug(`Failed to delete '${t}'. ${l.message}`)}}}})}(e,t||"",r,n)}),e=>!(e instanceof P&&e.httpStatusCode&&500>e.httpStatusCode&&408!==e.httpStatusCode&&429!==e.httpStatusCode))})},$m.extract7z=function(e,r,n){return p(this,void 0,void 0,function*(){(0,O.ok)(x,"extract7z() not supported on current OS"),(0,O.ok)(e,'parameter "file" is required'),r=yield t(r);const i=process.cwd();if(process.chdir(r),n)try{const t=["x",d.isDebug()?"-bb1":"-bb0","-bd","-sccUTF-8",e],r={silent:!0};yield(0,R.exec)(`"${n}"`,t,r)}finally{process.chdir(i)}else{const t=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",`& '${g.join(__dirname,"..","scripts","Invoke-7zdec.ps1").replace(/'/g,"''").replace(/"|\n|\r/g,"")}' -Source '${e.replace(/'/g,"''").replace(/"|\n|\r/g,"")}' -Target '${r.replace(/'/g,"''").replace(/"|\n|\r/g,"")}'`],n={silent:!0};try{const e=yield h.which("powershell",!0);yield(0,R.exec)(`"${e}"`,t,n)}finally{process.chdir(i)}}return r})},$m.extractTar=function(e,r,n="xz"){return p(this,void 0,void 0,function*(){if(!e)throw Error("parameter 'file' is required");r=yield t(r),d.debug("Checking tar --version");let i="";yield(0,R.exec)("tar --version",[],{ignoreReturnCode:!0,silent:!0,listeners:{stdout:e=>i+=""+e,stderr:e=>i+=""+e}}),d.debug(i.trim());const o=i.toUpperCase().includes("GNU TAR");let s;s=n instanceof Array?n:[n],d.isDebug()&&!n.includes("v")&&s.push("-v");let a=r,c=e;return x&&o&&(s.push("--force-local"),a=r.replace(/\\/g,"/"),c=e.replace(/\\/g,"/")),o&&(s.push("--warning=no-unknown-keyword"),s.push("--overwrite")),s.push("-C",a,"-f",c),yield(0,R.exec)("tar",s),r})},$m.extractXar=function(e,r,n=[]){return p(this,void 0,void 0,function*(){let i;(0,O.ok)(T,"extractXar() not supported on current OS"),(0,O.ok)(e,'parameter "file" is required'),r=yield t(r),i=n instanceof Array?n:[n],i.push("-x","-C",r,"-f",e),d.isDebug()&&i.push("-v");const o=yield h.which("xar",!0);var s;return yield(0,R.exec)(`"${o}"`,(s=i,Array.from(new Set(s)))),r})},$m.extractZip=function(e,r){return p(this,void 0,void 0,function*(){if(!e)throw Error("parameter 'file' is required");return r=yield t(r),x?yield function(e,t){return p(this,void 0,void 0,function*(){const r=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),n=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),i=yield h.which("pwsh",!1);if(i){const e=["-NoLogo","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ; try { Add-Type -AssemblyName System.IO.Compression.ZipFile } catch { } ;",`try { [System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}', $true) }`,`catch { if (($_.Exception.GetType().FullName -eq 'System.Management.Automation.MethodException') -or ($_.Exception.GetType().FullName -eq 'System.Management.Automation.RuntimeException') ){ Expand-Archive -LiteralPath '${r}' -DestinationPath '${n}' -Force } else { throw $_ } } ;`].join(" ")];d.debug("Using pwsh at path: "+i),yield(0,R.exec)(`"${i}"`,e)}else{const e=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ; try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ;",`if ((Get-Command -Name Expand-Archive -Module Microsoft.PowerShell.Archive -ErrorAction Ignore)) { Expand-Archive -LiteralPath '${r}' -DestinationPath '${n}' -Force }`,`else {[System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${n}', $true) }`].join(" ")],t=yield h.which("powershell",!0);d.debug("Using powershell at path: "+t),yield(0,R.exec)(`"${t}"`,e)}})}(e,r):yield function(e,t){return p(this,void 0,void 0,function*(){const r=yield h.which("unzip",!0),n=[e];d.isDebug()||n.unshift("-q"),n.unshift("-o"),yield(0,R.exec)(`"${r}"`,n,{cwd:t})})}(e,r),r})},$m.cacheDir=function(e,t,i,o){return p(this,void 0,void 0,function*(){if(i=_.clean(i)||i,o=o||w.arch(),d.debug(`Caching tool ${t} ${i} ${o}`),d.debug("source dir: "+e),!y.statSync(e).isDirectory())throw Error("sourceDir is not a directory");const s=yield r(t,i,o);for(const t of y.readdirSync(e)){const r=g.join(e,t);yield h.cp(r,s,{recursive:!0})}return n(t,i,o),s})},$m.cacheFile=function(e,t,i,o,s){return p(this,void 0,void 0,function*(){if(o=_.clean(o)||o,s=s||w.arch(),d.debug(`Caching tool ${i} ${o} ${s}`),d.debug("source file: "+e),!y.statSync(e).isFile())throw Error("sourceFile is not a file");const a=yield r(i,o,s),c=g.join(a,t);return d.debug("destination file "+c),yield h.cp(e,c),n(i,o,s),a})},$m.find=function(t,r,n){if(!t)throw Error("toolName parameter is required");if(!r)throw Error("versionSpec parameter is required");n=n||w.arch(),i(r)||(r=o(e(t,n),r));let a="";if(r){r=_.clean(r)||"";const e=g.join(s(),t,r,n);d.debug("checking cache: "+e),y.existsSync(e)&&y.existsSync(e+".complete")?(d.debug(`Found tool in cache ${t} ${r} ${n}`),a=e):d.debug("not found")}return a},$m.findAllVersions=e,$m.getManifestFromRepo=function(e,t,r,n="master"){return p(this,void 0,void 0,function*(){let i=[];const o=`https://api.github.com/repos/${e}/${t}/git/trees/${n}`,s=new E.HttpClient("tool-cache"),a={};r&&(d.debug("set auth"),a.authorization=r);const c=yield s.getJson(o,a);if(!c.result)return i;let u="";for(const e of c.result.tree)if("versions-manifest.json"===e.path){u=e.url;break}a.accept="application/vnd.github.VERSION.raw";let l=yield(yield s.get(u,a)).readBody();if(l){l=l.replace(/^\uFEFF/,"");try{i=JSON.parse(l)}catch(f){d.debug("Invalid json")}}return i})},$m.findFromManifest=function(e,t,r,n=w.arch()){return p(this,void 0,void 0,function*(){return yield v._findMatch(e,t,r,n)})},$m.isExplicitVersion=i,$m.evaluateVersions=o,$m}(),Fm={};const jm=r(function(){function e(e,t){const r=e+Math.random()*t*(Math.random()>.5?1:-1);return Math.max(0,r)}function t(n,i){if(!n||!i)throw Error("retry-as-promised must be passed a callback and a options set");const o={$current:"$current"in(i="number"==typeof i?{max:i}:i)?i.$current:1,max:i.max,timeout:i.timeout||void 0,match:i.match?Array.isArray(i.match)?i.match:[i.match]:[],backoffBase:void 0===i.backoffBase?100:i.backoffBase,backoffExponent:i.backoffExponent||1.1,backoffJitter:i.backoffJitter||0,report:i.report,name:i.name||n.name||"unknown"};return o.match&&!Array.isArray(o.match)&&(o.match=[o.match]),o.report&&o.report("Trying "+o.name+" #"+o.$current+" at "+(new Date).toLocaleTimeString(),o),new Promise(function(i,s){let a,c,u;o.timeout&&(a=setTimeout(function(){c&&clearTimeout(c),s(new r(o.name+" timed out",u))},o.timeout)),Promise.resolve(n({current:o.$current})).then(i).then(function(){a&&clearTimeout(a),c&&clearTimeout(c)}).catch(function(r){a&&clearTimeout(a),c&&clearTimeout(c),u=r,o.report&&o.report(r&&""+r||r,o,r);var l=o.max>o.$current;if(!l)return s(r);if(l=0===o.match.length||o.match.some(function(e){return function(e,t){if("function"==typeof e)try{if(t instanceof e)return!0}catch(r){return!!e(t)}return e===""+t||e===t.message||e instanceof RegExp&&(e.test(t.message)||e.test(""+t))}(e,r)}),!l)return s(r);var f=o.backoffBase*Math.pow(o.backoffExponent,o.$current-1);const p=o.backoffJitter;void 0!==p&&(f=e(f,p)),o.$current++,o.report&&o.report(`Retrying ${o.name} (${o.$current})`,o),f?(o.report&&o.report(`Delaying retry of ${o.name} by ${f}`,o),c=setTimeout(function(){t(n,o).then(i).catch(s)},f)):t(n,o).then(i).catch(s)})})}if(Nm)return Fm;Nm=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.retryAsPromised=Fm.applyJitter=Fm.TimeoutError=void 0;class r extends Error{constructor(e,t){super(e),this.name="TimeoutError",this.previous=t}}return Fm.TimeoutError=r,Fm.applyJitter=e,Fm.retryAsPromised=t,Fm.default=t,Fm}()),{GITHUB_ACTIONS:Um}=ks;var Mm=(e=>(e[e.Tar=0]="Tar",e[e.TarGz=1]="TarGz",e[e.TarXz=2]="TarXz",e[e.Zip=3]="Zip",e[e.SevenZip=4]="SevenZip",e))(Mm||{});let Gm;const{GITHUB_ACTIONS:Bm}=ks,Hm="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url)),{GITHUB_ACTIONS:Vm}=ks,qm="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url)),zm=e=>{if(e)if("object"==typeof e)e={mode:511,...e};else if("number"==typeof e)e={mode:e};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8)}}else e={mode:511};const t=e,r=e.fs||{};return e.mkdir=e.mkdir||r.mkdir||ei,e.mkdirAsync=e.mkdirAsync?e.mkdirAsync:async(e,r)=>new Promise((n,i)=>t.mkdir(e,r,(e,t)=>e?i(e):n(t))),e.stat=e.stat||r.stat||ti,e.statAsync=e.statAsync?e.statAsync:async e=>new Promise((r,n)=>t.stat(e,(e,t)=>e?n(e):r(t))),e.statSync=e.statSync||r.statSync||ri,e.mkdirSync=e.mkdirSync||r.mkdirSync||ni,t},Wm=(e,t,r)=>{const n=Xn(e),i={...zm(t),recursive:!1};if(n===e)try{return i.mkdirSync(e,i)}catch(o){if(o&&"EISDIR"!==o.code)throw o;return}try{return i.mkdirSync(e,i),r||e}catch(o){const t=o;if(t&&"ENOENT"===t.code)return Wm(e,i,Wm(n,i,r));if(t&&"EEXIST"!==t.code&&t&&"EROFS"!==t.code)throw o;try{if(!i.statSync(e).isDirectory())throw o}catch(s){throw o}}},Xm=Object.assign(async(e,t,r)=>{const n=zm(t);n.recursive=!1;const i=Xn(e);return i===e?n.mkdirAsync(e,n).catch(e=>{if(e&&"EISDIR"!==e.code)throw e}):n.mkdirAsync(e,n).then(()=>r||e,async t=>{const o=t;if(o&&"ENOENT"===o.code)return Xm(i,n).then(t=>Xm(e,n,t));if(o&&"EEXIST"!==o.code&&"EROFS"!==o.code)throw t;return n.statAsync(e).then(e=>{if(e.isDirectory())return r;throw t},()=>{throw t})})},{sync:Wm}),Km=async(e,t,r)=>{if(r!==t)return e.statAsync(t).then(e=>e.isDirectory()?r:void 0,r=>r&&"ENOENT"===r.code?Km(e,Xn(t),t):void 0)},Ym=(e,t,r)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(n){return n&&"ENOENT"===n.code?Ym(e,Xn(t),t):void 0}},Jm=(e,t)=>{const r=zm(t);if(r.recursive=!0,Xn(e)===e)return r.mkdirSync(e,r);const n=Ym(r,e);try{return r.mkdirSync(e,r),n}catch(i){if(i&&"ENOENT"===i.code)return Wm(e,r);throw i}},Qm=Object.assign(async(e,t)=>{const r={...zm(t),recursive:!0};return Xn(e)===e?await r.mkdirAsync(e,r):Km(r,e).then(t=>r.mkdirAsync(e,r).then(e=>t||e).catch(t=>{if(t&&"ENOENT"===t.code)return Xm(e,r);throw t}))},{sync:Jm}),Zm=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,ey=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=Bn(e),"win32"===Zm){const t=/[*|"<>?:]/,{root:r}=Yn(e);if(t.test(e.substring(r.length)))throw Object.assign(Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e},ty=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),ry=+ty[0]>10||10===+ty[0]&&+ty[1]>=12,ny=ry?e=>zm(e).mkdirSync===ni:()=>!1,iy=Object.assign(ry?e=>zm(e).mkdir===ei:()=>!1,{sync:ny}),oy=(e,t)=>{e=ey(e);const r=zm(t);return ny(r)?Jm(e,r):Wm(e,r)},sy=Object.assign(async(e,t)=>{e=ey(e);const r=zm(t);return iy(r)?Qm(e,r):Xm(e,r)},{mkdirpSync:oy,mkdirpNative:Qm,mkdirpNativeSync:Jm,mkdirpManual:Xm,mkdirpManualSync:Wm,sync:oy,native:Qm,nativeSync:Jm,manual:Xm,manualSync:Wm,useNative:iy,useNativeSync:ny}),ay=xp(function(){const e="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url)),t=Mn.join(e,"versions.json");return JSON.parse(Jn.readFileSync(t,"utf-8"))}),{GITHUB_ACTIONS:cy}=ks;var uy,ly={},fy=function(){if(uy)return ly;uy=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.getUbuntuVersion=void 0;const e=hi;return ly.getUbuntuVersion=async function(){if("linux"!==process.platform)return[];const t=await(r="lsb_release",n=["-a"],new Promise((t,i)=>{e.execFile(r,n,{encoding:"utf8",shell:!1},(e,o,s)=>{if(e)return"errno"in e&&"ENOENT"===e.code?void t(null):void i(Error(`Could not execute \`${r} ${n.join(" ")}\`: ${e} (stderr=${s})`));t(o)})}));var r,n;if(null===t)return[];const i=/^Distributor ID:\s*(.+)$/,o=/^Description:\s*Ubuntu\s+(\d+)\.(\d+)(?:\.(\d+))?/,s=/^Release:\s*(\d+)\.(\d+)(?:\.(\d+))?$/;let a=null,c=null,u=!1;for(const e of t.split("\n")){const t=e.match(i);if(null!==t){if("Ubuntu"!==t[1])return[];u=!0}const r=e.match(o);r&&(a=r);const n=e.match(s);if(n&&(c=n),u&&a&&c)break}if(!u)return[];for(const e of[a,c])if(e){const t=[e[1],e[2]];return e[3]&&t.push(e[3]),t.map(e=>parseInt(e,10))}return[]},ly}();const py=xp(async function(){try{if(ut()){try{null===hu.sync("lsb_release",{nothrow:!0})&&await _t([{name:"lsb-release"}])}catch{return Kr()}const e=await fy.getUbuntuVersion();return 0===e.length?Kr():e}return null}catch(e){return j(""+e),null}},{promise:!0}),dy=xp(async function(){let e=process.env.PIPX_HOME;if(void 0!==e)return e;const t=Ae("~/.local/pipx");if(await Ce(t))return t;switch(process.platform){case"win32":e=Ae("~/AppData/Local/pipx");break;case"darwin":e=Ae("~/Library/Application Support/pipx");break;default:e=Ae("~/.local/share/pipx")}return await sy(e),await sy(Gn(e,"trash")),await sy(Gn(e,"shared")),await sy(Gn(e,"venv")),e},{promise:!0}),hy=xp(async function(){if(void 0!==process.env.PIPX_BIN_DIR)return process.env.PIPX_BIN_DIR;const e=Ae("~/.local/bin");return await je(e,Qd),await sy(e),e},{promise:!0});let my;const yy=xp(async function(e){const t=[];"linux"===process.platform?t.push("/home/runner/.local/bin/"):"darwin"===process.platform&&t.push("/usr/local/bin/");const r=await vy(e);return t.push(Gn(r,"Scripts"),Gn(r,"Scripts","bin"),Gn(r,"bin")),function(e){return[...new Set(e)]}(t)},{promise:!0}),vy=xp(async function(e){return(await Jd.getExecOutput(e+' -c "import sys;print(sys.base_exec_prefix);"')).stdout.trim()},{promise:!0}),wy=xp(async function(e){try{const t=await vy(e),r=await Ft(e);return void 0===r?(j("Failed to get the version of "+e),!1):Ce(Gn(t,"lib",`python${r.major}.${r.minor}`,"EXTERNALLY-MANAGED"))}catch(t){return j(`Failed to check if ${e} is externally managed: ${t}`),!1}},{promise:!0}),gy=xp(function(e){const t=Ut(e);return Number.parseInt(t.split(".")[0],10)}),Ey=["x64","amd64","x86_64","win64","64","amd64_x86","amd64_arm64"],_y=["x86","i386","ia32","win32","32","x32"],by=["aarch64","arm64","woa64","arm"],Sy=["armv7","armv7a"],Oy=["powerpc64le","ppc64le"],Ry=["sparc64"],Iy=["sparcv9"],Py=r(E()),xy=new Map([[25,["Tahoe","26"]],[24,["Sequoia","15"]],[23,["Sonoma","14"]],[22,["Ventura","13"]],[21,["Monterey","12"]],[20,["Big Sur","11"]],[19,["Catalina","10.15"]],[18,["Mojave","10.14"]],[17,["High Sierra","10.13"]],[16,["Sierra","10.12"]],[15,["El Capitan","10.11"]],[14,["Yosemite","10.10"]],[13,["Mavericks","10.9"]],[12,["Mountain Lion","10.8"]],[11,["Lion","10.7"]],[10,["Snow Leopard","10.6"]],[9,["Leopard","10.5"]],[8,["Tiger","10.4"]],[7,["Panther","10.3"]],[6,["Jaguar","10.2"]],[5,["Puma","10.1"]]]),Ty=xp(function(){if("darwin"!==process.platform)return[];const{version:e}=function(e){e=Number((e||bi.release()).split(".")[0]);const[t,r]=xy.get(e)||["Unknown",""];return{name:t,version:r}}();return e.split(".").map(e=>Number.parseInt(e,10))}),Ny="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url)),$y="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url));var Cy,Ay={},Ly=function(){function e(e){return Object.values(m).includes(e)?e:e in m?m[e]:e}function t(e){if(Object.keys(m).includes(e))return e;for(const[t,r]of Object.entries(m))if(r===e)return t;return e}function r(e,t){try{return(""+a.execSync(`vswhere -products * ${t} -prerelease -property installationPath`)).trim()+"\\"+e}catch(r){s.warning("vswhere failed: "+r)}return null}function n(n){const i=e(n);let o;if(i){const e=i.split(".")[0]+".9";o=`-version "${i},${e}"`}else o="-latest";let a=r("VC\\Auxiliary\\Build\\vcvarsall.bat",o);if(a&&c.existsSync(a))return s.info("Found with vswhere: "+a),a;s.info("Not found with vswhere");const u=n?[t(n)]:h;for(const e of p)for(const t of u)for(const r of d)if(a=`${e}\\Microsoft Visual Studio\\${t}\\${r}\\VC\\Auxiliary\\Build\\vcvarsall.bat`,s.info("Trying standard location: "+a),c.existsSync(a))return s.info("Found standard location: "+a),a;if(s.info("Not found in standard locations"),a=f+"\\Microsoft Visual C++ Build Tools\\vcbuildtools.bat",c.existsSync(a))return s.info("Found VS 2015: "+a),a;throw s.info("Not found in VS 2015 location: "+a),Error("Microsoft Visual Studio not found")}function i(e){return-1!=["PATH","INCLUDE","LIB","LIBPATH"].indexOf(e.toUpperCase())}function o(e){return e.split(";").filter(function(e,t,r){return r.indexOf(e)===t}).join(";")}if(Cy)return Ay;Cy=1;const s=k(),a=hi,c=Jn,u=Mn,l=Dn,f=l.env["ProgramFiles(x86)"],p=[l.env["ProgramFiles(x86)"],l.env.ProgramFiles],d=["Enterprise","Professional","Community","BuildTools"],h=["2022","2019","2017"],m={2022:"17.0",2019:"16.0",2017:"15.0",2015:"14.0",2013:"12.0"};Ay.vsversion_to_versionnumber=e,Ay.vsversion_to_year=t;const y=f+"\\Microsoft Visual Studio\\Installer";return Ay.findWithVswhere=r,Ay.findVcvarsall=n,Ay.setupMSVCDevCmd=function(e,t,r,c,f,p){if("win32"!=l.platform)return void s.info("This is not a Windows virtual environment, bye!");l.env.PATH+=u.delimiter+y;let d={win32:"x86",win64:"x64",x86_64:"x64","x86-64":"x64"};e.toLowerCase()in d&&(e=d[e.toLowerCase()]);var h=[e];c&&!0===JSON.parse(c)&&h.push("uwp"),t&&h.push(t),r&&h.push("-vcvars_ver="+r),f&&!0===JSON.parse(f)&&h.push("-vcvars_spectre_libs=spectre");const m=`"${n(p)}" ${h.join(" ")}`;s.debug("vcvars command-line: "+m);const v=(""+a.execSync(`set && cls && ${m} && cls && set`,{shell:"cmd"})).split("\f"),w=v[0].split("\r\n"),g=v[1].split("\r\n"),E=v[2].split("\r\n"),_=g.filter(e=>!(!e.match(/^\[ERROR.*\]/)||e.match(/Error in script usage. The correct usage is:$/)));if(_.length>0)throw Error("invalid parameters\r\n"+_.join("\r\n"));let b={};for(let n of w){const[e,t]=n.split("=");b[e]=t}s.startGroup("Environment variables");for(let n of E){if(!n.includes("="))continue;let[e,t]=n.split("=");t!==b[e]&&(s.info("Setting "+e),i(e)&&(t=o(t)),s.exportVariable(e,t))}s.endGroup(),s.info("Configured Developer Command Prompt")},Ay}();const{GITHUB_ACTIONS:ky}=ks,Dy="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url));let Fy=!1;const jy={llvm:Nn,clang:Nn,"clang++":Nn},Uy={gcc:Fr,"g++":Fr},My={mingw:Cr},Gy={msvc:_n,cl:_n,msbuild:_n,visualstudio:_n},By={appleclang:on,applellvm:on,"apple-clang":on,"apple-llvm":on},Hy={cmakelang:un,"cmake-lint":un,"cmake-format":un,cmakelint:un,cmakeformat:un},Vy=["llvm","clang","clang++","clang-tidy","clang-format","clangtidy","clangformat"],qy={"apt-fast":bt,aptfast:bt,nala:async function(e){if(!ut())return;if("string"==typeof Xd)return{binDir:Xd};const t=hu.sync("nala",{nothrow:!0});if(null!==t)return Xd=Xn(t),{binDir:Xd};await _t([{name:"python3-apt"}]),Xd="/usr/bin";try{const t=await vt({name:"nala",version:e});if(void 0!==t)return await _t([{name:t}]),{binDir:Xd}}catch(r){M("Failed to install nala: "+r)}try{const e=await vt({name:"nala-legacy"});if(void 0!==e)return await _t([{name:e}],!0),{binDir:Xd}}catch(r){M("Failed to install nala-legacy: "+r)}return await async function(){const e=new Dd.DownloaderHelper("https://gitlab.com/volian/volian-archive/-/raw/1939afc3f80638dca2bbedde74bbd86731703cc8/install-nala.sh",Un(),{fileName:"install-nala.sh"});e.on("error",e=>{throw Error("Failed to download install-nala.sh: "+e)}),await e.start();const t=Gn(Un(),"install-nala.sh"),n=await Ai(t,"utf8");await ki(t,n.replace(/sudo/g,"")),await _t([{name:"wget"}]);try{te("bash",[t])}catch(r){D("Failed to install nala via installer: "+r),te("apt",["install","-y","-t","nala","nala"])}}(),{binDir:Xd}},git:dn,brew:St,choco:Er,python:Hr,powershell:Rn,pwsh:Rn,...jy,...Uy,...My,...Gy,...By,...Hy,cmake:cn,ninja:yn,vcpkg:async function(e,t,r){const n=await hu("vcpkg",{nothrow:!0});if(Fy&&null!==n)return{binDir:Xn(n)};if(await dn(""),"linux"===process.platform)if(Lt())await Promise.all([Dt("curl"),Dt("zip"),Dt("unzip"),Dt("tar"),Dt("pkg-config")]);else if(At())await kt([{name:"curl"},{name:"zip"},{name:"unzip"},{name:"tar"},{name:"pkg-config"}]);else if(ut())await _t([{name:"curl"},{name:"zip"},{name:"unzip"},{name:"tar"},{name:"pkg-config"}]);else if(await Td()){const e=[{name:"curl"},{name:"zip"},{name:"unzip"},{name:"tar"},{name:"pkgconf"}];by.includes(r)&&e.push({name:"build-base"}),await st(e)}return await Ce(Gn(t,Je("bootstrap-vcpkg",".bat")))?U(`Vcpkg folder already exists at ${t}. Skipping the clone`):await z("git",["clone","https://github.com/microsoft/vcpkg"],{cwd:Xn(t),stdio:"inherit"}),""!==e&&"true"!==e&&(M("Checking out vcpkg version "+e),await z("git",["checkout",e],{cwd:t,stdio:"inherit"})),"linux"===process.platform&&by.includes(r)&&await De("VCPKG_FORCE_SYSTEM_BINARIES","1",Qd),await z(Je(Qe("bootstrap-vcpkg"),".bat"),{cwd:t,shell:!0,stdio:"inherit"}),await se(t),await je(t,Qd),Fy=!0,{binDir:t}},bazel:async function(e,t,r){switch(process.platform){case"win32":return _r("bazelisk",e);case"darwin":return Tt("bazelisk",e);case"linux":if(Lt())throw Error("installing bazel on Arch linux is not supported yet");if(At())return await kt([{name:"dnf-plugins-core"}]),await re("dnf",["copr","enable","vbatts/bazel"]),kt([{name:"bazel4"}]);if(ut()){const t=await pt({fileName:"bazel-archive-keyring.gpg",keyUrl:"https://bazel.build/bazel-release.pub.gpg"});return await re("bash",["-c",`echo "deb [arch=${sn(process.arch)} signed-by=${t}] https://storage.googleapis.com/bazel-apt stable jdk1.8" | tee /etc/apt/sources.list.d/bazel.list`]),_t([{name:"bazel",version:e}],!0)}if(await Td())return st([{name:"bazel",version:e}],!0);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}},conan:function(e,t,r){return Jr("conan",e)},meson:function(e,t,r){return Jr("meson",e)},gcovr:function(e,t,r){return!ut()||void 0!==e&&""!==e?Jr("gcovr",e):_t([{name:"gcovr",version:e}])},opencppcoverage:bn,OpenCppCoverage:bn,ccache:async function(e,t,r){switch(process.platform){case"win32":return _r("ccache",e);case"darwin":return Tt("ccache",e);case"linux":if(Lt())return Dt("ccache",e);if(At())return kt([{name:"ccache",version:e}]);if(ut())return _t([{name:"ccache",version:e}]);if(await Td())return st([{name:"ccache",version:e}]);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}},sccache:async function(e,t,r){switch(process.platform){case"win32":return _r("sccache",e);case"linux":if(ut()){if((await fy.getUbuntuVersion())[0]>=24)return _t([{name:"sccache",version:e}])}else if(await Td())return st([{name:"sccache",version:e}]);return Tt("sccache",e);case"darwin":return Tt("sccache",e);default:throw Error("Unsupported platform")}},doxygen:async function(e,t,r){switch(process.platform){case"win32":{await jm(()=>_r("doxygen.install",e),{name:"doxygen.install",max:4,backoffBase:2e3,report:e=>M(e)});const t={binDir:await async function(){if("win32"===process.platform){for(const e of["C:/ProgramData/chocolatey/bin","C:/Program Files/doxygen/bin","C:/Program Files (x86)/doxygen"])if(await Ce(Gn(e,"doxygen.exe")))return await je(e,Qd),e;throw Error("Failed to find doxygen binary")}throw Error("Unsupported platform")}()};return await ln(Mr("graphviz",void 0)),t}case"darwin":{const e=await Tt("doxygen",void 0,{formula:!0});return Ty()[0]>11&&await ln(Mr("graphviz",void 0)),e}case"linux":{const n=await async function(e,t,r){try{if(Lt())return await Dt("doxygen",e);if(At())return kt([{name:"doxygen",version:e}]);if(ut())return await _t([{name:"doxygen",version:e,fallBackToLatest:by.includes(r)}]);if(await Td())return st([{name:"doxygen"}]);throw Error("Unsupported linux distributions")}catch{try{const i=await Or("doxygen",e,pn,t,r);if(ut())try{await _t([{name:"libclang-cpp-dev"}])}catch(n){M("Failed to download libclang-cpp-dev that might be needed for running doxygen. "+n)}return i}catch(n){return U(`Failed to download doxygen binary. ${n}. Falling back to installing the latest version from apt-get.`),_t([{name:"doxygen"}])}}}(e,t,r);return await ln(Mr("graphviz",void 0,await py())),n}default:throw Error("Unsupported platform")}},graphviz:ln,cppcheck:async function(e,t,r){switch(process.platform){case"win32":return await _r("cppcheck",e),{binDir:await async function(){const e="C:/Program Files/Cppcheck";return await je(e,Qd),e}()};case"darwin":return Tt("cppcheck",e);case"linux":if(Lt())return Dt("cppcheck",e);if(At())return kt([{name:"ccache",version:e}]);if(ut())return _t([{name:"cppcheck",version:e}]);if(await Td())return st([{name:"cppcheck",version:e}]);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}},cpplint:function(e,t,r){return Jr("cpplint",e,{pythonVersion:">=3.8.0"})},flawfinder:function(e,t,r){return Jr("flawfinder",e)},lizard:function(e,t,r){return Jr("lizard",e)},infer:function(e,t,r){return Or("infer",e,hn,t,r)},"clang-tidy":An,clangtidy:An,"clang-format":Cn,clangformat:Cn,vcvarsall:En,kcov:async function(e,t,r){if("linux"!==process.platform)return void M("Kcov is not supported on non-linux");const n=e.split("-");let i=function(e){return e.match(/^v/)?e:"v"+e}(n[0]);const o=n[1],s=function(e){return Number.parseInt(e.replace(/^v/,""),10)}(i);let a;return 38===s&&(i="v38"),"binary"!==o||39>s?(a=await Or("kcov",i,wn,t,r),a):(a=await Or("kcov",i,vn,t,r),Lt()?await Dt("binutils"):At()?await kt([{name:"binutils"}]):ut()&&await _t([{name:"libbinutils"}]),a)},make:async function(e,t,r){switch(process.platform){case"win32":return _r("make",e);case"darwin":{await Tt("make",e);const t=Gn(It(),"opt/make/libexec/gnubin");return await je(t,Qd),{binDir:t}}case"linux":if(Lt())return Dt("make",e);if(At())return kt([{name:"make",version:e}]);if(ut())return _t([{name:"make",version:e}]);if(await Td())return st([{name:"make",version:e}]);throw Error("Unsupported linux distribution");default:throw Error("Unsupported platform")}},task:function(e,t,r){return Or("task",e,Pn,t,r)},sevenzip:br,"7zip":br,"7z":br,tar:Rr},zy=Object.keys(qy),Wy=["compiler","architecture","timeout",...zy],Xy=36e5,Ky="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url));var Yy=(e=>(e[e.All=0]="All",e[e.ClangFormat=1]="ClangFormat",e[e.Core=2]="Core",e))(Yy||{});const Jy="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url)),Qy=xp(async function(e,t){if(ut())for(const i of["libtinfo5","libtinfo6"])try{await _t([{name:i}])}catch(r){try{if("libtinfo5"===i){M(`Failed to install ${i}\nManually installing the package`);const e=`libtinfo5_6.3-2ubuntu0.1_${sn(t)}.deb`,r="https://launchpad.net/ubuntu/+archive/primary/+files/"+e,n=new Dd.DownloaderHelper(r,Un(),{fileName:e});n.on("error",async e=>{M(`Failed to download ${r}: ${e}`),await n.stop()}),await n.start(),te("dpkg",["-i",Gn(Un(),e)])}}catch(n){M(`Failed to install ${i}. Ignoring`)}}else Lt()?await Dt("ncurses5-compat-libs",void 0,"yay"):At()&&await kt([{name:"ncurses-compat-libs"}])},{promise:!0}),{GITHUB_ACTIONS:Zy}=ks,ev="string"==typeof __dirname?__dirname:Mn.dirname(Ui(import.meta.url)),tv=xp(async function(e){"linux"===process.platform&&await Fr(Mr("gcc",void 0,await py()),"",e,40)},{promise:!0}),rv=/[.-]((?:\d{4}|\d+(?:\.\d+)*(?:-[\w.-]+)?(?:\+[\w.-]+)?)$)/;"true"!==process.env.SETUP_CPP_SKIP_MAIN&&async function(e){const t=Ls.GITHUB_ACTIONS?Promise.resolve():async function(){try{await Ts({pkg:Ns})}catch(e){j("Failed to check for updates: "+(e instanceof Error?e.message+e.stack:e))}}(),r=kn(e);if(r.help)return M('\nsetup-cpp [options]\nsetup-cpp --compiler llvm --cmake true --ninja true --ccache true --vcpkg true\n\nInstall all the tools required for building and testing C++/C projects.\n\n--architecture\t the cpu architecture to install the tools for. By default it uses the current CPU architecture.\n--timeout\t the timeout for the installation of each tool in minutes. By default it is 10 minutes.\n--compiler\t the <compiler> to install.\n          \t You can specify the version instead of specifying just the name e.g: --compiler \'llvm-13.0.0\'\n--tool_name\t pass "true" or pass the <version> you would like to install for this tool. e.g. --conan true or --conan "1.42.1"\n--nodePackageManager\t the node package manager to use (npm/yarn/pnpm) when installing setup-cpp globally\n--help\t show this help message\n--version\t show the version of setup-cpp\n\nAll the available tools:\n'),console.table({"compiler and analyzer":{tools:"--llvm, --gcc, --msvc, --apple-clang, --vcvarsall"},"build system":{tools:"--cmake, --ninja, --meson, --make, --task, --bazel"},"package manager":{tools:"--vcpkg, --conan, --choco, --brew, --apt-fast, --nala, --git, --setup-cpp"},"analyzer/linter":{tools:"--clang-tidy, --clang-format, --cppcheck, --cpplint, --flawfinder, --lizard, --infer, , --cmakelang, --cmake-lint, --cmake-format"},cache:{tools:"--ccache, --sccache"},documentation:{tools:"--doxygen, --graphviz"},coverage:{tools:"--gcovr, --opencppcoverage, --kcov"},other:{tools:"--python, --powershell, --sevenzip, --tar"}},["tools"]),0;if(r.version)return M(""+Ns.version),0;const{successMessages:n,errorMessages:i}=await Ln(r);for(const o of n)F(o);for(const o of i)D(o);if((0!==n.length||0!==i.length)&&(M("setup-cpp finished"),!Ls.GITHUB_ACTIONS))switch(process.platform){case"win32":j("Run `RefreshEnv.cmd` or restart your shell to update the environment.");break;case"linux":case"darwin":j("Run `source ~/.cpprc` or restart your shell to update the environment.")}return await t,0===i.length?0:1}(process.argv).then(e=>{process.exitCode=e}).catch(e=>{D("main() panicked!"),D(e),process.exitCode=1});export{sa as H,Pa as a,ks as b,Ps as c,Jd as e,r as g,M as i,Ce as p,kn as parseArgs,P as r,Dm as t,j as w};
=======
import ip from"process";import nt,{homedir as sp,tmpdir as We}from"os";import ue,{join as Z,delimiter as ln,basename as Zt,extname as bn,normalize as xm,sep as op,dirname as Pe,relative as Am,resolve as ap,parse as cp}from"path";import qe,{promises as Rn,existsSync as Jt,mkdir as up,stat as Cm,statSync as Nm,mkdirSync as lp}from"fs";import*as sc from"https";import $a from"https";import fp from"crypto";import*as jn from"http";import dp from"http";import"net";import Lm from"tls";import $n from"events";import On from"util";import Dm from"string_decoder";import Cr from"child_process";import Nr from"assert";import km from"timers";import{Buffer as Fm}from"node:buffer";import fr from"node:path";import wa,{ChildProcess as qm}from"node:child_process";import Ot from"node:process";import{fileURLToPath as pp}from"node:url";import hp,{constants as mp}from"node:os";import Um,{createWriteStream as jm,createReadStream as Mm,readFileSync as Gm,promises as Vm}from"node:fs";import Bm from"buffer";import Lr from"stream";import{debuglog as Hm}from"node:util";import yp,{readFile as In,appendFile as zm,rm as Wm,chmod as vp,readdir as wp,writeFile as gp}from"fs/promises";import Xm,{fileURLToPath as Nt}from"url";import Km from"constants";import{error as Ym,info as ga}from"console";function Mn(e){return e==null?[]:Array.isArray(e)?e:[e]}function Jm(e,t,r,n){var i,o=e[t],s=~n.string.indexOf(t)?r==null||r===!0?"":String(r):typeof r=="boolean"?r:~n.boolean.indexOf(t)?r==="false"?!1:r==="true"||(e._.push((i=+r,i*0===0?i:r)),!!r):(i=+r,i*0===0?i:r);e[t]=o==null?s:Array.isArray(o)?o.concat(s):[o,s]}function Qm(e,t){e=e||[],t=t||{};var r,n,i,o,s,l={_:[]},u=0,c=0,a=0,h=e.length;const p=t.alias!==void 0,w=t.unknown!==void 0,E=t.default!==void 0;if(t.alias=t.alias||{},t.string=Mn(t.string),t.boolean=Mn(t.boolean),p)for(r in t.alias)for(n=t.alias[r]=Mn(t.alias[r]),u=0;u<n.length;u++)(t.alias[n[u]]=n.concat(r)).splice(u,1);for(u=t.boolean.length;u-- >0;)for(n=t.alias[t.boolean[u]]||[],c=n.length;c-- >0;)t.boolean.push(n[c]);for(u=t.string.length;u-- >0;)for(n=t.alias[t.string[u]]||[],c=n.length;c-- >0;)t.string.push(n[c]);if(E){for(r in t.default)if(o=typeof t.default[r],n=t.alias[r]=t.alias[r]||[],t[o]!==void 0)for(t[o].push(r),u=0;u<n.length;u++)t[o].push(n[u])}const d=w?Object.keys(t.alias):[];for(u=0;u<h;u++){if(i=e[u],i==="--"){l._=l._.concat(e.slice(++u));break}for(c=0;c<i.length&&i.charCodeAt(c)===45;c++);if(c===0)l._.push(i);else if(i.substring(c,c+3)==="no-"){if(o=i.substring(c+3),w&&!~d.indexOf(o))return t.unknown(i);l[o]=!1}else{for(a=c+1;a<i.length&&i.charCodeAt(a)!==61;a++);for(o=i.substring(c,a),s=i.substring(++a)||u+1===h||(""+e[u+1]).charCodeAt(0)===45||e[++u],n=c===2?[o]:o,a=0;a<n.length;a++){if(o=n[a],w&&!~d.indexOf(o))return t.unknown("-".repeat(c)+o);Jm(l,o,a+1<n.length||s,t)}}}if(E)for(r in t.default)l[r]===void 0&&(l[r]=t.default[r]);if(p)for(r in l)for(n=t.alias[r]||[];n.length>0;)l[n.shift()]=l[r];return l}var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zm(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Mr={exports:{}},Gn,oc;function Pn(){if(oc)return Gn;oc=1;const e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=t-6;return Gn={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Gn}var Vn,ac;function Tn(){return ac||(ac=1,Vn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),Vn}var cc;function Dr(){return cc||(cc=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Pn(),o=Tn();t=e.exports={};const s=t.re=[],l=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],a=t.t={};let h=0;const p="[a-zA-Z0-9-]",w=[["\\s",1],["\\d",i],[p,n]],E=f=>{for(const[m,y]of w)f=f.split(`${m}*`).join(`${m}{0,${y}}`).split(`${m}+`).join(`${m}{1,${y}}`);return f},d=(f,m,y)=>{const v=E(m),S=h++;o(f,S,m),a[f]=S,u[S]=m,c[S]=v,s[S]=new RegExp(m,y?"g":void 0),l[S]=new RegExp(v,y?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),d("MAINVERSION",`(${u[a.NUMERICIDENTIFIER]})\\.(${u[a.NUMERICIDENTIFIER]})\\.(${u[a.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${u[a.NUMERICIDENTIFIERLOOSE]})\\.(${u[a.NUMERICIDENTIFIERLOOSE]})\\.(${u[a.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${u[a.NUMERICIDENTIFIER]}|${u[a.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${u[a.NUMERICIDENTIFIERLOOSE]}|${u[a.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${u[a.PRERELEASEIDENTIFIER]}(?:\\.${u[a.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${u[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[a.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${p}+`),d("BUILD",`(?:\\+(${u[a.BUILDIDENTIFIER]}(?:\\.${u[a.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${u[a.MAINVERSION]}${u[a.PRERELEASE]}?${u[a.BUILD]}?`),d("FULL",`^${u[a.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${u[a.MAINVERSIONLOOSE]}${u[a.PRERELEASELOOSE]}?${u[a.BUILD]}?`),d("LOOSE",`^${u[a.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${u[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${u[a.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${u[a.XRANGEIDENTIFIER]})(?:\\.(${u[a.XRANGEIDENTIFIER]})(?:\\.(${u[a.XRANGEIDENTIFIER]})(?:${u[a.PRERELEASE]})?${u[a.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${u[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[a.XRANGEIDENTIFIERLOOSE]})(?:${u[a.PRERELEASELOOSE]})?${u[a.BUILD]}?)?)?`),d("XRANGE",`^${u[a.GTLT]}\\s*${u[a.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${u[a.GTLT]}\\s*${u[a.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),d("COERCE",`${u[a.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",u[a.COERCEPLAIN]+`(?:${u[a.PRERELEASE]})?(?:${u[a.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",u[a.COERCE],!0),d("COERCERTLFULL",u[a.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${u[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${u[a.LONETILDE]}${u[a.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${u[a.LONETILDE]}${u[a.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${u[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${u[a.LONECARET]}${u[a.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${u[a.LONECARET]}${u[a.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${u[a.GTLT]}\\s*(${u[a.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${u[a.GTLT]}\\s*(${u[a.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${u[a.GTLT]}\\s*(${u[a.LOOSEPLAIN]}|${u[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${u[a.XRANGEPLAIN]})\\s+-\\s+(${u[a.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${u[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[a.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Mr,Mr.exports)),Mr.exports}var Bn,uc;function Oa(){if(uc)return Bn;uc=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Bn=n=>n?typeof n!="object"?e:n:t,Bn}var Hn,lc;function _p(){if(lc)return Hn;lc=1;const e=/^[0-9]+$/,t=(n,i)=>{const o=e.test(n),s=e.test(i);return o&&s&&(n=+n,i=+i),n===i?0:o&&!s?-1:s&&!o?1:n<i?-1:1};return Hn={compareIdentifiers:t,rcompareIdentifiers:(n,i)=>t(i,n)},Hn}var zn,fc;function ze(){if(fc)return zn;fc=1;const e=Tn(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=Pn(),{safeRe:n,safeSrc:i,t:o}=Dr(),s=Oa(),{compareIdentifiers:l}=_p();class u{constructor(a,h){if(h=s(h),a instanceof u){if(a.loose===!!h.loose&&a.includePrerelease===!!h.includePrerelease)return a;a=a.version}else if(typeof a!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof a}".`);if(a.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",a,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const p=a.trim().match(h.loose?n[o.LOOSE]:n[o.FULL]);if(!p)throw new TypeError(`Invalid Version: ${a}`);if(this.raw=a,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(w=>{if(/^[0-9]+$/.test(w)){const E=+w;if(E>=0&&E<r)return E}return w}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(a){if(e("SemVer.compare",this.version,this.options,a),!(a instanceof u)){if(typeof a=="string"&&a===this.version)return 0;a=new u(a,this.options)}return a.version===this.version?0:this.compareMain(a)||this.comparePre(a)}compareMain(a){return a instanceof u||(a=new u(a,this.options)),l(this.major,a.major)||l(this.minor,a.minor)||l(this.patch,a.patch)}comparePre(a){if(a instanceof u||(a=new u(a,this.options)),this.prerelease.length&&!a.prerelease.length)return-1;if(!this.prerelease.length&&a.prerelease.length)return 1;if(!this.prerelease.length&&!a.prerelease.length)return 0;let h=0;do{const p=this.prerelease[h],w=a.prerelease[h];if(e("prerelease compare",h,p,w),p===void 0&&w===void 0)return 0;if(w===void 0)return 1;if(p===void 0)return-1;if(p===w)continue;return l(p,w)}while(++h)}compareBuild(a){a instanceof u||(a=new u(a,this.options));let h=0;do{const p=this.build[h],w=a.build[h];if(e("build compare",h,p,w),p===void 0&&w===void 0)return 0;if(w===void 0)return 1;if(p===void 0)return-1;if(p===w)continue;return l(p,w)}while(++h)}inc(a,h,p){if(a.startsWith("pre")){if(!h&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const w=new RegExp(`^${this.options.loose?i[o.PRERELEASELOOSE]:i[o.PRERELEASE]}$`),E=`-${h}`.match(w);if(!E||E[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(a){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,p),this.inc("pre",h,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,p),this.inc("pre",h,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const w=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[w];else{let E=this.prerelease.length;for(;--E>=0;)typeof this.prerelease[E]=="number"&&(this.prerelease[E]++,E=-2);if(E===-1){if(h===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(w)}}if(h){let E=[h,w];p===!1&&(E=[h]),l(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=E):this.prerelease=E}break}default:throw new Error(`invalid increment argument: ${a}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return zn=u,zn}var Wn,dc;function pr(){if(dc)return Wn;dc=1;const e=ze();return Wn=(r,n,i=!1)=>{if(r instanceof e)return r;try{return new e(r,n)}catch(o){if(!i)return null;throw o}},Wn}var Xn,pc;function Ep(){if(pc)return Xn;pc=1;const e=pr();return Xn=(r,n)=>{const i=e(r,n);return i?i.version:null},Xn}var Kn,hc;function ey(){if(hc)return Kn;hc=1;const e=pr();return Kn=(r,n)=>{const i=e(r.trim().replace(/^[=v]+/,""),n);return i?i.version:null},Kn}var Yn,mc;function ty(){if(mc)return Yn;mc=1;const e=ze();return Yn=(r,n,i,o,s)=>{typeof i=="string"&&(s=o,o=i,i=void 0);try{return new e(r instanceof e?r.version:r,i).inc(n,o,s).version}catch{return null}},Yn}var Jn,yc;function ry(){if(yc)return Jn;yc=1;const e=pr();return Jn=(r,n)=>{const i=e(r,null,!0),o=e(n,null,!0),s=i.compare(o);if(s===0)return null;const l=s>0,u=l?i:o,c=l?o:i,a=!!u.prerelease.length;if(!!c.prerelease.length&&!a){if(!c.patch&&!c.minor)return"major";if(c.compareMain(u)===0)return c.minor&&!c.patch?"minor":"patch"}const p=a?"pre":"";return i.major!==o.major?p+"major":i.minor!==o.minor?p+"minor":i.patch!==o.patch?p+"patch":"prerelease"},Jn}var Qn,vc;function Sp(){if(vc)return Qn;vc=1;const e=ze();return Qn=(r,n)=>new e(r,n).major,Qn}var Zn,wc;function ny(){if(wc)return Zn;wc=1;const e=ze();return Zn=(r,n)=>new e(r,n).minor,Zn}var ei,gc;function iy(){if(gc)return ei;gc=1;const e=ze();return ei=(r,n)=>new e(r,n).patch,ei}var ti,_c;function sy(){if(_c)return ti;_c=1;const e=pr();return ti=(r,n)=>{const i=e(r,n);return i&&i.prerelease.length?i.prerelease:null},ti}var ri,Ec;function ut(){if(Ec)return ri;Ec=1;const e=ze();return ri=(r,n,i)=>new e(r,i).compare(new e(n,i)),ri}var ni,Sc;function oy(){if(Sc)return ni;Sc=1;const e=ut();return ni=(r,n,i)=>e(n,r,i),ni}var ii,bc;function ay(){if(bc)return ii;bc=1;const e=ut();return ii=(r,n)=>e(r,n,!0),ii}var si,Rc;function Ia(){if(Rc)return si;Rc=1;const e=ze();return si=(r,n,i)=>{const o=new e(r,i),s=new e(n,i);return o.compare(s)||o.compareBuild(s)},si}var oi,$c;function cy(){if($c)return oi;$c=1;const e=Ia();return oi=(r,n)=>r.sort((i,o)=>e(i,o,n)),oi}var ai,Oc;function uy(){if(Oc)return ai;Oc=1;const e=Ia();return ai=(r,n)=>r.sort((i,o)=>e(o,i,n)),ai}var ci,Ic;function xn(){if(Ic)return ci;Ic=1;const e=ut();return ci=(r,n,i)=>e(r,n,i)>0,ci}var ui,Pc;function Pa(){if(Pc)return ui;Pc=1;const e=ut();return ui=(r,n,i)=>e(r,n,i)<0,ui}var li,Tc;function bp(){if(Tc)return li;Tc=1;const e=ut();return li=(r,n,i)=>e(r,n,i)===0,li}var fi,xc;function Rp(){if(xc)return fi;xc=1;const e=ut();return fi=(r,n,i)=>e(r,n,i)!==0,fi}var di,Ac;function Ta(){if(Ac)return di;Ac=1;const e=ut();return di=(r,n,i)=>e(r,n,i)>=0,di}var pi,Cc;function An(){if(Cc)return pi;Cc=1;const e=ut();return pi=(r,n,i)=>e(r,n,i)<=0,pi}var hi,Nc;function $p(){if(Nc)return hi;Nc=1;const e=bp(),t=Rp(),r=xn(),n=Ta(),i=Pa(),o=An();return hi=(l,u,c,a)=>{switch(u){case"===":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l===c;case"!==":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l!==c;case"":case"=":case"==":return e(l,c,a);case"!=":return t(l,c,a);case">":return r(l,c,a);case">=":return n(l,c,a);case"<":return i(l,c,a);case"<=":return o(l,c,a);default:throw new TypeError(`Invalid operator: ${u}`)}},hi}var mi,Lc;function Op(){if(Lc)return mi;Lc=1;const e=ze(),t=pr(),{safeRe:r,t:n}=Dr();return mi=(o,s)=>{if(o instanceof e)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;s=s||{};let l=null;if(!s.rtl)l=o.match(s.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const w=s.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let E;for(;(E=w.exec(o))&&(!l||l.index+l[0].length!==o.length);)(!l||E.index+E[0].length!==l.index+l[0].length)&&(l=E),w.lastIndex=E.index+E[1].length+E[2].length;w.lastIndex=-1}if(l===null)return null;const u=l[2],c=l[3]||"0",a=l[4]||"0",h=s.includePrerelease&&l[5]?`-${l[5]}`:"",p=s.includePrerelease&&l[6]?`+${l[6]}`:"";return t(`${u}.${c}.${a}${h}${p}`,s)},mi}var yi,Dc;function ly(){if(Dc)return yi;Dc=1;class e{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(r,n)}return this}}return yi=e,yi}var vi,kc;function wt(){if(kc)return vi;kc=1;const e=/\s+/g;class t{constructor(T,F){if(F=i(F),T instanceof t)return T.loose===!!F.loose&&T.includePrerelease===!!F.includePrerelease?T:new t(T.raw,F);if(T instanceof o)return this.raw=T.value,this.set=[[T]],this.formatted=void 0,this;if(this.options=F,this.loose=!!F.loose,this.includePrerelease=!!F.includePrerelease,this.raw=T.trim().replace(e," "),this.set=this.raw.split("||").map(U=>this.parseRange(U.trim())).filter(U=>U.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const U=this.set[0];if(this.set=this.set.filter(k=>!d(k[0])),this.set.length===0)this.set=[U];else if(this.set.length>1){for(const k of this.set)if(k.length===1&&f(k[0])){this.set=[k];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let T=0;T<this.set.length;T++){T>0&&(this.formatted+="||");const F=this.set[T];for(let U=0;U<F.length;U++)U>0&&(this.formatted+=" "),this.formatted+=F[U].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(T){const U=((this.options.includePrerelease&&w)|(this.options.loose&&E))+":"+T,k=n.get(U);if(k)return k;const G=this.options.loose,C=G?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];T=T.replace(C,K(this.options.includePrerelease)),s("hyphen replace",T),T=T.replace(u[c.COMPARATORTRIM],a),s("comparator trim",T),T=T.replace(u[c.TILDETRIM],h),s("tilde trim",T),T=T.replace(u[c.CARETTRIM],p),s("caret trim",T);let H=T.split(" ").map(X=>y(X,this.options)).join(" ").split(/\s+/).map(X=>M(X,this.options));G&&(H=H.filter(X=>(s("loose invalid filter",X,this.options),!!X.match(u[c.COMPARATORLOOSE])))),s("range list",H);const z=new Map,re=H.map(X=>new o(X,this.options));for(const X of re){if(d(X))return[X];z.set(X.value,X)}z.size>1&&z.has("")&&z.delete("");const ce=[...z.values()];return n.set(U,ce),ce}intersects(T,F){if(!(T instanceof t))throw new TypeError("a Range is required");return this.set.some(U=>m(U,F)&&T.set.some(k=>m(k,F)&&U.every(G=>k.every(C=>G.intersects(C,F)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new l(T,this.options)}catch{return!1}for(let F=0;F<this.set.length;F++)if(J(this.set[F],T,this.options))return!0;return!1}}vi=t;const r=ly(),n=new r,i=Oa(),o=Cn(),s=Tn(),l=ze(),{safeRe:u,t:c,comparatorTrimReplace:a,tildeTrimReplace:h,caretTrimReplace:p}=Dr(),{FLAG_INCLUDE_PRERELEASE:w,FLAG_LOOSE:E}=Pn(),d=x=>x.value==="<0.0.0-0",f=x=>x.value==="",m=(x,T)=>{let F=!0;const U=x.slice();let k=U.pop();for(;F&&U.length;)F=U.every(G=>k.intersects(G,T)),k=U.pop();return F},y=(x,T)=>(s("comp",x,T),x=b(x,T),s("caret",x),x=S(x,T),s("tildes",x),x=$(x,T),s("xrange",x),x=A(x,T),s("stars",x),x),v=x=>!x||x.toLowerCase()==="x"||x==="*",S=(x,T)=>x.trim().split(/\s+/).map(F=>_(F,T)).join(" "),_=(x,T)=>{const F=T.loose?u[c.TILDELOOSE]:u[c.TILDE];return x.replace(F,(U,k,G,C,H)=>{s("tilde",x,U,k,G,C,H);let z;return v(k)?z="":v(G)?z=`>=${k}.0.0 <${+k+1}.0.0-0`:v(C)?z=`>=${k}.${G}.0 <${k}.${+G+1}.0-0`:H?(s("replaceTilde pr",H),z=`>=${k}.${G}.${C}-${H} <${k}.${+G+1}.0-0`):z=`>=${k}.${G}.${C} <${k}.${+G+1}.0-0`,s("tilde return",z),z})},b=(x,T)=>x.trim().split(/\s+/).map(F=>g(F,T)).join(" "),g=(x,T)=>{s("caret",x,T);const F=T.loose?u[c.CARETLOOSE]:u[c.CARET],U=T.includePrerelease?"-0":"";return x.replace(F,(k,G,C,H,z)=>{s("caret",x,k,G,C,H,z);let re;return v(G)?re="":v(C)?re=`>=${G}.0.0${U} <${+G+1}.0.0-0`:v(H)?G==="0"?re=`>=${G}.${C}.0${U} <${G}.${+C+1}.0-0`:re=`>=${G}.${C}.0${U} <${+G+1}.0.0-0`:z?(s("replaceCaret pr",z),G==="0"?C==="0"?re=`>=${G}.${C}.${H}-${z} <${G}.${C}.${+H+1}-0`:re=`>=${G}.${C}.${H}-${z} <${G}.${+C+1}.0-0`:re=`>=${G}.${C}.${H}-${z} <${+G+1}.0.0-0`):(s("no pr"),G==="0"?C==="0"?re=`>=${G}.${C}.${H}${U} <${G}.${C}.${+H+1}-0`:re=`>=${G}.${C}.${H}${U} <${G}.${+C+1}.0-0`:re=`>=${G}.${C}.${H} <${+G+1}.0.0-0`),s("caret return",re),re})},$=(x,T)=>(s("replaceXRanges",x,T),x.split(/\s+/).map(F=>I(F,T)).join(" ")),I=(x,T)=>{x=x.trim();const F=T.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return x.replace(F,(U,k,G,C,H,z)=>{s("xRange",x,U,k,G,C,H,z);const re=v(G),ce=re||v(C),X=ce||v(H),ie=X;return k==="="&&ie&&(k=""),z=T.includePrerelease?"-0":"",re?k===">"||k==="<"?U="<0.0.0-0":U="*":k&&ie?(ce&&(C=0),H=0,k===">"?(k=">=",ce?(G=+G+1,C=0,H=0):(C=+C+1,H=0)):k==="<="&&(k="<",ce?G=+G+1:C=+C+1),k==="<"&&(z="-0"),U=`${k+G}.${C}.${H}${z}`):ce?U=`>=${G}.0.0${z} <${+G+1}.0.0-0`:X&&(U=`>=${G}.${C}.0${z} <${G}.${+C+1}.0-0`),s("xRange return",U),U})},A=(x,T)=>(s("replaceStars",x,T),x.trim().replace(u[c.STAR],"")),M=(x,T)=>(s("replaceGTE0",x,T),x.trim().replace(u[T.includePrerelease?c.GTE0PRE:c.GTE0],"")),K=x=>(T,F,U,k,G,C,H,z,re,ce,X,ie)=>(v(U)?F="":v(k)?F=`>=${U}.0.0${x?"-0":""}`:v(G)?F=`>=${U}.${k}.0${x?"-0":""}`:C?F=`>=${F}`:F=`>=${F}${x?"-0":""}`,v(re)?z="":v(ce)?z=`<${+re+1}.0.0-0`:v(X)?z=`<${re}.${+ce+1}.0-0`:ie?z=`<=${re}.${ce}.${X}-${ie}`:x?z=`<${re}.${ce}.${+X+1}-0`:z=`<=${z}`,`${F} ${z}`.trim()),J=(x,T,F)=>{for(let U=0;U<x.length;U++)if(!x[U].test(T))return!1;if(T.prerelease.length&&!F.includePrerelease){for(let U=0;U<x.length;U++)if(s(x[U].semver),x[U].semver!==o.ANY&&x[U].semver.prerelease.length>0){const k=x[U].semver;if(k.major===T.major&&k.minor===T.minor&&k.patch===T.patch)return!0}return!1}return!0};return vi}var wi,Fc;function Cn(){if(Fc)return wi;Fc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(a,h){if(h=r(h),a instanceof t){if(a.loose===!!h.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),s("comparator",a,h),this.options=h,this.loose=!!h.loose,this.parse(a),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(a){const h=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],p=a.match(h);if(!p)throw new TypeError(`Invalid comparator: ${a}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new l(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(a){if(s("Comparator.test",a,this.options.loose),this.semver===e||a===e)return!0;if(typeof a=="string")try{a=new l(a,this.options)}catch{return!1}return o(a,this.operator,this.semver,this.options)}intersects(a,h){if(!(a instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(a.value,h).test(this.value):a.operator===""?a.value===""?!0:new u(this.value,h).test(a.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||o(this.semver,"<",a.semver,h)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||o(this.semver,">",a.semver,h)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}}wi=t;const r=Oa(),{safeRe:n,t:i}=Dr(),o=$p(),s=Tn(),l=ze(),u=wt();return wi}var gi,qc;function kr(){if(qc)return gi;qc=1;const e=wt();return gi=(r,n,i)=>{try{n=new e(n,i)}catch{return!1}return n.test(r)},gi}var _i,Uc;function fy(){if(Uc)return _i;Uc=1;const e=wt();return _i=(r,n)=>new e(r,n).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" ")),_i}var Ei,jc;function dy(){if(jc)return Ei;jc=1;const e=ze(),t=wt();return Ei=(n,i,o)=>{let s=null,l=null,u=null;try{u=new t(i,o)}catch{return null}return n.forEach(c=>{u.test(c)&&(!s||l.compare(c)===-1)&&(s=c,l=new e(s,o))}),s},Ei}var Si,Mc;function py(){if(Mc)return Si;Mc=1;const e=ze(),t=wt();return Si=(n,i,o)=>{let s=null,l=null,u=null;try{u=new t(i,o)}catch{return null}return n.forEach(c=>{u.test(c)&&(!s||l.compare(c)===1)&&(s=c,l=new e(s,o))}),s},Si}var bi,Gc;function hy(){if(Gc)return bi;Gc=1;const e=ze(),t=wt(),r=xn();return bi=(i,o)=>{i=new t(i,o);let s=new e("0.0.0");if(i.test(s)||(s=new e("0.0.0-0"),i.test(s)))return s;s=null;for(let l=0;l<i.set.length;++l){const u=i.set[l];let c=null;u.forEach(a=>{const h=new e(a.semver.version);switch(a.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!c||r(h,c))&&(c=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),c&&(!s||r(s,c))&&(s=c)}return s&&i.test(s)?s:null},bi}var Ri,Vc;function my(){if(Vc)return Ri;Vc=1;const e=wt();return Ri=(r,n)=>{try{return new e(r,n).range||"*"}catch{return null}},Ri}var $i,Bc;function xa(){if(Bc)return $i;Bc=1;const e=ze(),t=Cn(),{ANY:r}=t,n=wt(),i=kr(),o=xn(),s=Pa(),l=An(),u=Ta();return $i=(a,h,p,w)=>{a=new e(a,w),h=new n(h,w);let E,d,f,m,y;switch(p){case">":E=o,d=l,f=s,m=">",y=">=";break;case"<":E=s,d=u,f=o,m="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(a,h,w))return!1;for(let v=0;v<h.set.length;++v){const S=h.set[v];let _=null,b=null;if(S.forEach(g=>{g.semver===r&&(g=new t(">=0.0.0")),_=_||g,b=b||g,E(g.semver,_.semver,w)?_=g:f(g.semver,b.semver,w)&&(b=g)}),_.operator===m||_.operator===y||(!b.operator||b.operator===m)&&d(a,b.semver))return!1;if(b.operator===y&&f(a,b.semver))return!1}return!0},$i}var Oi,Hc;function yy(){if(Hc)return Oi;Hc=1;const e=xa();return Oi=(r,n,i)=>e(r,n,">",i),Oi}var Ii,zc;function vy(){if(zc)return Ii;zc=1;const e=xa();return Ii=(r,n,i)=>e(r,n,"<",i),Ii}var Pi,Wc;function wy(){if(Wc)return Pi;Wc=1;const e=wt();return Pi=(r,n,i)=>(r=new e(r,i),n=new e(n,i),r.intersects(n,i)),Pi}var Ti,Xc;function gy(){if(Xc)return Ti;Xc=1;const e=kr(),t=ut();return Ti=(r,n,i)=>{const o=[];let s=null,l=null;const u=r.sort((p,w)=>t(p,w,i));for(const p of u)e(p,n,i)?(l=p,s||(s=p)):(l&&o.push([s,l]),l=null,s=null);s&&o.push([s,null]);const c=[];for(const[p,w]of o)p===w?c.push(p):!w&&p===u[0]?c.push("*"):w?p===u[0]?c.push(`<=${w}`):c.push(`${p} - ${w}`):c.push(`>=${p}`);const a=c.join(" || "),h=typeof n.raw=="string"?n.raw:String(n);return a.length<h.length?a:n},Ti}var xi,Kc;function _y(){if(Kc)return xi;Kc=1;const e=wt(),t=Cn(),{ANY:r}=t,n=kr(),i=ut(),o=(h,p,w={})=>{if(h===p)return!0;h=new e(h,w),p=new e(p,w);let E=!1;e:for(const d of h.set){for(const f of p.set){const m=u(d,f,w);if(E=E||m!==null,m)continue e}if(E)return!1}return!0},s=[new t(">=0.0.0-0")],l=[new t(">=0.0.0")],u=(h,p,w)=>{if(h===p)return!0;if(h.length===1&&h[0].semver===r){if(p.length===1&&p[0].semver===r)return!0;w.includePrerelease?h=s:h=l}if(p.length===1&&p[0].semver===r){if(w.includePrerelease)return!0;p=l}const E=new Set;let d,f;for(const $ of h)$.operator===">"||$.operator===">="?d=c(d,$,w):$.operator==="<"||$.operator==="<="?f=a(f,$,w):E.add($.semver);if(E.size>1)return null;let m;if(d&&f){if(m=i(d.semver,f.semver,w),m>0)return null;if(m===0&&(d.operator!==">="||f.operator!=="<="))return null}for(const $ of E){if(d&&!n($,String(d),w)||f&&!n($,String(f),w))return null;for(const I of p)if(!n($,String(I),w))return!1;return!0}let y,v,S,_,b=f&&!w.includePrerelease&&f.semver.prerelease.length?f.semver:!1,g=d&&!w.includePrerelease&&d.semver.prerelease.length?d.semver:!1;b&&b.prerelease.length===1&&f.operator==="<"&&b.prerelease[0]===0&&(b=!1);for(const $ of p){if(_=_||$.operator===">"||$.operator===">=",S=S||$.operator==="<"||$.operator==="<=",d){if(g&&$.semver.prerelease&&$.semver.prerelease.length&&$.semver.major===g.major&&$.semver.minor===g.minor&&$.semver.patch===g.patch&&(g=!1),$.operator===">"||$.operator===">="){if(y=c(d,$,w),y===$&&y!==d)return!1}else if(d.operator===">="&&!n(d.semver,String($),w))return!1}if(f){if(b&&$.semver.prerelease&&$.semver.prerelease.length&&$.semver.major===b.major&&$.semver.minor===b.minor&&$.semver.patch===b.patch&&(b=!1),$.operator==="<"||$.operator==="<="){if(v=a(f,$,w),v===$&&v!==f)return!1}else if(f.operator==="<="&&!n(f.semver,String($),w))return!1}if(!$.operator&&(f||d)&&m!==0)return!1}return!(d&&S&&!f&&m!==0||f&&_&&!d&&m!==0||g||b)},c=(h,p,w)=>{if(!h)return p;const E=i(h.semver,p.semver,w);return E>0?h:E<0||p.operator===">"&&h.operator===">="?p:h},a=(h,p,w)=>{if(!h)return p;const E=i(h.semver,p.semver,w);return E<0?h:E>0||p.operator==="<"&&h.operator==="<="?p:h};return xi=o,xi}var Ai,Yc;function Ey(){if(Yc)return Ai;Yc=1;const e=Dr(),t=Pn(),r=ze(),n=_p(),i=pr(),o=Ep(),s=ey(),l=ty(),u=ry(),c=Sp(),a=ny(),h=iy(),p=sy(),w=ut(),E=oy(),d=ay(),f=Ia(),m=cy(),y=uy(),v=xn(),S=Pa(),_=bp(),b=Rp(),g=Ta(),$=An(),I=$p(),A=Op(),M=Cn(),K=wt(),J=kr(),x=fy(),T=dy(),F=py(),U=hy(),k=my(),G=xa(),C=yy(),H=vy(),z=wy(),re=gy(),ce=_y();return Ai={parse:i,valid:o,clean:s,inc:l,diff:u,major:c,minor:a,patch:h,prerelease:p,compare:w,rcompare:E,compareLoose:d,compareBuild:f,sort:m,rsort:y,gt:v,lt:S,eq:_,neq:b,gte:g,lte:$,cmp:I,coerce:A,Comparator:M,Range:K,satisfies:J,toComparators:x,maxSatisfying:T,minSatisfying:F,minVersion:U,validRange:k,outside:G,gtr:C,ltr:H,intersects:z,simplifyRange:re,subset:ce,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},Ai}var Ci,Jc;function Sy(){if(Jc)return Ci;Jc=1;var e=ip,t=Ey(),r=nt,n=ue,i=qe,o=$a;function s(I,A,M,K){function J(x){return x instanceof M?x:new M(function(T){T(x)})}return new(M||(M=Promise))(function(x,T){function F(G){try{k(K.next(G))}catch(C){T(C)}}function U(G){try{k(K.throw(G))}catch(C){T(C)}}function k(G){G.done?x(G.value):J(G.value).then(F,U)}k((K=K.apply(I,[])).next())})}function l(I,A){var M={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},K,J,x,T;return T={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function F(k){return function(G){return U([k,G])}}function U(k){if(K)throw new TypeError("Generator is already executing.");for(;T&&(T=0,k[0]&&(M=0)),M;)try{if(K=1,J&&(x=k[0]&2?J.return:k[0]?J.throw||((x=J.return)&&x.call(J),0):J.next)&&!(x=x.call(J,k[1])).done)return x;switch(J=0,x&&(k=[k[0]&2,x.value]),k[0]){case 0:case 1:x=k;break;case 4:return M.label++,{value:k[1],done:!1};case 5:M.label++,J=k[1],k=[0];continue;case 7:k=M.ops.pop(),M.trys.pop();continue;default:if(x=M.trys,!(x=x.length>0&&x[x.length-1])&&(k[0]===6||k[0]===2)){M=0;continue}if(k[0]===3&&(!x||k[1]>x[0]&&k[1]<x[3])){M.label=k[1];break}if(k[0]===6&&M.label<x[1]){M.label=x[1],x=k;break}if(x&&M.label<x[2]){M.label=x[2],M.ops.push(k);break}x[2]&&M.ops.pop(),M.trys.pop();continue}k=A.call(I,M)}catch(G){k=[6,G],J=0}finally{K=x=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}var u=e.env.npm_package_json,c=e.env.npm_config_user_agent,a=!!(c&&c.startsWith("npm")),h=!!(u&&u.endsWith("package.json")),p=a||h,w=!!(c&&c.startsWith("yarn")),E=p||w,d=r.homedir(),f=process.env.XDG_CONFIG_HOME||n.join(d,".config","simple-update-notifier"),m=function(I){return n.join(f,"".concat(I.replace("@","").replace("/","__"),".json"))},y=function(){i.existsSync(f)||i.mkdirSync(f,{recursive:!0})},v=function(I){var A=m(I);try{if(!i.existsSync(A))return;var M=JSON.parse(i.readFileSync(A,"utf8"));return M.lastUpdateCheck}catch{return}},S=function(I){var A=m(I);i.writeFileSync(A,JSON.stringify({lastUpdateCheck:new Date().getTime()}))},_=function(I,A){return s(void 0,void 0,void 0,function(){var M;return l(this,function(K){return M="https://registry.npmjs.org/-/package/".concat(I,"/dist-tags"),[2,new Promise(function(J,x){o.get(M,function(T){var F="";T.on("data",function(U){return F+=U}),T.on("end",function(){try{var U=JSON.parse(F),k=U[A];k||x(new Error("Error getting version")),J(k)}catch{x(new Error("Could not parse version response"))}})}).on("error",function(T){return x(T)})})]})})},b=function(I){var A=I.pkg,M=I.updateCheckInterval,K=M===void 0?1e3*60*60*24:M,J=I.distTag,x=J===void 0?"latest":J,T=I.alwaysRun,F=I.debug;return s(void 0,void 0,void 0,function(){var U,k;return l(this,function(G){switch(G.label){case 0:return y(),U=v(A.name),T||!U||U<new Date().getTime()-K?[4,_(A.name,x)]:[3,2];case 1:return k=G.sent(),S(A.name),t.gt(k,A.version)?[2,k]:(F&&console.error("Latest version (".concat(k,") not newer than current version (").concat(A.version,")")),[3,3]);case 2:F&&console.error("Too recent to check for a new update. simpleUpdateNotifier() interval set to ".concat(K,"ms but only ").concat(new Date().getTime()-U,"ms since last check.")),G.label=3;case 3:return[2,!1]}})})},g=function(I){for(var A=I.split(`
`),M=Math.max.apply(Math,A.map(function(F){return F.length})),K=["┌".concat("─".repeat(M+2),"┐")],J=0,x=A;J<x.length;J++){var T=x[J];K.push("│ ".concat(T.padEnd(M)," │"))}return K.push("└".concat("─".repeat(M+2),"┘")),K.join(`
`)},$=function(I){return s(void 0,void 0,void 0,function(){var A,M;return l(this,function(K){switch(K.label){case 0:if(!I.alwaysRun&&(!process.stdout.isTTY||E&&!I.shouldNotifyInNpmScript))return I.debug&&console.error("Opting out of running simpleUpdateNotifier()"),[2];K.label=1;case 1:return K.trys.push([1,3,,4]),[4,b(I)];case 2:return A=K.sent(),A&&console.error(g("New version of ".concat(I.pkg.name,` available!
Current Version: `).concat(I.pkg.version,`
Latest Version: `).concat(A))),[3,4];case 3:return M=K.sent(),I.debug&&M instanceof Error&&console.error("Unexpected error in simpleUpdateNotifier():",M),[3,4];case 4:return[2]}})})};return Ci=$,Ci}var by=Sy();const Ry=Oe(by),$y="setup-cpp",Oy="1.5.3",Aa={name:$y,version:Oy};var Ni={};const Iy=[{name:"Agola CI",constant:"AGOLA",env:"AGOLA_GIT_REF",pr:"AGOLA_PULL_REQUEST_ID"},{name:"Appcircle",constant:"APPCIRCLE",env:"AC_APPCIRCLE",pr:{env:"AC_GIT_PR",ne:"false"}},{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN",pr:{env:"CODEBUILD_WEBHOOK_EVENT",any:["PULL_REQUEST_CREATED","PULL_REQUEST_UPDATED","PULL_REQUEST_REOPENED"]}},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"TF_BUILD",pr:{BUILD_REASON:"PullRequest"}},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"Cloudflare Pages",constant:"CLOUDFLARE_PAGES",env:"CF_PAGES"},{name:"Codefresh",constant:"CODEFRESH",env:"CF_BUILD_ID",pr:{any:["CF_PULL_REQUEST_NUMBER","CF_PULL_REQUEST_ID"]}},{name:"Codemagic",constant:"CODEMAGIC",env:"CM_BUILD_ID",pr:"CM_PULL_REQUEST"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"Earthly",constant:"EARTHLY",env:"EARTHLY_CI"},{name:"Expo Application Services",constant:"EAS",env:"EAS_BUILD"},{name:"Gerrit",constant:"GERRIT",env:"GERRIT_PROJECT"},{name:"Gitea Actions",constant:"GITEA_ACTIONS",env:"GITEA_ACTIONS"},{name:"GitHub Actions",constant:"GITHUB_ACTIONS",env:"GITHUB_ACTIONS",pr:{GITHUB_EVENT_NAME:"pull_request"}},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI",pr:"CI_MERGE_REQUEST_ID"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Google Cloud Build",constant:"GOOGLE_CLOUD_BUILD",env:"BUILDER_OUTPUT"},{name:"Harness CI",constant:"HARNESS",env:"HARNESS_BUILD_ID"},{name:"Heroku",constant:"HEROKU",env:{env:"NODE",includes:"/app/.heroku/node/bin/node"}},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"LayerCI",constant:"LAYERCI",env:"LAYERCI",pr:"LAYERCI_PULL_REQUEST"},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Nevercode",constant:"NEVERCODE",env:"NEVERCODE",pr:{env:"NEVERCODE_PULL_REQUEST",ne:"false"}},{name:"Prow",constant:"PROW",env:"PROW_JOB_ID"},{name:"ReleaseHub",constant:"RELEASEHUB",env:"RELEASE_BUILD_ID"},{name:"Render",constant:"RENDER",env:"RENDER",pr:{IS_PULL_REQUEST:"true"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Screwdriver",constant:"SCREWDRIVER",env:"SCREWDRIVER",pr:{env:"SD_PULL_REQUEST",ne:"false"}},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Sourcehut",constant:"SOURCEHUT",env:{CI_NAME:"sourcehut"}},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}},{name:"Vela",constant:"VELA",env:"VELA",pr:{VELA_PULL_REQUEST:"1"}},{name:"Vercel",constant:"VERCEL",env:{any:["NOW_BUILDER","VERCEL"]},pr:"VERCEL_GIT_PULL_REQUEST_ID"},{name:"Visual Studio App Center",constant:"APPCENTER",env:"APPCENTER_BUILD_ID"},{name:"Woodpecker",constant:"WOODPECKER",env:{CI:"woodpecker"},pr:{CI_BUILD_EVENT:"pull_request"}},{name:"Xcode Cloud",constant:"XCODE_CLOUD",env:"CI_XCODE_PROJECT",pr:"CI_PULL_REQUEST_NUMBER"},{name:"Xcode Server",constant:"XCODE_SERVER",env:"XCS"}];var Qc;function Py(){return Qc||(Qc=1,function(e){const t=Iy,r=process.env;Object.defineProperty(e,"_vendors",{value:t.map(function(o){return o.constant})}),e.name=null,e.isPR=null,e.id=null,t.forEach(function(o){const l=(Array.isArray(o.env)?o.env:[o.env]).every(function(u){return n(u)});e[o.constant]=l,l&&(e.name=o.name,e.isPR=i(o),e.id=o.constant)}),e.isCI=!!(r.CI!=="false"&&(r.BUILD_ID||r.BUILD_NUMBER||r.CI||r.CI_APP_ID||r.CI_BUILD_ID||r.CI_BUILD_NUMBER||r.CI_NAME||r.CONTINUOUS_INTEGRATION||r.RUN_ID||e.name));function n(o){return typeof o=="string"?!!r[o]:"env"in o?r[o.env]&&r[o.env].includes(o.includes):"any"in o?o.any.some(function(s){return!!r[s]}):Object.keys(o).every(function(s){return r[s]===o[s]})}function i(o){switch(typeof o.pr){case"string":return!!r[o.pr];case"object":return"env"in o.pr?"any"in o.pr?o.pr.any.some(function(s){return r[o.pr.env]===s}):o.pr.env in r&&r[o.pr.env]!==o.pr.ne:"any"in o.pr?o.pr.any.some(function(s){return!!r[s]}):n(o.pr);default:return null}}}(Ni)),Ni}var fn=Py();const Tt=Oe(fn);var lt={},Je={},Mt={},Zc;function Ca(){if(Zc)return Mt;Zc=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.toCommandProperties=Mt.toCommandValue=void 0;function e(r){return r==null?"":typeof r=="string"||r instanceof String?r:JSON.stringify(r)}Mt.toCommandValue=e;function t(r){return Object.keys(r).length?{title:r.title,file:r.file,line:r.startLine,endLine:r.endLine,col:r.startColumn,endColumn:r.endColumn}:{}}return Mt.toCommandProperties=t,Mt}var eu;function Ty(){if(eu)return Je;eu=1;var e=Je&&Je.__createBinding||(Object.create?function(h,p,w,E){E===void 0&&(E=w);var d=Object.getOwnPropertyDescriptor(p,w);(!d||("get"in d?!p.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return p[w]}}),Object.defineProperty(h,E,d)}:function(h,p,w,E){E===void 0&&(E=w),h[E]=p[w]}),t=Je&&Je.__setModuleDefault||(Object.create?function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}:function(h,p){h.default=p}),r=Je&&Je.__importStar||function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var w in h)w!=="default"&&Object.prototype.hasOwnProperty.call(h,w)&&e(p,h,w);return t(p,h),p};Object.defineProperty(Je,"__esModule",{value:!0}),Je.issue=Je.issueCommand=void 0;const n=r(nt),i=Ca();function o(h,p,w){const E=new u(h,p,w);process.stdout.write(E.toString()+n.EOL)}Je.issueCommand=o;function s(h,p=""){o(h,{},p)}Je.issue=s;const l="::";class u{constructor(p,w,E){p||(p="missing.command"),this.command=p,this.properties=w,this.message=E}toString(){let p=l+this.command;if(this.properties&&Object.keys(this.properties).length>0){p+=" ";let w=!0;for(const E in this.properties)if(this.properties.hasOwnProperty(E)){const d=this.properties[E];d&&(w?w=!1:p+=",",p+=`${E}=${a(d)}`)}}return p+=`${l}${c(this.message)}`,p}}function c(h){return(0,i.toCommandValue)(h).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function a(h){return(0,i.toCommandValue)(h).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}return Je}var Qe={},tu;function xy(){if(tu)return Qe;tu=1;var e=Qe&&Qe.__createBinding||(Object.create?function(c,a,h,p){p===void 0&&(p=h);var w=Object.getOwnPropertyDescriptor(a,h);(!w||("get"in w?!a.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return a[h]}}),Object.defineProperty(c,p,w)}:function(c,a,h,p){p===void 0&&(p=h),c[p]=a[h]}),t=Qe&&Qe.__setModuleDefault||(Object.create?function(c,a){Object.defineProperty(c,"default",{enumerable:!0,value:a})}:function(c,a){c.default=a}),r=Qe&&Qe.__importStar||function(c){if(c&&c.__esModule)return c;var a={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&e(a,c,h);return t(a,c),a};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.prepareKeyValueMessage=Qe.issueFileCommand=void 0;const n=r(fp),i=r(qe),o=r(nt),s=Ca();function l(c,a){const h=process.env[`GITHUB_${c}`];if(!h)throw new Error(`Unable to find environment variable for file command ${c}`);if(!i.existsSync(h))throw new Error(`Missing file at path: ${h}`);i.appendFileSync(h,`${(0,s.toCommandValue)(a)}${o.EOL}`,{encoding:"utf8"})}Qe.issueFileCommand=l;function u(c,a){const h=`ghadelimiter_${n.randomUUID()}`,p=(0,s.toCommandValue)(a);if(c.includes(h))throw new Error(`Unexpected input: name should not contain the delimiter "${h}"`);if(p.includes(h))throw new Error(`Unexpected input: value should not contain the delimiter "${h}"`);return`${c}<<${h}${o.EOL}${p}${o.EOL}${h}`}return Qe.prepareKeyValueMessage=u,Qe}var Gt={};function _a(e){const t=e.protocol==="https:";if(Ay(e))return;const r=t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;if(r)try{return new ru(r)}catch{if(!r.startsWith("http://")&&!r.startsWith("https://"))return new ru(`http://${r}`)}else return}function Ay(e){if(!e.hostname)return!1;const t=e.hostname;if(Cy(t))return!0;const r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);const i=[e.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(const o of r.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(o==="*"||i.some(s=>s===o||s.endsWith(`.${o}`)||o.startsWith(".")&&s.endsWith(`${o}`)))return!0;return!1}function Cy(e){const t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}class ru extends URL{_decodedUsername;_decodedPassword;constructor(t,r){super(t,r),this._decodedUsername=decodeURIComponent(super.username),this._decodedPassword=decodeURIComponent(super.password)}get username(){return this._decodedUsername}get password(){return this._decodedPassword}}var Vt={},nu;function Ny(){if(nu)return Vt;nu=1;var e=Lm,t=dp,r=$a,n=$n,i=On;Vt.httpOverHttp=o,Vt.httpsOverHttp=s,Vt.httpOverHttps=l,Vt.httpsOverHttps=u;function o(E){var d=new c(E);return d.request=t.request,d}function s(E){var d=new c(E);return d.request=t.request,d.createSocket=a,d.defaultPort=443,d}function l(E){var d=new c(E);return d.request=r.request,d}function u(E){var d=new c(E);return d.request=r.request,d.createSocket=a,d.defaultPort=443,d}function c(E){var d=this;d.options=E||{},d.proxyOptions=d.options.proxy||{},d.maxSockets=d.options.maxSockets||t.Agent.defaultMaxSockets,d.requests=[],d.sockets=[],d.on("free",function(m,y,v,S){for(var _=h(y,v,S),b=0,g=d.requests.length;b<g;++b){var $=d.requests[b];if($.host===_.host&&$.port===_.port){d.requests.splice(b,1),$.request.onSocket(m);return}}m.destroy(),d.removeSocket(m)})}i.inherits(c,n.EventEmitter),c.prototype.addRequest=function(d,f,m,y){var v=this,S=p({request:d},v.options,h(f,m,y));if(v.sockets.length>=this.maxSockets){v.requests.push(S);return}v.createSocket(S,function(_){_.on("free",b),_.on("close",g),_.on("agentRemove",g),d.onSocket(_);function b(){v.emit("free",_,S)}function g($){v.removeSocket(_),_.removeListener("free",b),_.removeListener("close",g),_.removeListener("agentRemove",g)}})},c.prototype.createSocket=function(d,f){var m=this,y={};m.sockets.push(y);var v=p({},m.proxyOptions,{method:"CONNECT",path:d.host+":"+d.port,agent:!1,headers:{host:d.host+":"+d.port}});d.localAddress&&(v.localAddress=d.localAddress),v.proxyAuth&&(v.headers=v.headers||{},v.headers["Proxy-Authorization"]="Basic "+new Buffer(v.proxyAuth).toString("base64")),w("making CONNECT request");var S=m.request(v);S.useChunkedEncodingByDefault=!1,S.once("response",_),S.once("upgrade",b),S.once("connect",g),S.once("error",$),S.end();function _(I){I.upgrade=!0}function b(I,A,M){process.nextTick(function(){g(I,A,M)})}function g(I,A,M){if(S.removeAllListeners(),A.removeAllListeners(),I.statusCode!==200){w("tunneling socket could not be established, statusCode=%d",I.statusCode),A.destroy();var K=new Error("tunneling socket could not be established, statusCode="+I.statusCode);K.code="ECONNRESET",d.request.emit("error",K),m.removeSocket(y);return}if(M.length>0){w("got illegal response body from proxy"),A.destroy();var K=new Error("got illegal response body from proxy");K.code="ECONNRESET",d.request.emit("error",K),m.removeSocket(y);return}return w("tunneling connection has established"),m.sockets[m.sockets.indexOf(y)]=A,f(A)}function $(I){S.removeAllListeners(),w(`tunneling socket could not be established, cause=%s
`,I.message,I.stack);var A=new Error("tunneling socket could not be established, cause="+I.message);A.code="ECONNRESET",d.request.emit("error",A),m.removeSocket(y)}},c.prototype.removeSocket=function(d){var f=this.sockets.indexOf(d);if(f!==-1){this.sockets.splice(f,1);var m=this.requests.shift();m&&this.createSocket(m,function(y){m.request.onSocket(y)})}};function a(E,d){var f=this;c.prototype.createSocket.call(f,E,function(m){var y=E.request.getHeader("host"),v=p({},f.options,{socket:m,servername:y?y.replace(/:.*$/,""):E.host}),S=e.connect(0,v);f.sockets[f.sockets.indexOf(m)]=S,d(S)})}function h(E,d,f){return typeof E=="string"?{host:E,port:d,localAddress:f}:E}function p(E){for(var d=1,f=arguments.length;d<f;++d){var m=arguments[d];if(typeof m=="object")for(var y=Object.keys(m),v=0,S=y.length;v<S;++v){var _=y[v];m[_]!==void 0&&(E[_]=m[_])}}return E}var w;return process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?w=function(){var E=Array.prototype.slice.call(arguments);typeof E[0]=="string"?E[0]="TUNNEL: "+E[0]:E.unshift("TUNNEL:"),console.error.apply(console,E)}:w=function(){},Vt.debug=w,Vt}var Li,iu;function Ly(){return iu||(iu=1,Li=Ny()),Li}var Gr=Ly(),tt;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(tt||(tt={}));var Fe;(function(e){e.Accept="accept",e.ContentType="content-type"})(Fe||(Fe={}));var Rt;(function(e){e.ApplicationJson="application/json"})(Rt||(Rt={}));function Dy(e){const t=_a(new URL(e));return t?t.href:""}const ky=[tt.MovedPermanently,tt.ResourceMoved,tt.SeeOther,tt.TemporaryRedirect,tt.PermanentRedirect],Fy=[tt.BadGateway,tt.ServiceUnavailable,tt.GatewayTimeout],qy=["OPTIONS","GET","DELETE","HEAD"],Uy=10,jy=5;class Nn extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Nn.prototype)}statusCode;result}class Ip{constructor(t){this.message=t}message;async readBody(){return new Promise(async t=>{let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})})}async readBodyBuffer(){return new Promise(async t=>{const r=[];this.message.on("data",n=>{r.push(n)}),this.message.on("end",()=>{t(Buffer.concat(r))})})}}function My(e){return new URL(e).protocol==="https:"}class Gy{userAgent;handlers;requestOptions;_ignoreSslError=!1;_socketTimeout;_allowRedirects=!0;_allowRedirectDowngrade=!1;_maxRedirects=50;_allowRetries=!1;_maxRetries=1;_agent;_proxyAgent;_proxyAgentDispatcher;_keepAlive=!1;_disposed=!1;constructor(t,r,n){this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}async options(t,r){return this.request("OPTIONS",t,null,r||{})}async get(t,r){return this.request("GET",t,null,r||{})}async del(t,r){return this.request("DELETE",t,null,r||{})}async post(t,r,n){return this.request("POST",t,r,n||{})}async patch(t,r,n){return this.request("PATCH",t,r,n||{})}async put(t,r,n){return this.request("PUT",t,r,n||{})}async head(t,r){return this.request("HEAD",t,null,r||{})}async sendStream(t,r,n,i){return this.request(t,r,n,i)}async getJson(t,r={}){r[Fe.Accept]=this._getExistingOrDefaultHeader(r,Fe.Accept,Rt.ApplicationJson);const n=await this.get(t,r);return this._processResponse(n,this.requestOptions)}async postJson(t,r,n={}){const i=JSON.stringify(r,null,2);n[Fe.Accept]=this._getExistingOrDefaultHeader(n,Fe.Accept,Rt.ApplicationJson),n[Fe.ContentType]=this._getExistingOrDefaultHeader(n,Fe.ContentType,Rt.ApplicationJson);const o=await this.post(t,i,n);return this._processResponse(o,this.requestOptions)}async putJson(t,r,n={}){const i=JSON.stringify(r,null,2);n[Fe.Accept]=this._getExistingOrDefaultHeader(n,Fe.Accept,Rt.ApplicationJson),n[Fe.ContentType]=this._getExistingOrDefaultHeader(n,Fe.ContentType,Rt.ApplicationJson);const o=await this.put(t,i,n);return this._processResponse(o,this.requestOptions)}async patchJson(t,r,n={}){const i=JSON.stringify(r,null,2);n[Fe.Accept]=this._getExistingOrDefaultHeader(n,Fe.Accept,Rt.ApplicationJson),n[Fe.ContentType]=this._getExistingOrDefaultHeader(n,Fe.ContentType,Rt.ApplicationJson);const o=await this.patch(t,i,n);return this._processResponse(o,this.requestOptions)}async request(t,r,n,i){if(this._disposed)throw new Error("Client has already been disposed.");const o=new URL(r);let s=this._prepareRequest(t,o,i);const l=this._allowRetries&&qy.includes(t)?this._maxRetries+1:1;let u=0,c;do{if(c=await this.requestRaw(s,n),c&&c.message&&c.message.statusCode===tt.Unauthorized){let h;for(const p of this.handlers)if(p.canHandleAuthentication(c)){h=p;break}return h?h.handleAuthentication(this,s,n):c}let a=this._maxRedirects;for(;c.message.statusCode&&ky.includes(c.message.statusCode)&&this._allowRedirects&&a>0;){const h=c.message.headers.location;if(!h)break;const p=new URL(h);if(o.protocol==="https:"&&o.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await c.readBody(),p.hostname!==o.hostname)for(const w in i)w.toLowerCase()==="authorization"&&delete i[w];s=this._prepareRequest(t,p,i),c=await this.requestRaw(s,n),a--}if(!c.message.statusCode||!Fy.includes(c.message.statusCode))return c;u+=1,u<l&&(await c.readBody(),await this._performExponentialBackoff(u))}while(u<l);return c}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}async requestRaw(t,r){return new Promise((n,i)=>{function o(s,l){s?i(s):l?n(l):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,o)})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function o(u,c){i||(i=!0,n(u,c))}const s=t.httpModule.request(t.options,u=>{const c=new Ip(u);o(void 0,c)});let l;s.on("socket",u=>{l=u}),s.setTimeout(this._socketTimeout||3*6e4,()=>{l&&l.end(),o(new Error(`Request timeout: ${t.options.path}`))}),s.on("error",function(u){o(u)}),r&&typeof r=="string"&&s.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){s.end()}),r.pipe(s)):s.end()}getAgent(t){const r=new URL(t);return this._getAgent(r)}async getAgentDispatcher(t){const r=new URL(t),n=_a(r);if(n&&n.hostname)return await this._getProxyAgentDispatcher(r,n)}_prepareRequest(t,r,n){const i={};i.parsedUrl=r;const o=i.parsedUrl.protocol==="https:";i.httpModule=o?sc:jn;const s=o?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):s,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(const l of this.handlers)l.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Vr(this.requestOptions.headers),Vr(t||{})):Vr(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Vr(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r;const n=_a(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),i||(r=this._agent),r)return r;const o=t.protocol==="https:";let s=100;if(this.requestOptions&&(s=this.requestOptions.maxSockets||jn.globalAgent.maxSockets),n&&n.hostname){const l={maxSockets:s,keepAlive:this._keepAlive,proxy:{...(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`},host:n.hostname,port:n.port}};let u;const c=n.protocol==="https:";o?u=c?Gr.httpsOverHttps:Gr.httpsOverHttp:u=c?Gr.httpOverHttps:Gr.httpOverHttp,r=u(l),this._proxyAgent=r}if(!r){const l={keepAlive:this._keepAlive,maxSockets:s};r=o?new sc.Agent(l):new jn.Agent(l),this._agent=r}return o&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}async _getProxyAgentDispatcher(t,r){let n;if(this._keepAlive&&(n=this._proxyAgentDispatcher),n)return n;const i=t.protocol==="https:",o=await import("./assets/proxy-agent-DbKVJOmt.mjs").then(s=>s.p);return n=new o({uri:r.href,pipelining:this._keepAlive?1:0,...(r.username||r.password)&&{token:`Basic ${Buffer.from(`${r.username}:${r.password}`).toString("base64")}`}}),this._proxyAgentDispatcher=n,i&&this._ignoreSslError&&(n.options=Object.assign(n.options.requestTls||{},{rejectUnauthorized:!1})),n}async _performExponentialBackoff(t){t=Math.min(Uy,t);const r=jy*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))}async _processResponse(t,r){return new Promise(async(n,i)=>{const o=t.message.statusCode||0,s={statusCode:o,result:null,headers:{}};o===tt.NotFound&&n(s);function l(a,h){if(typeof h=="string"){const p=new Date(h);if(!isNaN(p.valueOf()))return p}return h}let u,c;try{c=await t.readBody(),c&&c.length>0&&(r&&r.deserializeDates?u=JSON.parse(c,l):u=JSON.parse(c),s.result=u),s.headers=t.message.headers}catch{}if(o>299){let a;u&&u.message?a=u.message:c&&c.length>0?a=c:a=`Failed request: (${o})`;const h=new Nn(a,o);h.result=s.result,i(h)}else n(s)})}}const Vr=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}),Vy=Object.freeze(Object.defineProperty({__proto__:null,get Headers(){return Fe},HttpClient:Gy,HttpClientError:Nn,HttpClientResponse:Ip,get HttpCodes(){return tt},get MediaTypes(){return Rt},getProxyUrl:Dy,isHttps:My},Symbol.toStringTag,{value:"Module"})),Pp=Zm(Vy);var ft={},su;function By(){if(su)return ft;su=1;var e=ft&&ft.__awaiter||function(i,o,s,l){function u(c){return c instanceof s?c:new s(function(a){a(c)})}return new(s||(s=Promise))(function(c,a){function h(E){try{w(l.next(E))}catch(d){a(d)}}function p(E){try{w(l.throw(E))}catch(d){a(d)}}function w(E){E.done?c(E.value):u(E.value).then(h,p)}w((l=l.apply(i,o||[])).next())})};Object.defineProperty(ft,"__esModule",{value:!0}),ft.PersonalAccessTokenCredentialHandler=ft.BearerCredentialHandler=ft.BasicCredentialHandler=void 0;class t{constructor(o,s){this.username=o,this.password=s}prepareRequest(o){if(!o.headers)throw Error("The request has no headers");o.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,function*(){throw new Error("not implemented")})}}ft.BasicCredentialHandler=t;class r{constructor(o){this.token=o}prepareRequest(o){if(!o.headers)throw Error("The request has no headers");o.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,function*(){throw new Error("not implemented")})}}ft.BearerCredentialHandler=r;class n{constructor(o){this.token=o}prepareRequest(o){if(!o.headers)throw Error("The request has no headers");o.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return e(this,void 0,void 0,function*(){throw new Error("not implemented")})}}return ft.PersonalAccessTokenCredentialHandler=n,ft}var ou;function Hy(){if(ou)return Gt;ou=1;var e=Gt&&Gt.__awaiter||function(o,s,l,u){function c(a){return a instanceof l?a:new l(function(h){h(a)})}return new(l||(l=Promise))(function(a,h){function p(d){try{E(u.next(d))}catch(f){h(f)}}function w(d){try{E(u.throw(d))}catch(f){h(f)}}function E(d){d.done?a(d.value):c(d.value).then(p,w)}E((u=u.apply(o,s||[])).next())})};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.OidcClient=void 0;const t=Pp,r=By(),n=hr();class i{static createHttpClient(s=!0,l=10){const u={allowRetries:s,maxRetries:l};return new t.HttpClient("actions/oidc-client",[new r.BearerCredentialHandler(i.getRequestToken())],u)}static getRequestToken(){const s=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!s)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return s}static getIDTokenUrl(){const s=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!s)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return s}static getCall(s){var l;return e(this,void 0,void 0,function*(){const a=(l=(yield i.createHttpClient().getJson(s).catch(h=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${h.statusCode}
 
        Error Message: ${h.message}`)})).result)===null||l===void 0?void 0:l.value;if(!a)throw new Error("Response json body do not have ID Token field");return a})}static getIDToken(s){return e(this,void 0,void 0,function*(){try{let l=i.getIDTokenUrl();if(s){const c=encodeURIComponent(s);l=`${l}&audience=${c}`}(0,n.debug)(`ID token url is ${l}`);const u=yield i.getCall(l);return(0,n.setSecret)(u),u}catch(l){throw new Error(`Error message: ${l.message}`)}})}}return Gt.OidcClient=i,Gt}var Sr={},au;function cu(){return au||(au=1,function(e){var t=Sr&&Sr.__awaiter||function(c,a,h,p){function w(E){return E instanceof h?E:new h(function(d){d(E)})}return new(h||(h=Promise))(function(E,d){function f(v){try{y(p.next(v))}catch(S){d(S)}}function m(v){try{y(p.throw(v))}catch(S){d(S)}}function y(v){v.done?E(v.value):w(v.value).then(f,m)}y((p=p.apply(c,a||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.summary=e.markdownSummary=e.SUMMARY_DOCS_URL=e.SUMMARY_ENV_VAR=void 0;const r=nt,n=qe,{access:i,appendFile:o,writeFile:s}=n.promises;e.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",e.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class l{constructor(){this._buffer=""}filePath(){return t(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;const a=process.env[e.SUMMARY_ENV_VAR];if(!a)throw new Error(`Unable to find environment variable for $${e.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield i(a,n.constants.R_OK|n.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${a}'. Check if the file has correct read/write permissions.`)}return this._filePath=a,this._filePath})}wrap(a,h,p={}){const w=Object.entries(p).map(([E,d])=>` ${E}="${d}"`).join("");return h?`<${a}${w}>${h}</${a}>`:`<${a}${w}>`}write(a){return t(this,void 0,void 0,function*(){const h=!!a?.overwrite,p=yield this.filePath();return yield(h?s:o)(p,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return t(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(a,h=!1){return this._buffer+=a,h?this.addEOL():this}addEOL(){return this.addRaw(r.EOL)}addCodeBlock(a,h){const p=Object.assign({},h&&{lang:h}),w=this.wrap("pre",this.wrap("code",a),p);return this.addRaw(w).addEOL()}addList(a,h=!1){const p=h?"ol":"ul",w=a.map(d=>this.wrap("li",d)).join(""),E=this.wrap(p,w);return this.addRaw(E).addEOL()}addTable(a){const h=a.map(w=>{const E=w.map(d=>{if(typeof d=="string")return this.wrap("td",d);const{header:f,data:m,colspan:y,rowspan:v}=d,S=f?"th":"td",_=Object.assign(Object.assign({},y&&{colspan:y}),v&&{rowspan:v});return this.wrap(S,m,_)}).join("");return this.wrap("tr",E)}).join(""),p=this.wrap("table",h);return this.addRaw(p).addEOL()}addDetails(a,h){const p=this.wrap("details",this.wrap("summary",a)+h);return this.addRaw(p).addEOL()}addImage(a,h,p){const{width:w,height:E}=p||{},d=Object.assign(Object.assign({},w&&{width:w}),E&&{height:E}),f=this.wrap("img",null,Object.assign({src:a,alt:h},d));return this.addRaw(f).addEOL()}addHeading(a,h){const p=`h${h}`,w=["h1","h2","h3","h4","h5","h6"].includes(p)?p:"h1",E=this.wrap(w,a);return this.addRaw(E).addEOL()}addSeparator(){const a=this.wrap("hr",null);return this.addRaw(a).addEOL()}addBreak(){const a=this.wrap("br",null);return this.addRaw(a).addEOL()}addQuote(a,h){const p=Object.assign({},h&&{cite:h}),w=this.wrap("blockquote",a,p);return this.addRaw(w).addEOL()}addLink(a,h){const p=this.wrap("a",a,{href:h});return this.addRaw(p).addEOL()}}const u=new l;e.markdownSummary=u,e.summary=u}(Sr)),Sr}var Me={},uu;function zy(){if(uu)return Me;uu=1;var e=Me&&Me.__createBinding||(Object.create?function(l,u,c,a){a===void 0&&(a=c);var h=Object.getOwnPropertyDescriptor(u,c);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(l,a,h)}:function(l,u,c,a){a===void 0&&(a=c),l[a]=u[c]}),t=Me&&Me.__setModuleDefault||(Object.create?function(l,u){Object.defineProperty(l,"default",{enumerable:!0,value:u})}:function(l,u){l.default=u}),r=Me&&Me.__importStar||function(l){if(l&&l.__esModule)return l;var u={};if(l!=null)for(var c in l)c!=="default"&&Object.prototype.hasOwnProperty.call(l,c)&&e(u,l,c);return t(u,l),u};Object.defineProperty(Me,"__esModule",{value:!0}),Me.toPlatformPath=Me.toWin32Path=Me.toPosixPath=void 0;const n=r(ue);function i(l){return l.replace(/[\\]/g,"/")}Me.toPosixPath=i;function o(l){return l.replace(/[/]/g,"\\")}Me.toWin32Path=o;function s(l){return l.replace(/[/\\]/g,n.sep)}return Me.toPlatformPath=s,Me}var Ze={},Ge={},Ve={},Se={},dt={},lu;function Tp(){return lu||(lu=1,function(e){var t=dt&&dt.__createBinding||(Object.create?function(d,f,m,y){y===void 0&&(y=m),Object.defineProperty(d,y,{enumerable:!0,get:function(){return f[m]}})}:function(d,f,m,y){y===void 0&&(y=m),d[y]=f[m]}),r=dt&&dt.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),n=dt&&dt.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var m in d)m!=="default"&&Object.hasOwnProperty.call(d,m)&&t(f,d,m);return r(f,d),f},i=dt&&dt.__awaiter||function(d,f,m,y){function v(S){return S instanceof m?S:new m(function(_){_(S)})}return new(m||(m=Promise))(function(S,_){function b(I){try{$(y.next(I))}catch(A){_(A)}}function g(I){try{$(y.throw(I))}catch(A){_(A)}}function $(I){I.done?S(I.value):v(I.value).then(b,g)}$((y=y.apply(d,f||[])).next())})},o;Object.defineProperty(e,"__esModule",{value:!0}),e.getCmdPath=e.tryGetExecutablePath=e.isRooted=e.isDirectory=e.exists=e.READONLY=e.UV_FS_O_EXLOCK=e.IS_WINDOWS=e.unlink=e.symlink=e.stat=e.rmdir=e.rm=e.rename=e.readlink=e.readdir=e.open=e.mkdir=e.lstat=e.copyFile=e.chmod=void 0;const s=n(qe),l=n(ue);o=s.promises,e.chmod=o.chmod,e.copyFile=o.copyFile,e.lstat=o.lstat,e.mkdir=o.mkdir,e.open=o.open,e.readdir=o.readdir,e.readlink=o.readlink,e.rename=o.rename,e.rm=o.rm,e.rmdir=o.rmdir,e.stat=o.stat,e.symlink=o.symlink,e.unlink=o.unlink,e.IS_WINDOWS=process.platform==="win32",e.UV_FS_O_EXLOCK=268435456,e.READONLY=s.constants.O_RDONLY;function u(d){return i(this,void 0,void 0,function*(){try{yield e.stat(d)}catch(f){if(f.code==="ENOENT")return!1;throw f}return!0})}e.exists=u;function c(d,f=!1){return i(this,void 0,void 0,function*(){return(f?yield e.stat(d):yield e.lstat(d)).isDirectory()})}e.isDirectory=c;function a(d){if(d=p(d),!d)throw new Error('isRooted() parameter "p" cannot be empty');return e.IS_WINDOWS?d.startsWith("\\")||/^[A-Z]:/i.test(d):d.startsWith("/")}e.isRooted=a;function h(d,f){return i(this,void 0,void 0,function*(){let m;try{m=yield e.stat(d)}catch(v){v.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${d}': ${v}`)}if(m&&m.isFile()){if(e.IS_WINDOWS){const v=l.extname(d).toUpperCase();if(f.some(S=>S.toUpperCase()===v))return d}else if(w(m))return d}const y=d;for(const v of f){d=y+v,m=void 0;try{m=yield e.stat(d)}catch(S){S.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${d}': ${S}`)}if(m&&m.isFile()){if(e.IS_WINDOWS){try{const S=l.dirname(d),_=l.basename(d).toUpperCase();for(const b of yield e.readdir(S))if(_===b.toUpperCase()){d=l.join(S,b);break}}catch(S){console.log(`Unexpected error attempting to determine the actual case of the file '${d}': ${S}`)}return d}else if(w(m))return d}}return""})}e.tryGetExecutablePath=h;function p(d){return d=d||"",e.IS_WINDOWS?(d=d.replace(/\//g,"\\"),d.replace(/\\\\+/g,"\\")):d.replace(/\/\/+/g,"/")}function w(d){return(d.mode&1)>0||(d.mode&8)>0&&d.gid===process.getgid()||(d.mode&64)>0&&d.uid===process.getuid()}function E(){var d;return(d=process.env.COMSPEC)!==null&&d!==void 0?d:"cmd.exe"}e.getCmdPath=E}(dt)),dt}var fu;function xp(){if(fu)return Se;fu=1;var e=Se&&Se.__createBinding||(Object.create?function(f,m,y,v){v===void 0&&(v=y),Object.defineProperty(f,v,{enumerable:!0,get:function(){return m[y]}})}:function(f,m,y,v){v===void 0&&(v=y),f[v]=m[y]}),t=Se&&Se.__setModuleDefault||(Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m}),r=Se&&Se.__importStar||function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var y in f)y!=="default"&&Object.hasOwnProperty.call(f,y)&&e(m,f,y);return t(m,f),m},n=Se&&Se.__awaiter||function(f,m,y,v){function S(_){return _ instanceof y?_:new y(function(b){b(_)})}return new(y||(y=Promise))(function(_,b){function g(A){try{I(v.next(A))}catch(M){b(M)}}function $(A){try{I(v.throw(A))}catch(M){b(M)}}function I(A){A.done?_(A.value):S(A.value).then(g,$)}I((v=v.apply(f,m||[])).next())})};Object.defineProperty(Se,"__esModule",{value:!0}),Se.findInPath=Se.which=Se.mkdirP=Se.rmRF=Se.mv=Se.cp=void 0;const i=Nr,o=r(ue),s=r(Tp());function l(f,m,y={}){return n(this,void 0,void 0,function*(){const{force:v,recursive:S,copySourceDirectory:_}=w(y),b=(yield s.exists(m))?yield s.stat(m):null;if(b&&b.isFile()&&!v)return;const g=b&&b.isDirectory()&&_?o.join(m,o.basename(f)):m;if(!(yield s.exists(f)))throw new Error(`no such file or directory: ${f}`);if((yield s.stat(f)).isDirectory())if(S)yield E(f,g,0,v);else throw new Error(`Failed to copy. ${f} is a directory, but tried to copy without recursive flag.`);else{if(o.relative(f,g)==="")throw new Error(`'${g}' and '${f}' are the same file`);yield d(f,g,v)}})}Se.cp=l;function u(f,m,y={}){return n(this,void 0,void 0,function*(){if(yield s.exists(m)){let v=!0;if((yield s.isDirectory(m))&&(m=o.join(m,o.basename(f)),v=yield s.exists(m)),v)if(y.force==null||y.force)yield c(m);else throw new Error("Destination already exists")}yield a(o.dirname(m)),yield s.rename(f,m)})}Se.mv=u;function c(f){return n(this,void 0,void 0,function*(){if(s.IS_WINDOWS&&/[*"<>|]/.test(f))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{yield s.rm(f,{force:!0,maxRetries:3,recursive:!0,retryDelay:300})}catch(m){throw new Error(`File was unable to be removed ${m}`)}})}Se.rmRF=c;function a(f){return n(this,void 0,void 0,function*(){i.ok(f,"a path argument must be provided"),yield s.mkdir(f,{recursive:!0})})}Se.mkdirP=a;function h(f,m){return n(this,void 0,void 0,function*(){if(!f)throw new Error("parameter 'tool' is required");if(m){const v=yield h(f,!1);if(!v)throw s.IS_WINDOWS?new Error(`Unable to locate executable file: ${f}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${f}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return v}const y=yield p(f);return y&&y.length>0?y[0]:""})}Se.which=h;function p(f){return n(this,void 0,void 0,function*(){if(!f)throw new Error("parameter 'tool' is required");const m=[];if(s.IS_WINDOWS&&process.env.PATHEXT)for(const S of process.env.PATHEXT.split(o.delimiter))S&&m.push(S);if(s.isRooted(f)){const S=yield s.tryGetExecutablePath(f,m);return S?[S]:[]}if(f.includes(o.sep))return[];const y=[];if(process.env.PATH)for(const S of process.env.PATH.split(o.delimiter))S&&y.push(S);const v=[];for(const S of y){const _=yield s.tryGetExecutablePath(o.join(S,f),m);_&&v.push(_)}return v})}Se.findInPath=p;function w(f){const m=f.force==null?!0:f.force,y=!!f.recursive,v=f.copySourceDirectory==null?!0:!!f.copySourceDirectory;return{force:m,recursive:y,copySourceDirectory:v}}function E(f,m,y,v){return n(this,void 0,void 0,function*(){if(y>=255)return;y++,yield a(m);const S=yield s.readdir(f);for(const _ of S){const b=`${f}/${_}`,g=`${m}/${_}`;(yield s.lstat(b)).isDirectory()?yield E(b,g,y,v):yield d(b,g,v)}yield s.chmod(m,(yield s.stat(f)).mode)})}function d(f,m,y){return n(this,void 0,void 0,function*(){if((yield s.lstat(f)).isSymbolicLink()){try{yield s.lstat(m),yield s.unlink(m)}catch(S){S.code==="EPERM"&&(yield s.chmod(m,"0666"),yield s.unlink(m))}const v=yield s.readlink(f);yield s.symlink(v,m,s.IS_WINDOWS?"junction":null)}else(!(yield s.exists(m))||y)&&(yield s.copyFile(f,m))})}return Se}var du;function Wy(){if(du)return Ve;du=1;var e=Ve&&Ve.__createBinding||(Object.create?function(d,f,m,y){y===void 0&&(y=m),Object.defineProperty(d,y,{enumerable:!0,get:function(){return f[m]}})}:function(d,f,m,y){y===void 0&&(y=m),d[y]=f[m]}),t=Ve&&Ve.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),r=Ve&&Ve.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var m in d)m!=="default"&&Object.hasOwnProperty.call(d,m)&&e(f,d,m);return t(f,d),f},n=Ve&&Ve.__awaiter||function(d,f,m,y){function v(S){return S instanceof m?S:new m(function(_){_(S)})}return new(m||(m=Promise))(function(S,_){function b(I){try{$(y.next(I))}catch(A){_(A)}}function g(I){try{$(y.throw(I))}catch(A){_(A)}}function $(I){I.done?S(I.value):v(I.value).then(b,g)}$((y=y.apply(d,f||[])).next())})};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.argStringToArray=Ve.ToolRunner=void 0;const i=r(nt),o=r($n),s=r(Cr),l=r(ue),u=r(xp()),c=r(Tp()),a=km,h=process.platform==="win32";class p extends o.EventEmitter{constructor(f,m,y){if(super(),!f)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=f,this.args=m||[],this.options=y||{}}_debug(f){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(f)}_getCommandString(f,m){const y=this._getSpawnFileName(),v=this._getSpawnArgs(f);let S=m?"":"[command]";if(h)if(this._isCmdFile()){S+=y;for(const _ of v)S+=` ${_}`}else if(f.windowsVerbatimArguments){S+=`"${y}"`;for(const _ of v)S+=` ${_}`}else{S+=this._windowsQuoteCmdArg(y);for(const _ of v)S+=` ${this._windowsQuoteCmdArg(_)}`}else{S+=y;for(const _ of v)S+=` ${_}`}return S}_processLineBuffer(f,m,y){try{let v=m+f.toString(),S=v.indexOf(i.EOL);for(;S>-1;){const _=v.substring(0,S);y(_),v=v.substring(S+i.EOL.length),S=v.indexOf(i.EOL)}return v}catch(v){return this._debug(`error processing line. Failed with error ${v}`),""}}_getSpawnFileName(){return h&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(f){if(h&&this._isCmdFile()){let m=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const y of this.args)m+=" ",m+=f.windowsVerbatimArguments?y:this._windowsQuoteCmdArg(y);return m+='"',[m]}return this.args}_endsWith(f,m){return f.endsWith(m)}_isCmdFile(){const f=this.toolPath.toUpperCase();return this._endsWith(f,".CMD")||this._endsWith(f,".BAT")}_windowsQuoteCmdArg(f){if(!this._isCmdFile())return this._uvQuoteCmdArg(f);if(!f)return'""';const m=[" ","	","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let y=!1;for(const _ of f)if(m.some(b=>b===_)){y=!0;break}if(!y)return f;let v='"',S=!0;for(let _=f.length;_>0;_--)v+=f[_-1],S&&f[_-1]==="\\"?v+="\\":f[_-1]==='"'?(S=!0,v+='"'):S=!1;return v+='"',v.split("").reverse().join("")}_uvQuoteCmdArg(f){if(!f)return'""';if(!f.includes(" ")&&!f.includes("	")&&!f.includes('"'))return f;if(!f.includes('"')&&!f.includes("\\"))return`"${f}"`;let m='"',y=!0;for(let v=f.length;v>0;v--)m+=f[v-1],y&&f[v-1]==="\\"?m+="\\":f[v-1]==='"'?(y=!0,m+="\\"):y=!1;return m+='"',m.split("").reverse().join("")}_cloneExecOptions(f){f=f||{};const m={cwd:f.cwd||process.cwd(),env:f.env||process.env,silent:f.silent||!1,windowsVerbatimArguments:f.windowsVerbatimArguments||!1,failOnStdErr:f.failOnStdErr||!1,ignoreReturnCode:f.ignoreReturnCode||!1,delay:f.delay||1e4};return m.outStream=f.outStream||process.stdout,m.errStream=f.errStream||process.stderr,m}_getSpawnOptions(f,m){f=f||{};const y={};return y.cwd=f.cwd,y.env=f.env,y.windowsVerbatimArguments=f.windowsVerbatimArguments||this._isCmdFile(),f.windowsVerbatimArguments&&(y.argv0=`"${m}"`),y}exec(){return n(this,void 0,void 0,function*(){return!c.isRooted(this.toolPath)&&(this.toolPath.includes("/")||h&&this.toolPath.includes("\\"))&&(this.toolPath=l.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield u.which(this.toolPath,!0),new Promise((f,m)=>n(this,void 0,void 0,function*(){this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(const $ of this.args)this._debug(`   ${$}`);const y=this._cloneExecOptions(this.options);!y.silent&&y.outStream&&y.outStream.write(this._getCommandString(y)+i.EOL);const v=new E(y,this.toolPath);if(v.on("debug",$=>{this._debug($)}),this.options.cwd&&!(yield c.exists(this.options.cwd)))return m(new Error(`The cwd: ${this.options.cwd} does not exist!`));const S=this._getSpawnFileName(),_=s.spawn(S,this._getSpawnArgs(y),this._getSpawnOptions(this.options,S));let b="";_.stdout&&_.stdout.on("data",$=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout($),!y.silent&&y.outStream&&y.outStream.write($),b=this._processLineBuffer($,b,I=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(I)})});let g="";if(_.stderr&&_.stderr.on("data",$=>{v.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr($),!y.silent&&y.errStream&&y.outStream&&(y.failOnStdErr?y.errStream:y.outStream).write($),g=this._processLineBuffer($,g,I=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(I)})}),_.on("error",$=>{v.processError=$.message,v.processExited=!0,v.processClosed=!0,v.CheckComplete()}),_.on("exit",$=>{v.processExitCode=$,v.processExited=!0,this._debug(`Exit code ${$} received from tool '${this.toolPath}'`),v.CheckComplete()}),_.on("close",$=>{v.processExitCode=$,v.processExited=!0,v.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),v.CheckComplete()}),v.on("done",($,I)=>{b.length>0&&this.emit("stdline",b),g.length>0&&this.emit("errline",g),_.removeAllListeners(),$?m($):f(I)}),this.options.input){if(!_.stdin)throw new Error("child process missing stdin");_.stdin.end(this.options.input)}}))})}}Ve.ToolRunner=p;function w(d){const f=[];let m=!1,y=!1,v="";function S(_){y&&_!=='"'&&(v+="\\"),v+=_,y=!1}for(let _=0;_<d.length;_++){const b=d.charAt(_);if(b==='"'){y?S(b):m=!m;continue}if(b==="\\"&&y){S(b);continue}if(b==="\\"&&m){y=!0;continue}if(b===" "&&!m){v.length>0&&(f.push(v),v="");continue}S(b)}return v.length>0&&f.push(v.trim()),f}Ve.argStringToArray=w;class E extends o.EventEmitter{constructor(f,m){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!m)throw new Error("toolPath must not be empty");this.options=f,this.toolPath=m,f.delay&&(this.delay=f.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=a.setTimeout(E.HandleTimeout,this.delay,this)))}_debug(f){this.emit("debug",f)}_setResult(){let f;this.processExited&&(this.processError?f=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):this.processExitCode!==0&&!this.options.ignoreReturnCode?f=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`):this.processStderr&&this.options.failOnStdErr&&(f=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`))),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",f,this.processExitCode)}static HandleTimeout(f){if(!f.done){if(!f.processClosed&&f.processExited){const m=`The STDIO streams did not close within ${f.delay/1e3} seconds of the exit event from process '${f.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;f._debug(m)}f._setResult()}}}return Ve}var pu;function Na(){if(pu)return Ge;pu=1;var e=Ge&&Ge.__createBinding||(Object.create?function(u,c,a,h){h===void 0&&(h=a),Object.defineProperty(u,h,{enumerable:!0,get:function(){return c[a]}})}:function(u,c,a,h){h===void 0&&(h=a),u[h]=c[a]}),t=Ge&&Ge.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),r=Ge&&Ge.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var a in u)a!=="default"&&Object.hasOwnProperty.call(u,a)&&e(c,u,a);return t(c,u),c},n=Ge&&Ge.__awaiter||function(u,c,a,h){function p(w){return w instanceof a?w:new a(function(E){E(w)})}return new(a||(a=Promise))(function(w,E){function d(y){try{m(h.next(y))}catch(v){E(v)}}function f(y){try{m(h.throw(y))}catch(v){E(v)}}function m(y){y.done?w(y.value):p(y.value).then(d,f)}m((h=h.apply(u,c||[])).next())})};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.getExecOutput=Ge.exec=void 0;const i=Dm,o=r(Wy());function s(u,c,a){return n(this,void 0,void 0,function*(){const h=o.argStringToArray(u);if(h.length===0)throw new Error("Parameter 'commandLine' cannot be null or empty.");const p=h[0];return c=h.slice(1).concat(c||[]),new o.ToolRunner(p,c,a).exec()})}Ge.exec=s;function l(u,c,a){var h,p;return n(this,void 0,void 0,function*(){let w="",E="";const d=new i.StringDecoder("utf8"),f=new i.StringDecoder("utf8"),m=(h=a?.listeners)===null||h===void 0?void 0:h.stdout,y=(p=a?.listeners)===null||p===void 0?void 0:p.stderr,v=g=>{E+=f.write(g),y&&y(g)},S=g=>{w+=d.write(g),m&&m(g)},_=Object.assign(Object.assign({},a?.listeners),{stdout:S,stderr:v}),b=yield s(u,c,Object.assign(Object.assign({},a),{listeners:_}));return w+=d.end(),E+=f.end(),{exitCode:b,stdout:w,stderr:E}})}return Ge.getExecOutput=l,Ge}var hu;function Xy(){return hu||(hu=1,function(e){var t=Ze&&Ze.__createBinding||(Object.create?function(p,w,E,d){d===void 0&&(d=E);var f=Object.getOwnPropertyDescriptor(w,E);(!f||("get"in f?!w.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(p,d,f)}:function(p,w,E,d){d===void 0&&(d=E),p[d]=w[E]}),r=Ze&&Ze.__setModuleDefault||(Object.create?function(p,w){Object.defineProperty(p,"default",{enumerable:!0,value:w})}:function(p,w){p.default=w}),n=Ze&&Ze.__importStar||function(p){if(p&&p.__esModule)return p;var w={};if(p!=null)for(var E in p)E!=="default"&&Object.prototype.hasOwnProperty.call(p,E)&&t(w,p,E);return r(w,p),w},i=Ze&&Ze.__awaiter||function(p,w,E,d){function f(m){return m instanceof E?m:new E(function(y){y(m)})}return new(E||(E=Promise))(function(m,y){function v(b){try{_(d.next(b))}catch(g){y(g)}}function S(b){try{_(d.throw(b))}catch(g){y(g)}}function _(b){b.done?m(b.value):f(b.value).then(v,S)}_((d=d.apply(p,w||[])).next())})},o=Ze&&Ze.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.getDetails=e.isLinux=e.isMacOS=e.isWindows=e.arch=e.platform=void 0;const s=o(nt),l=n(Na()),u=()=>i(void 0,void 0,void 0,function*(){const{stdout:p}=yield l.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Version"',void 0,{silent:!0}),{stdout:w}=yield l.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Caption"',void 0,{silent:!0});return{name:w.trim(),version:p.trim()}}),c=()=>i(void 0,void 0,void 0,function*(){var p,w,E,d;const{stdout:f}=yield l.getExecOutput("sw_vers",void 0,{silent:!0}),m=(w=(p=f.match(/ProductVersion:\s*(.+)/))===null||p===void 0?void 0:p[1])!==null&&w!==void 0?w:"";return{name:(d=(E=f.match(/ProductName:\s*(.+)/))===null||E===void 0?void 0:E[1])!==null&&d!==void 0?d:"",version:m}}),a=()=>i(void 0,void 0,void 0,function*(){const{stdout:p}=yield l.getExecOutput("lsb_release",["-i","-r","-s"],{silent:!0}),[w,E]=p.trim().split(`
`);return{name:w,version:E}});e.platform=s.default.platform(),e.arch=s.default.arch(),e.isWindows=e.platform==="win32",e.isMacOS=e.platform==="darwin",e.isLinux=e.platform==="linux";function h(){return i(this,void 0,void 0,function*(){return Object.assign(Object.assign({},yield e.isWindows?u():e.isMacOS?c():a()),{platform:e.platform,arch:e.arch,isWindows:e.isWindows,isMacOS:e.isMacOS,isLinux:e.isLinux})})}e.getDetails=h}(Ze)),Ze}var mu;function hr(){return mu||(mu=1,function(e){var t=lt&&lt.__createBinding||(Object.create?function(C,H,z,re){re===void 0&&(re=z);var ce=Object.getOwnPropertyDescriptor(H,z);(!ce||("get"in ce?!H.__esModule:ce.writable||ce.configurable))&&(ce={enumerable:!0,get:function(){return H[z]}}),Object.defineProperty(C,re,ce)}:function(C,H,z,re){re===void 0&&(re=z),C[re]=H[z]}),r=lt&&lt.__setModuleDefault||(Object.create?function(C,H){Object.defineProperty(C,"default",{enumerable:!0,value:H})}:function(C,H){C.default=H}),n=lt&&lt.__importStar||function(C){if(C&&C.__esModule)return C;var H={};if(C!=null)for(var z in C)z!=="default"&&Object.prototype.hasOwnProperty.call(C,z)&&t(H,C,z);return r(H,C),H},i=lt&&lt.__awaiter||function(C,H,z,re){function ce(X){return X instanceof z?X:new z(function(ie){ie(X)})}return new(z||(z=Promise))(function(X,ie){function se(L){try{D(re.next(L))}catch(N){ie(N)}}function ve(L){try{D(re.throw(L))}catch(N){ie(N)}}function D(L){L.done?X(L.value):ce(L.value).then(se,ve)}D((re=re.apply(C,H||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.toPlatformPath=e.toWin32Path=e.toPosixPath=e.markdownSummary=e.summary=e.getIDToken=e.getState=e.saveState=e.group=e.endGroup=e.startGroup=e.info=e.notice=e.warning=e.error=e.debug=e.isDebug=e.setFailed=e.setCommandEcho=e.setOutput=e.getBooleanInput=e.getMultilineInput=e.getInput=e.addPath=e.setSecret=e.exportVariable=e.ExitCode=void 0;const o=Ty(),s=xy(),l=Ca(),u=n(nt),c=n(ue),a=Hy();var h;(function(C){C[C.Success=0]="Success",C[C.Failure=1]="Failure"})(h||(e.ExitCode=h={}));function p(C,H){const z=(0,l.toCommandValue)(H);if(process.env[C]=z,process.env.GITHUB_ENV||"")return(0,s.issueFileCommand)("ENV",(0,s.prepareKeyValueMessage)(C,H));(0,o.issueCommand)("set-env",{name:C},z)}e.exportVariable=p;function w(C){(0,o.issueCommand)("add-mask",{},C)}e.setSecret=w;function E(C){process.env.GITHUB_PATH||""?(0,s.issueFileCommand)("PATH",C):(0,o.issueCommand)("add-path",{},C),process.env.PATH=`${C}${c.delimiter}${process.env.PATH}`}e.addPath=E;function d(C,H){const z=process.env[`INPUT_${C.replace(/ /g,"_").toUpperCase()}`]||"";if(H&&H.required&&!z)throw new Error(`Input required and not supplied: ${C}`);return H&&H.trimWhitespace===!1?z:z.trim()}e.getInput=d;function f(C,H){const z=d(C,H).split(`
`).filter(re=>re!=="");return H&&H.trimWhitespace===!1?z:z.map(re=>re.trim())}e.getMultilineInput=f;function m(C,H){const z=["true","True","TRUE"],re=["false","False","FALSE"],ce=d(C,H);if(z.includes(ce))return!0;if(re.includes(ce))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${C}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}e.getBooleanInput=m;function y(C,H){if(process.env.GITHUB_OUTPUT||"")return(0,s.issueFileCommand)("OUTPUT",(0,s.prepareKeyValueMessage)(C,H));process.stdout.write(u.EOL),(0,o.issueCommand)("set-output",{name:C},(0,l.toCommandValue)(H))}e.setOutput=y;function v(C){(0,o.issue)("echo",C?"on":"off")}e.setCommandEcho=v;function S(C){process.exitCode=h.Failure,g(C)}e.setFailed=S;function _(){return process.env.RUNNER_DEBUG==="1"}e.isDebug=_;function b(C){(0,o.issueCommand)("debug",{},C)}e.debug=b;function g(C,H={}){(0,o.issueCommand)("error",(0,l.toCommandProperties)(H),C instanceof Error?C.toString():C)}e.error=g;function $(C,H={}){(0,o.issueCommand)("warning",(0,l.toCommandProperties)(H),C instanceof Error?C.toString():C)}e.warning=$;function I(C,H={}){(0,o.issueCommand)("notice",(0,l.toCommandProperties)(H),C instanceof Error?C.toString():C)}e.notice=I;function A(C){process.stdout.write(C+u.EOL)}e.info=A;function M(C){(0,o.issue)("group",C)}e.startGroup=M;function K(){(0,o.issue)("endgroup")}e.endGroup=K;function J(C,H){return i(this,void 0,void 0,function*(){M(C);let z;try{z=yield H()}finally{K()}return z})}e.group=J;function x(C,H){if(process.env.GITHUB_STATE||"")return(0,s.issueFileCommand)("STATE",(0,s.prepareKeyValueMessage)(C,H));(0,o.issueCommand)("save-state",{name:C},(0,l.toCommandValue)(H))}e.saveState=x;function T(C){return process.env[`STATE_${C}`]||""}e.getState=T;function F(C){return i(this,void 0,void 0,function*(){return yield a.OidcClient.getIDToken(C)})}e.getIDToken=F;var U=cu();Object.defineProperty(e,"summary",{enumerable:!0,get:function(){return U.summary}});var k=cu();Object.defineProperty(e,"markdownSummary",{enumerable:!0,get:function(){return k.markdownSummary}});var G=zy();Object.defineProperty(e,"toPosixPath",{enumerable:!0,get:function(){return G.toPosixPath}}),Object.defineProperty(e,"toWin32Path",{enumerable:!0,get:function(){return G.toWin32Path}}),Object.defineProperty(e,"toPlatformPath",{enumerable:!0,get:function(){return G.toPlatformPath}}),e.platform=n(Xy())}(lt)),lt}var Ee=hr();const{GITHUB_ACTIONS:Ln}=Tt;function De(e){return Ln?Ee.error(e):console.log(`\x1B[31m${e}\x1B[0m`)}function Ky(e){return console.log(`\x1B[32m${e}\x1B[0m`)}function _e(e){return Ln?Ee.warning(e):console.log(`\x1B[33m${e}\x1B[0m`)}function Qt(e){return Ln?Ee.notice(e):console.log(`\x1B[94m${e}\x1B[0m`)}function W(e){return Ln?Ee.info(e):console.log(e)}var Bt={exports:{}},Di,yu;function Yy(){if(yu)return Di;yu=1,Di=n,n.sync=i;var e=qe;function t(o,s){var l=s.pathExt!==void 0?s.pathExt:process.env.PATHEXT;if(!l||(l=l.split(";"),l.indexOf("")!==-1))return!0;for(var u=0;u<l.length;u++){var c=l[u].toLowerCase();if(c&&o.substr(-c.length).toLowerCase()===c)return!0}return!1}function r(o,s,l){return!o.isSymbolicLink()&&!o.isFile()?!1:t(s,l)}function n(o,s,l){e.stat(o,function(u,c){l(u,u?!1:r(c,o,s))})}function i(o,s){return r(e.statSync(o),o,s)}return Di}var ki,vu;function Jy(){if(vu)return ki;vu=1,ki=t,t.sync=r;var e=qe;function t(o,s,l){e.stat(o,function(u,c){l(u,u?!1:n(c,s))})}function r(o,s){return n(e.statSync(o),s)}function n(o,s){return o.isFile()&&i(o,s)}function i(o,s){var l=o.mode,u=o.uid,c=o.gid,a=s.uid!==void 0?s.uid:process.getuid&&process.getuid(),h=s.gid!==void 0?s.gid:process.getgid&&process.getgid(),p=parseInt("100",8),w=parseInt("010",8),E=parseInt("001",8),d=p|w,f=l&E||l&w&&c===h||l&p&&u===a||l&d&&a===0;return f}return ki}var Fi,wu;function Qy(){if(wu)return Fi;wu=1;var e;process.platform==="win32"||st.TESTING_WINDOWS?e=Yy():e=Jy(),Fi=t,t.sync=r;function t(n,i,o){if(typeof i=="function"&&(o=i,i={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(s,l){t(n,i||{},function(u,c){u?l(u):s(c)})})}e(n,i||{},function(s,l){s&&(s.code==="EACCES"||i&&i.ignoreErrors)&&(s=null,l=!1),o(s,l)})}function r(n,i){try{return e.sync(n,i||{})}catch(o){if(i&&i.ignoreErrors||o.code==="EACCES")return!1;throw o}}return Fi}var qi,gu;function Zy(){if(gu)return qi;gu=1;const e=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",t=ue,r=e?";":":",n=Qy(),i=u=>Object.assign(new Error(`not found: ${u}`),{code:"ENOENT"}),o=(u,c)=>{const a=c.colon||r,h=u.match(/\//)||e&&u.match(/\\/)?[""]:[...e?[process.cwd()]:[],...(c.path||process.env.PATH||"").split(a)],p=e?c.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",w=e?p.split(a):[""];return e&&u.indexOf(".")!==-1&&w[0]!==""&&w.unshift(""),{pathEnv:h,pathExt:w,pathExtExe:p}},s=(u,c,a)=>{typeof c=="function"&&(a=c,c={}),c||(c={});const{pathEnv:h,pathExt:p,pathExtExe:w}=o(u,c),E=[],d=m=>new Promise((y,v)=>{if(m===h.length)return c.all&&E.length?y(E):v(i(u));const S=h[m],_=/^".*"$/.test(S)?S.slice(1,-1):S,b=t.join(_,u),g=!_&&/^\.[\\\/]/.test(u)?u.slice(0,2)+b:b;y(f(g,m,0))}),f=(m,y,v)=>new Promise((S,_)=>{if(v===p.length)return S(d(y+1));const b=p[v];n(m+b,{pathExt:w},(g,$)=>{if(!g&&$)if(c.all)E.push(m+b);else return S(m+b);return S(f(m,y,v+1))})});return a?d(0).then(m=>a(null,m),a):d(0)},l=(u,c)=>{c=c||{};const{pathEnv:a,pathExt:h,pathExtExe:p}=o(u,c),w=[];for(let E=0;E<a.length;E++){const d=a[E],f=/^".*"$/.test(d)?d.slice(1,-1):d,m=t.join(f,u),y=!f&&/^\.[\\\/]/.test(u)?u.slice(0,2)+m:m;for(let v=0;v<h.length;v++){const S=y+h[v];try{if(n.sync(S,{pathExt:p}))if(c.all)w.push(S);else return S}catch{}}}if(c.all&&w.length)return w;if(c.nothrow)return null;throw i(u)};return qi=s,s.sync=l,qi}var Br={exports:{}},_u;function ev(){if(_u)return Br.exports;_u=1;const e=(t={})=>{const r=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};return Br.exports=e,Br.exports.default=e,Br.exports}var Ui,Eu;function tv(){if(Eu)return Ui;Eu=1;const e=ue,t=Zy(),r=ev();function n(o,s){const l=o.options.env||process.env,u=process.cwd(),c=o.options.cwd!=null,a=c&&process.chdir!==void 0&&!process.chdir.disabled;if(a)try{process.chdir(o.options.cwd)}catch{}let h;try{h=t.sync(o.command,{path:l[r({env:l})],pathExt:s?e.delimiter:void 0})}catch{}finally{a&&process.chdir(u)}return h&&(h=e.resolve(c?o.options.cwd:"",h)),h}function i(o){return n(o)||n(o,!0)}return Ui=i,Ui}var Hr={},Su;function rv(){if(Su)return Hr;Su=1;const e=/([()\][%!^"`<>&|;, *?])/g;function t(n){return n=n.replace(e,"^$1"),n}function r(n,i){return n=`${n}`,n=n.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),n=n.replace(/(?=(\\+?)?)\1$/,"$1$1"),n=`"${n}"`,n=n.replace(e,"^$1"),i&&(n=n.replace(e,"^$1")),n}return Hr.command=t,Hr.argument=r,Hr}var ji,bu;function nv(){return bu||(bu=1,ji=/^#!(.*)/),ji}var Mi,Ru;function iv(){if(Ru)return Mi;Ru=1;const e=nv();return Mi=(t="")=>{const r=t.match(e);if(!r)return null;const[n,i]=r[0].replace(/#! ?/,"").split(" "),o=n.split("/").pop();return o==="env"?i:i?`${o} ${i}`:o},Mi}var Gi,$u;function sv(){if($u)return Gi;$u=1;const e=qe,t=iv();function r(n){const o=Buffer.alloc(150);let s;try{s=e.openSync(n,"r"),e.readSync(s,o,0,150,0),e.closeSync(s)}catch{}return t(o.toString())}return Gi=r,Gi}var Vi,Ou;function ov(){if(Ou)return Vi;Ou=1;const e=ue,t=tv(),r=rv(),n=sv(),i=process.platform==="win32",o=/\.(?:com|exe)$/i,s=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function l(a){a.file=t(a);const h=a.file&&n(a.file);return h?(a.args.unshift(a.file),a.command=h,t(a)):a.file}function u(a){if(!i)return a;const h=l(a),p=!o.test(h);if(a.options.forceShell||p){const w=s.test(h);a.command=e.normalize(a.command),a.command=r.command(a.command),a.args=a.args.map(d=>r.argument(d,w));const E=[a.command].concat(a.args).join(" ");a.args=["/d","/s","/c",`"${E}"`],a.command=process.env.comspec||"cmd.exe",a.options.windowsVerbatimArguments=!0}return a}function c(a,h,p){h&&!Array.isArray(h)&&(p=h,h=null),h=h?h.slice(0):[],p=Object.assign({},p);const w={command:a,args:h,options:p,file:void 0,original:{command:a,args:h}};return p.shell?w:u(w)}return Vi=c,Vi}var Bi,Iu;function av(){if(Iu)return Bi;Iu=1;const e=process.platform==="win32";function t(o,s){return Object.assign(new Error(`${s} ${o.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${s} ${o.command}`,path:o.command,spawnargs:o.args})}function r(o,s){if(!e)return;const l=o.emit;o.emit=function(u,c){if(u==="exit"){const a=n(c,s);if(a)return l.call(o,"error",a)}return l.apply(o,arguments)}}function n(o,s){return e&&o===1&&!s.file?t(s.original,"spawn"):null}function i(o,s){return e&&o===1&&!s.file?t(s.original,"spawnSync"):null}return Bi={hookChildProcess:r,verifyENOENT:n,verifyENOENTSync:i,notFoundError:t},Bi}var Pu;function cv(){if(Pu)return Bt.exports;Pu=1;const e=Cr,t=ov(),r=av();function n(o,s,l){const u=t(o,s,l),c=e.spawn(u.command,u.args,u.options);return r.hookChildProcess(c,u),c}function i(o,s,l){const u=t(o,s,l),c=e.spawnSync(u.command,u.args,u.options);return c.error=c.error||r.verifyENOENTSync(c.status,u),c}return Bt.exports=n,Bt.exports.spawn=n,Bt.exports.sync=i,Bt.exports._parse=t,Bt.exports._enoent=r,Bt.exports}var uv=cv();const lv=Oe(uv);function fv(e){const t=typeof e=="string"?`
`:10,r=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}function Ap(e={}){const{env:t=process.env,platform:r=process.platform}=e;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}const dv=({cwd:e=Ot.cwd(),path:t=Ot.env[Ap()],preferLocal:r=!0,execPath:n=Ot.execPath,addExecPath:i=!0}={})=>{const o=e instanceof URL?pp(e):e,s=fr.resolve(o),l=[];return r&&pv(l,s),i&&hv(l,n,s),[...l,t].join(fr.delimiter)},pv=(e,t)=>{let r;for(;r!==t;)e.push(fr.join(t,"node_modules/.bin")),r=t,t=fr.resolve(t,"..")},hv=(e,t,r)=>{const n=t instanceof URL?pp(t):t;e.push(fr.resolve(r,n,".."))},mv=({env:e=Ot.env,...t}={})=>{e={...e};const r=Ap({env:e});return t.path=e[r],e[r]=dv(t),e},yv=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),o=Object.getOwnPropertyDescriptor(t,r);!vv(i,o)&&n||Object.defineProperty(e,r,o)},vv=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},wv=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},gv=(e,t)=>`/* Wrapped ${e}*/
${t}`,_v=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Ev=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Sv=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=gv.bind(null,n,t.toString());Object.defineProperty(i,"name",Ev),Object.defineProperty(e,"toString",{..._v,value:i})};function bv(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const i of Reflect.ownKeys(t))yv(e,t,i,r);return wv(e,t),Sv(e,t,n),e}const dn=new WeakMap,Cp=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",o=function(...s){if(dn.set(o,++n),n===1)r=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return bv(o,e),dn.set(o,n),o};Cp.callCount=e=>{if(!dn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return dn.get(e)};const Rv=()=>{const e=Lp-Np+1;return Array.from({length:e},$v)},$v=(e,t)=>({name:`SIGRT${t+1}`,number:Np+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),Np=34,Lp=64,Ov=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],Dp=()=>{const e=Rv();return[...Ov,...e].map(Iv)},Iv=({name:e,number:t,description:r,action:n,forced:i=!1,standard:o})=>{const{signals:{[e]:s}}=mp,l=s!==void 0;return{name:e,number:l?s:t,description:r,supported:l,action:n,forced:i,standard:o}},Pv=()=>{const e=Dp();return Object.fromEntries(e.map(Tv))},Tv=({name:e,number:t,description:r,supported:n,action:i,forced:o,standard:s})=>[e,{name:e,number:t,description:r,supported:n,action:i,forced:o,standard:s}],xv=Pv(),Av=()=>{const e=Dp(),t=Lp+1,r=Array.from({length:t},(n,i)=>Cv(i,e));return Object.assign({},...r)},Cv=(e,t)=>{const r=Nv(e,t);if(r===void 0)return{};const{name:n,description:i,supported:o,action:s,forced:l,standard:u}=r;return{[e]:{name:n,number:e,description:i,supported:o,action:s,forced:l,standard:u}}},Nv=(e,t)=>{const r=t.find(({name:n})=>mp.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)};Av();const Lv=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",pn=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:o,command:s,escapedCommand:l,timedOut:u,isCanceled:c,killed:a,parsed:{options:{timeout:h,cwd:p=Ot.cwd()}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;const w=i===void 0?void 0:xv[i].description,E=n&&n.code,f=`Command ${Lv({timedOut:u,timeout:h,errorCode:E,signal:i,signalDescription:w,exitCode:o,isCanceled:c})}: ${s}`,m=Object.prototype.toString.call(n)==="[object Error]",y=m?`${f}
${n.message}`:f,v=[y,t,e].filter(Boolean).join(`
`);return m?(n.originalMessage=n.message,n.message=v):n=new Error(v),n.shortMessage=y,n.command=s,n.escapedCommand=l,n.exitCode=o,n.signal=i,n.signalDescription=w,n.stdout=e,n.stderr=t,n.cwd=p,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!u,n.isCanceled=c,n.killed=a&&!u,n},tn=["stdin","stdout","stderr"],Dv=e=>tn.some(t=>e[t]!==void 0),kv=e=>{if(!e)return;const{stdio:t}=e;if(t===void 0)return tn.map(n=>e[n]);if(Dv(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${tn.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,tn.length);return Array.from({length:r},(n,i)=>t[i])};var Ht={exports:{}},Hi={exports:{}},Tu;function Fv(){return Tu||(Tu=1,function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],process.platform!=="win32"&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),process.platform==="linux"&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(Hi)),Hi.exports}var xu;function qv(){if(xu)return Ht.exports;xu=1;var e=st.process;const t=function(f){return f&&typeof f=="object"&&typeof f.removeListener=="function"&&typeof f.emit=="function"&&typeof f.reallyExit=="function"&&typeof f.listeners=="function"&&typeof f.kill=="function"&&typeof f.pid=="number"&&typeof f.on=="function"};if(!t(e))Ht.exports=function(){return function(){}};else{var r=Nr,n=Fv(),i=/^win/i.test(e.platform),o=$n;typeof o!="function"&&(o=o.EventEmitter);var s;e.__signal_exit_emitter__?s=e.__signal_exit_emitter__:(s=e.__signal_exit_emitter__=new o,s.count=0,s.emitted={}),s.infinite||(s.setMaxListeners(1/0),s.infinite=!0),Ht.exports=function(f,m){if(!t(st.process))return function(){};r.equal(typeof f,"function","a callback must be provided for exit handler"),a===!1&&h();var y="exit";m&&m.alwaysLast&&(y="afterexit");var v=function(){s.removeListener(y,f),s.listeners("exit").length===0&&s.listeners("afterexit").length===0&&l()};return s.on(y,f),v};var l=function(){!a||!t(st.process)||(a=!1,n.forEach(function(m){try{e.removeListener(m,c[m])}catch{}}),e.emit=E,e.reallyExit=p,s.count-=1)};Ht.exports.unload=l;var u=function(m,y,v){s.emitted[m]||(s.emitted[m]=!0,s.emit(m,y,v))},c={};n.forEach(function(f){c[f]=function(){if(t(st.process)){var y=e.listeners(f);y.length===s.count&&(l(),u("exit",null,f),u("afterexit",null,f),i&&f==="SIGHUP"&&(f="SIGINT"),e.kill(e.pid,f))}}}),Ht.exports.signals=function(){return n};var a=!1,h=function(){a||!t(st.process)||(a=!0,s.count+=1,n=n.filter(function(m){try{return e.on(m,c[m]),!0}catch{return!1}}),e.emit=d,e.reallyExit=w)};Ht.exports.load=h;var p=e.reallyExit,w=function(m){t(st.process)&&(e.exitCode=m||0,u("exit",e.exitCode,null),u("afterexit",e.exitCode,null),p.call(e,e.exitCode))},E=e.emit,d=function(m,y){if(m==="exit"&&t(st.process)){y!==void 0&&(e.exitCode=y);var v=E.apply(this,arguments);return u("exit",e.exitCode,null),u("afterexit",e.exitCode,null),v}else return E.apply(this,arguments)}}return Ht.exports}var Uv=qv();const jv=Oe(Uv),Mv=1e3*5,Gv=(e,t="SIGTERM",r={})=>{const n=e(t);return Vv(e,t,r,n),n},Vv=(e,t,r,n)=>{if(!Bv(t,r,n))return;const i=zv(r),o=setTimeout(()=>{e("SIGKILL")},i);o.unref&&o.unref()},Bv=(e,{forceKillAfterTimeout:t},r)=>Hv(e)&&t!==!1&&r,Hv=e=>e===hp.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",zv=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return Mv;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Wv=(e,t)=>{e.kill()&&(t.isCanceled=!0)},Xv=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},Kv=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let i;const o=new Promise((l,u)=>{i=setTimeout(()=>{Xv(e,r,u)},t)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},Yv=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Jv=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const i=jv(()=>{e.kill()});return n.finally(()=>{i()})};function La(e){return e!==null&&typeof e=="object"&&typeof e.pipe=="function"}function Au(e){return La(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object"}const Qv=e=>e instanceof qm&&typeof e.then=="function",zi=(e,t,r)=>{if(typeof r=="string")return e[t].pipe(jm(r)),e;if(Au(r))return e[t].pipe(r),e;if(!Qv(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!Au(r.stdin))throw new TypeError("The target child process's stdin must be available.");return e[t].pipe(r.stdin),r},Zv=e=>{e.stdout!==null&&(e.pipeStdout=zi.bind(void 0,e,"stdout")),e.stderr!==null&&(e.pipeStderr=zi.bind(void 0,e,"stderr")),e.all!==void 0&&(e.pipeAll=zi.bind(void 0,e,"all"))};var cr={exports:{}},Wi,Cu;function ew(){if(Cu)return Wi;Cu=1;const{PassThrough:e}=Lr;return Wi=t=>{t={...t};const{array:r}=t;let{encoding:n}=t;const i=n==="buffer";let o=!1;r?o=!(n||i):n=n||"utf8",i&&(n=null);const s=new e({objectMode:o});n&&s.setEncoding(n);let l=0;const u=[];return s.on("data",c=>{u.push(c),o?l=u.length:l+=c.length}),s.getBufferedValue=()=>r?u:i?Buffer.concat(u,l):u.join(""),s.getBufferedLength=()=>l,s},Wi}var Nu;function tw(){if(Nu)return cr.exports;Nu=1;const{constants:e}=Bm,t=Lr,{promisify:r}=On,n=ew(),i=r(t.pipeline);class o extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function s(l,u){if(!l)throw new Error("Expected a stream");u={maxBuffer:1/0,...u};const{maxBuffer:c}=u,a=n(u);return await new Promise((h,p)=>{const w=E=>{E&&a.getBufferedLength()<=e.MAX_LENGTH&&(E.bufferedData=a.getBufferedValue()),p(E)};(async()=>{try{await i(l,a),h()}catch(E){w(E)}})(),a.on("data",()=>{a.getBufferedLength()>c&&w(new o)})}),a.getBufferedValue()}return cr.exports=s,cr.exports.buffer=(l,u)=>s(l,{...u,encoding:"buffer"}),cr.exports.array=(l,u)=>s(l,{...u,array:!0}),cr.exports.MaxBufferError=o,cr.exports}var rw=tw();const Lu=Oe(rw);var Xi,Du;function nw(){if(Du)return Xi;Du=1;const{PassThrough:e}=Lr;return Xi=function(){var t=[],r=new e({objectMode:!0});return r.setMaxListeners(0),r.add=n,r.isEmpty=i,r.on("unpipe",o),Array.prototype.slice.call(arguments).forEach(n),r;function n(s){return Array.isArray(s)?(s.forEach(n),this):(t.push(s),s.once("end",o.bind(null,s)),s.once("error",r.emit.bind(r,"error")),s.pipe(r,{end:!1}),this)}function i(){return t.length==0}function o(s){t=t.filter(function(l){return l!==s}),!t.length&&r.readable&&r.end()}},Xi}var iw=nw();const sw=Oe(iw),kp=e=>{if(e!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},ow=({input:e,inputFile:t})=>typeof t!="string"?e:(kp(e),Gm(t)),aw=e=>{const t=ow(e);if(La(t))throw new TypeError("The `input` option cannot be a stream in sync mode");return t},cw=({input:e,inputFile:t})=>typeof t!="string"?e:(kp(e),Mm(t)),uw=(e,t)=>{const r=cw(t);r!==void 0&&(La(r)?r.pipe(e.stdin):e.stdin.end(r))},lw=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=sw();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Ki=async(e,t)=>{if(!(!e||t===void 0)){e.destroy();try{return await t}catch(r){return r.bufferedData}}},Yi=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?Lu(e,{encoding:t,maxBuffer:n}):Lu.buffer(e,{maxBuffer:n})},fw=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:o},s)=>{const l=Yi(e,{encoding:n,buffer:i,maxBuffer:o}),u=Yi(t,{encoding:n,buffer:i,maxBuffer:o}),c=Yi(r,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,l,u,c])}catch(a){return Promise.all([{error:a,signal:a.signal,timedOut:a.timedOut},Ki(e,l),Ki(t,u),Ki(r,c)])}},dw=(async()=>{})().constructor.prototype,pw=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(dw,e)]),ku=(e,t)=>{for(const[r,n]of pw){const i=typeof t=="function"?(...o)=>Reflect.apply(n.value,t(),o):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}},hw=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})}),Fp=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],mw=/^[\w.-]+$/,yw=/"/g,vw=e=>typeof e!="string"||mw.test(e)?e:`"${e.replace(yw,'\\"')}"`,qp=(e,t)=>Fp(e,t).join(" "),Up=(e,t)=>Fp(e,t).map(r=>vw(r)).join(" "),ww=/ +/g,jp=e=>{const t=[];for(const r of e.trim().split(ww)){const n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t},gw=Hm("execa").enabled,zr=(e,t)=>String(e).padStart(t,"0"),_w=()=>{const e=new Date;return`${zr(e.getHours(),2)}:${zr(e.getMinutes(),2)}:${zr(e.getSeconds(),2)}.${zr(e.getMilliseconds(),3)}`},Mp=(e,{verbose:t})=>{t&&Ot.stderr.write(`[${_w()}] ${e}
`)},Ew=1e3*1e3*100,Sw=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{const o=t?{...Ot.env,...e}:e;return r?mv({env:o,cwd:n,execPath:i}):o},Gp=(e,t,r={})=>{const n=lv._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:Ew,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||Ot.cwd(),execPath:Ot.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:gw,...r},r.env=Sw(r),r.stdio=kv(r),Ot.platform==="win32"&&fr.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},xr=(e,t,r)=>typeof t!="string"&&!Fm.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?fv(t):t;function le(e,t,r){const n=Gp(e,t,r),i=qp(e,t),o=Up(e,t);Mp(o,n.options),Yv(n.options);let s;try{s=wa.spawn(n.file,n.args,n.options)}catch(w){const E=new wa.ChildProcess,d=Promise.reject(pn({error:w,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return ku(E,d),E}const l=hw(s),u=Kv(s,n.options,l),c=Jv(s,n.options,u),a={isCanceled:!1};s.kill=Gv.bind(null,s.kill.bind(s)),s.cancel=Wv.bind(null,s,a);const p=Cp(async()=>{const[{error:w,exitCode:E,signal:d,timedOut:f},m,y,v]=await fw(s,n.options,c),S=xr(n.options,m),_=xr(n.options,y),b=xr(n.options,v);if(w||E!==0||d!==null){const g=pn({error:w,exitCode:E,signal:d,stdout:S,stderr:_,all:b,command:i,escapedCommand:o,parsed:n,timedOut:f,isCanceled:a.isCanceled||(n.options.signal?n.options.signal.aborted:!1),killed:s.killed});if(!n.options.reject)return g;throw g}return{command:i,escapedCommand:o,exitCode:0,stdout:S,stderr:_,all:b,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return uw(s,n.options),s.all=lw(s,n.options),Zv(s),ku(s,p),s}function Be(e,t,r){const n=Gp(e,t,r),i=qp(e,t),o=Up(e,t);Mp(o,n.options);const s=aw(n.options);let l;try{l=wa.spawnSync(n.file,n.args,{...n.options,input:s})}catch(a){throw pn({error:a,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}const u=xr(n.options,l.stdout,l.error),c=xr(n.options,l.stderr,l.error);if(l.error||l.status!==0||l.signal!==null){const a=pn({stdout:u,stderr:c,error:l.error,signal:l.signal,exitCode:l.status,command:i,escapedCommand:o,parsed:n,timedOut:l.error&&l.error.code==="ETIMEDOUT",isCanceled:!1,killed:l.signal!==null});if(!n.options.reject)return a;throw a}return{command:i,escapedCommand:o,exitCode:0,stdout:u,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}function bw(e,t){const[r,...n]=jp(e);return le(r,n,t)}function Rw(e,t){const[r,...n]=jp(e);return Be(r,n,t)}var pt={},zt={},Fu;function $w(){if(Fu)return zt;Fu=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.sync=zt.isexe=void 0;const e=qe,t=yp,r=async(s,l={})=>{const{ignoreErrors:u=!1}=l;try{return i(await(0,t.stat)(s),l)}catch(c){const a=c;if(u||a.code==="EACCES")return!1;throw a}};zt.isexe=r;const n=(s,l={})=>{const{ignoreErrors:u=!1}=l;try{return i((0,e.statSync)(s),l)}catch(c){const a=c;if(u||a.code==="EACCES")return!1;throw a}};zt.sync=n;const i=(s,l)=>s.isFile()&&o(s,l),o=(s,l)=>{const u=l.uid??process.getuid?.(),c=l.groups??process.getgroups?.()??[],a=l.gid??process.getgid?.()??c[0];if(u===void 0||a===void 0)throw new Error("cannot get uid or gid");const h=new Set([a,...c]),p=s.mode,w=s.uid,E=s.gid,d=parseInt("100",8),f=parseInt("010",8),m=parseInt("001",8),y=d|f;return!!(p&m||p&f&&h.has(E)||p&d&&w===u||p&y&&u===0)};return zt}var Wt={},qu;function Ow(){if(qu)return Wt;qu=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.sync=Wt.isexe=void 0;const e=qe,t=yp,r=async(s,l={})=>{const{ignoreErrors:u=!1}=l;try{return o(await(0,t.stat)(s),s,l)}catch(c){const a=c;if(u||a.code==="EACCES")return!1;throw a}};Wt.isexe=r;const n=(s,l={})=>{const{ignoreErrors:u=!1}=l;try{return o((0,e.statSync)(s),s,l)}catch(c){const a=c;if(u||a.code==="EACCES")return!1;throw a}};Wt.sync=n;const i=(s,l)=>{const{pathExt:u=process.env.PATHEXT||""}=l,c=u.split(";");if(c.indexOf("")!==-1)return!0;for(let a=0;a<c.length;a++){const h=c[a].toLowerCase(),p=s.substring(s.length-h.length).toLowerCase();if(h&&p===h)return!0}return!1},o=(s,l,u)=>s.isFile()&&i(l,u);return Wt}var Ji={},Uu;function Iw(){return Uu||(Uu=1,Object.defineProperty(Ji,"__esModule",{value:!0})),Ji}var ju;function Pw(){return ju||(ju=1,function(e){var t=pt&&pt.__createBinding||(Object.create?function(c,a,h,p){p===void 0&&(p=h);var w=Object.getOwnPropertyDescriptor(a,h);(!w||("get"in w?!a.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return a[h]}}),Object.defineProperty(c,p,w)}:function(c,a,h,p){p===void 0&&(p=h),c[p]=a[h]}),r=pt&&pt.__setModuleDefault||(Object.create?function(c,a){Object.defineProperty(c,"default",{enumerable:!0,value:a})}:function(c,a){c.default=a}),n=pt&&pt.__importStar||function(c){if(c&&c.__esModule)return c;var a={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&t(a,c,h);return r(a,c),a},i=pt&&pt.__exportStar||function(c,a){for(var h in c)h!=="default"&&!Object.prototype.hasOwnProperty.call(a,h)&&t(a,c,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.sync=e.isexe=e.posix=e.win32=void 0;const o=n($w());e.posix=o;const s=n(Ow());e.win32=s,i(Iw(),e);const u=(process.env._ISEXE_TEST_PLATFORM_||process.platform)==="win32"?s:o;e.isexe=u.isexe,e.sync=u.sync}(pt)),pt}var Qi,Mu;function Tw(){if(Mu)return Qi;Mu=1;const{isexe:e,sync:t}=Pw(),{join:r,delimiter:n,sep:i,posix:o}=ue,s=process.platform==="win32",l=new RegExp(`[${o.sep}${i===o.sep?"":i}]`.replace(/(\\)/g,"\\$1")),u=new RegExp(`^\\.${l.source}`),c=E=>Object.assign(new Error(`not found: ${E}`),{code:"ENOENT"}),a=(E,{path:d=process.env.PATH,pathExt:f=process.env.PATHEXT,delimiter:m=n})=>{const y=E.match(l)?[""]:[...s?[process.cwd()]:[],...(d||"").split(m)];if(s){const v=f||[".EXE",".CMD",".BAT",".COM"].join(m),S=v.split(m).flatMap(_=>[_,_.toLowerCase()]);return E.includes(".")&&S[0]!==""&&S.unshift(""),{pathEnv:y,pathExt:S,pathExtExe:v}}return{pathEnv:y,pathExt:[""]}},h=(E,d)=>{const f=/^".*"$/.test(E)?E.slice(1,-1):E;return(!f&&u.test(d)?d.slice(0,2):"")+r(f,d)},p=async(E,d={})=>{const{pathEnv:f,pathExt:m,pathExtExe:y}=a(E,d),v=[];for(const S of f){const _=h(S,E);for(const b of m){const g=_+b;if(await e(g,{pathExt:y,ignoreErrors:!0})){if(!d.all)return g;v.push(g)}}}if(d.all&&v.length)return v;if(d.nothrow)return null;throw c(E)},w=(E,d={})=>{const{pathEnv:f,pathExt:m,pathExtExe:y}=a(E,d),v=[];for(const S of f){const _=h(S,E);for(const b of m){const g=_+b;if(t(g,{pathExt:y,ignoreErrors:!0})){if(!d.all)return g;v.push(g)}}}if(d.all&&v.length)return v;if(d.nothrow)return null;throw c(E)};return Qi=p,p.sync=w,Qi}var xw=Tw();const pe=Oe(xw);let br;function Vp(e,t=["-NoProfile","-NoLogo","-NonInteractive"],r={stdio:"inherit"}){return le(Aw(),[...t,"-c",e],r)}function Aw(){if(br===void 0){const e=pe.sync("pwsh",{nothrow:!0});e!==null&&(br=e);const t=pe.sync("powershell",{nothrow:!0});t!==null&&(br=t)}if(br===void 0)throw new Error("Could not find powershell");return br}function ht(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function Bp(){return pe.sync("sudo",{nothrow:!0})!==null}function mr(){return process.getuid?.()===0||!!process.env.CI}function yr(){return mr()&&Bp()}function Cw(e){return yr()?`sudo ${e}`:e}function he(e,t=[],r=vt){return yr()?Rw(Hp(e,t),r):Be(e,Da(t),r)}function yt(e,t=[],r=vt){return yr()?bw(Hp(e,t),r):le(e,Da(t),r)}function Hp(e,t){return`sudo ${Da([e,...t]).join(" ")}`}function Da(e){return e.map(t=>`'${t}'`)}async function Nw(){try{return await le("fltmc"),!0}catch{return!1}}async function Lw(){if(process.platform!=="win32")return!1;try{return await le("fsutil",["dirty","query",process.env.systemdrive??""]),!0}catch(e){return e.code==="ENOENT"?Nw():!1}}function Dw(){return process.platform==="win32"?zp():mr()}async function vr(e){if((process.platform==="linux"||process.platform==="darwin")&&yr()&&process.env.SUDO_USER!==void 0){let t=qe.statSync(e).isDirectory();await yt("chown",[...t?["-R"]:[],process.env.SUDO_USER,e],vt)}}var Zi,Xt={};ht(Xt,"hasSudo",()=>Bp),ht(Xt,"isRoot",()=>mr),ht(Xt,"isSudo",()=>yr),ht(Xt,"prependSudo",()=>Cw),ht(Xt,"defaultExecOptions",()=>vt),ht(Xt,"execRootSync",()=>he),ht(Xt,"execRoot",()=>yt);let vt={stdio:"inherit",shell:!0};ht(Zi={},"isAdminWindows",()=>zp),ht(Zi,"isAdminPosix",()=>kw),ht(Zi,"isAdmin",()=>Dw);let zp=Lw,kw=mr;ht({},"grantUserWriteAccess",()=>vr);var es,Gu;function Fw(){return Gu||(Gu=1,es=function(){}),es}var ts,Vu;function rr(){if(Vu)return ts;Vu=1;var e=Fw()();return ts=function(t){return t!==e&&t!==null},ts}var rs,Bu;function Wp(){if(Bu)return rs;Bu=1;var e=rr(),t=Array.prototype.forEach,r=Object.create,n=function(i,o){var s;for(s in i)o[s]=i[s]};return rs=function(i){var o=r(null);return t.call(arguments,function(s){e(s)&&n(Object(s),o)}),o},rs}var ns,Hu;function qw(){return Hu||(Hu=1,ns=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1}),ns}var is,zu;function Uw(){return zu||(zu=1,is=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}),is}var ss,Wu;function jw(){return Wu||(Wu=1,ss=qw()()?Math.sign:Uw()),ss}var os,Xu;function Mw(){if(Xu)return os;Xu=1;var e=jw(),t=Math.abs,r=Math.floor;return os=function(n){return isNaN(n)?0:(n=Number(n),n===0||!isFinite(n)?n:e(n)*r(t(n)))},os}var as,Ku;function nr(){if(Ku)return as;Ku=1;var e=Mw(),t=Math.max;return as=function(r){return t(0,e(r))},as}var cs,Yu;function Xp(){if(Yu)return cs;Yu=1;var e=nr();return cs=function(t,r,n){var i;return isNaN(t)?(i=r,i>=0?n&&i?i-1:i:1):t===!1?!1:e(t)},cs}var us,Ju;function Ut(){return Ju||(Ju=1,us=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}),us}var ls,Qu;function wr(){if(Qu)return ls;Qu=1;var e=rr();return ls=function(t){if(!e(t))throw new TypeError("Cannot use null or undefined");return t},ls}var fs,Zu;function Gw(){if(Zu)return fs;Zu=1;var e=Ut(),t=wr(),r=Function.prototype.bind,n=Function.prototype.call,i=Object.keys,o=Object.prototype.propertyIsEnumerable;return fs=function(s,l){return function(u,c){var a,h=arguments[2],p=arguments[3];return u=Object(t(u)),e(c),a=i(u),p&&a.sort(typeof p=="function"?r.call(p,u):void 0),typeof s!="function"&&(s=a[s]),n.call(s,a,function(w,E){return o.call(u,w)?n.call(c,h,u[w],w,u,E):l})}},fs}var ds,el;function Dn(){return el||(el=1,ds=Gw()("forEach")),ds}var tl={},rl;function ir(){return rl||(rl=1),tl}var ps={exports:{}},hs,nl;function Vw(){return nl||(nl=1,hs=function(){var e=Object.assign,t;return typeof e!="function"?!1:(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}),hs}var ms,il;function Bw(){return il||(il=1,ms=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),ms}var ys,sl;function Hw(){if(sl)return ys;sl=1;var e=rr(),t=Object.keys;return ys=function(r){return t(e(r)?Object(r):r)},ys}var vs,ol;function zw(){return ol||(ol=1,vs=Bw()()?Object.keys:Hw()),vs}var ws,al;function Ww(){if(al)return ws;al=1;var e=zw(),t=wr(),r=Math.max;return ws=function(n,i){var o,s,l=r(arguments.length,2),u;for(n=Object(t(n)),u=function(c){try{n[c]=i[c]}catch(a){o||(o=a)}},s=1;s<l;++s)i=arguments[s],e(i).forEach(u);if(o!==void 0)throw o;return n},ws}var gs,cl;function Kp(){return cl||(cl=1,gs=Vw()()?Object.assign:Ww()),gs}var _s,ul;function Xw(){if(ul)return _s;ul=1;var e=rr(),t={function:!0,object:!0};return _s=function(r){return e(r)&&t[typeof r]||!1},_s}var ll;function Kw(){return ll||(ll=1,function(e){var t=Kp(),r=Xw(),n=rr(),i=Error.captureStackTrace;e.exports=function(o){var s=new Error(o),l=arguments[1],u=arguments[2];return n(u)||r(l)&&(u=l,l=null),n(u)&&t(s,u),n(l)&&(s.code=l),i&&i(s,e.exports),s}}(ps)),ps.exports}var Wr={exports:{}},Es,fl;function Yp(){if(fl)return Es;fl=1;var e=wr(),t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols;return Es=function(o,s){var l,u=Object(e(s));if(o=Object(e(o)),n(u).forEach(function(c){try{t(o,c,r(s,c))}catch(a){l=a}}),typeof i=="function"&&i(u).forEach(function(c){try{t(o,c,r(s,c))}catch(a){l=a}}),l!==void 0)throw l;return o},Es}var dl;function Jp(){if(dl)return Wr.exports;dl=1;var e=nr(),t=function(s,l){return l},r,n,i,o;try{Object.defineProperty(t,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}return t.length===1?(r={configurable:!0,writable:!1,enumerable:!1},n=Object.defineProperty,Wr.exports=function(s,l){return l=e(l),s.length===l?s:(r.value=l,n(s,"length",r))}):(o=Yp(),i=function(){var s=[];return function(l){var u,c=0;if(s[l])return s[l];for(u=[];l--;)u.push("a"+(++c).toString(36));return new Function("fn","return function ("+u.join(", ")+") { return fn.apply(this, arguments); };")}}(),Wr.exports=function(s,l){var u;if(l=e(l),s.length===l)return s;u=i(l)(s);try{o(u,s)}catch{}return u}),Wr.exports}var Ss={exports:{}},bs,pl;function Qp(){if(pl)return bs;pl=1;var e=void 0;return bs=function(t){return t!==e&&t!==null},bs}var Rs,hl;function Yw(){if(hl)return Rs;hl=1;var e=Qp(),t={object:!0,function:!0,undefined:!0};return Rs=function(r){return e(r)?hasOwnProperty.call(t,typeof r):!1},Rs}var $s,ml;function Jw(){if(ml)return $s;ml=1;var e=Yw();return $s=function(t){if(!e(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},$s}var Os,yl;function Qw(){if(yl)return Os;yl=1;var e=Jw();return Os=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!e(t)},Os}var Is,vl;function Zw(){if(vl)return Is;vl=1;var e=Qw(),t=/^\s*class[\s{/}]/,r=Function.prototype.toString;return Is=function(n){return!(!e(n)||t.test(r.call(n)))},Is}var Ps,wl;function eg(){if(wl)return Ps;wl=1;var e="razdwatrzy";return Ps=function(){return typeof e.contains!="function"?!1:e.contains("dwa")===!0&&e.contains("foo")===!1},Ps}var Ts,gl;function tg(){if(gl)return Ts;gl=1;var e=String.prototype.indexOf;return Ts=function(t){return e.call(this,t,arguments[1])>-1},Ts}var xs,_l;function rg(){return _l||(_l=1,xs=eg()()?String.prototype.contains:tg()),xs}var El;function sr(){if(El)return Ss.exports;El=1;var e=Qp(),t=Zw(),r=Kp(),n=Wp(),i=rg(),o=Ss.exports=function(s,l){var u,c,a,h,p;return arguments.length<2||typeof s!="string"?(h=l,l=s,s=null):h=arguments[2],e(s)?(u=i.call(s,"c"),c=i.call(s,"e"),a=i.call(s,"w")):(u=a=!0,c=!1),p={value:l,configurable:u,enumerable:c,writable:a},h?r(n(h),p):p};return o.gs=function(s,l,u){var c,a,h,p;return typeof s!="string"?(h=u,u=l,l=s,s=null):h=arguments[3],e(l)?t(l)?e(u)?t(u)||(h=u,u=void 0):u=void 0:(h=l,l=u=void 0):l=void 0,e(s)?(c=i.call(s,"c"),a=i.call(s,"e")):(c=!0,a=!1),p={get:l,set:u,configurable:c,enumerable:a},h?r(n(h),p):p},Ss.exports}var Xr={exports:{}},Sl;function ng(){return Sl||(Sl=1,function(e,t){var r=sr(),n=Ut(),i=Function.prototype.apply,o=Function.prototype.call,s=Object.create,l=Object.defineProperty,u=Object.defineProperties,c=Object.prototype.hasOwnProperty,a={configurable:!0,enumerable:!1,writable:!0},h,p,w,E,d,f,m;h=function(y,v){var S;return n(v),c.call(this,"__ee__")?S=this.__ee__:(S=a.value=s(null),l(this,"__ee__",a),a.value=null),S[y]?typeof S[y]=="object"?S[y].push(v):S[y]=[S[y],v]:S[y]=v,this},p=function(y,v){var S,_;return n(v),_=this,h.call(this,y,S=function(){w.call(_,y,S),i.call(v,this,arguments)}),S.__eeOnceListener__=v,this},w=function(y,v){var S,_,b,g;if(n(v),!c.call(this,"__ee__"))return this;if(S=this.__ee__,!S[y])return this;if(_=S[y],typeof _=="object")for(g=0;b=_[g];++g)(b===v||b.__eeOnceListener__===v)&&(_.length===2?S[y]=_[g?0:1]:_.splice(g,1));else(_===v||_.__eeOnceListener__===v)&&delete S[y];return this},E=function(y){var v,S,_,b,g;if(c.call(this,"__ee__")&&(b=this.__ee__[y],!!b))if(typeof b=="object"){for(S=arguments.length,g=new Array(S-1),v=1;v<S;++v)g[v-1]=arguments[v];for(b=b.slice(),v=0;_=b[v];++v)i.call(_,this,g)}else switch(arguments.length){case 1:o.call(b,this);break;case 2:o.call(b,this,arguments[1]);break;case 3:o.call(b,this,arguments[1],arguments[2]);break;default:for(S=arguments.length,g=new Array(S-1),v=1;v<S;++v)g[v-1]=arguments[v];i.call(b,this,g)}},d={on:h,once:p,off:w,emit:E},f={on:r(h),once:r(p),off:r(w),emit:r(E)},m=u({},f),e.exports=t=function(y){return y==null?s(m):u(Object(y),f)},t.methods=d}(Xr,Xr.exports)),Xr.exports}var As,bl;function ig(){return bl||(bl=1,As=function(){var e=Array.from,t,r;return typeof e!="function"?!1:(t=["raz","dwa"],r=e(t),!!(r&&r!==t&&r[1]==="dwa"))}),As}var Cs,Rl;function sg(){return Rl||(Rl=1,Cs=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),Cs}var Ns,$l;function og(){if($l)return Ns;$l=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Ns=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),Ns}var Ls,Ol;function kn(){return Ol||(Ol=1,Ls=sg()()?globalThis:og()),Ls}var Ds,Il;function ag(){if(Il)return Ds;Il=1;var e=kn(),t={object:!0,symbol:!0};return Ds=function(){var r=e.Symbol,n;if(typeof r!="function")return!1;n=r("test symbol");try{String(n)}catch{return!1}return!(!t[typeof r.iterator]||!t[typeof r.toPrimitive]||!t[typeof r.toStringTag])},Ds}var ks,Pl;function cg(){return Pl||(Pl=1,ks=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}),ks}var Fs,Tl;function Zp(){if(Tl)return Fs;Tl=1;var e=cg();return Fs=function(t){if(!e(t))throw new TypeError(t+" is not a symbol");return t},Fs}var qs,xl;function ug(){if(xl)return qs;xl=1;var e=sr(),t=Object.create,r=Object.defineProperty,n=Object.prototype,i=t(null);return qs=function(o){for(var s=0,l,u;i[o+(s||"")];)++s;return o+=s||"",i[o]=!0,l="@@"+o,r(n,l,e.gs(null,function(c){u||(u=!0,r(this,l,e(c)),u=!1)})),l},qs}var Us,Al;function lg(){if(Al)return Us;Al=1;var e=sr(),t=kn().Symbol;return Us=function(r){return Object.defineProperties(r,{hasInstance:e("",t&&t.hasInstance||r("hasInstance")),isConcatSpreadable:e("",t&&t.isConcatSpreadable||r("isConcatSpreadable")),iterator:e("",t&&t.iterator||r("iterator")),match:e("",t&&t.match||r("match")),replace:e("",t&&t.replace||r("replace")),search:e("",t&&t.search||r("search")),species:e("",t&&t.species||r("species")),split:e("",t&&t.split||r("split")),toPrimitive:e("",t&&t.toPrimitive||r("toPrimitive")),toStringTag:e("",t&&t.toStringTag||r("toStringTag")),unscopables:e("",t&&t.unscopables||r("unscopables"))})},Us}var js,Cl;function fg(){if(Cl)return js;Cl=1;var e=sr(),t=Zp(),r=Object.create(null);return js=function(n){return Object.defineProperties(n,{for:e(function(i){return r[i]?r[i]:r[i]=n(String(i))}),keyFor:e(function(i){var o;t(i);for(o in r)if(r[o]===i)return o})})},js}var Ms,Nl;function dg(){if(Nl)return Ms;Nl=1;var e=sr(),t=Zp(),r=kn().Symbol,n=ug(),i=lg(),o=fg(),s=Object.create,l=Object.defineProperties,u=Object.defineProperty,c,a,h;if(typeof r=="function")try{String(r()),h=!0}catch{}else r=null;return a=function(w){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return c(w)},Ms=c=function p(w){var E;if(this instanceof p)throw new TypeError("Symbol is not a constructor");return h?r(w):(E=s(a.prototype),w=w===void 0?"":String(w),l(E,{__description__:e("",w),__name__:e("",n(w))}))},i(c),o(c),l(a.prototype,{constructor:e(c),toString:e("",function(){return this.__name__})}),l(c.prototype,{toString:e(function(){return"Symbol ("+t(this).__description__+")"}),valueOf:e(function(){return t(this)})}),u(c.prototype,c.toPrimitive,e("",function(){var p=t(this);return typeof p=="symbol"?p:p.toString()})),u(c.prototype,c.toStringTag,e("c","Symbol")),u(a.prototype,c.toStringTag,e("c",c.prototype[c.toStringTag])),u(a.prototype,c.toPrimitive,e("c",c.prototype[c.toPrimitive])),Ms}var Gs,Ll;function pg(){return Ll||(Ll=1,Gs=ag()()?kn().Symbol:dg()),Gs}var Vs,Dl;function hg(){if(Dl)return Vs;Dl=1;var e=Object.prototype.toString,t=e.call(function(){return arguments}());return Vs=function(r){return e.call(r)===t},Vs}var Bs,kl;function mg(){if(kl)return Bs;kl=1;var e=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return Bs=function(r){return typeof r=="function"&&t(e.call(r))},Bs}var Hs,Fl;function yg(){if(Fl)return Hs;Fl=1;var e=Object.prototype.toString,t=e.call("");return Hs=function(r){return typeof r=="string"||r&&typeof r=="object"&&(r instanceof String||e.call(r)===t)||!1},Hs}var zs,ql;function vg(){if(ql)return zs;ql=1;var e=pg().iterator,t=hg(),r=mg(),n=nr(),i=Ut(),o=wr(),s=rr(),l=yg(),u=Array.isArray,c=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;return zs=function(p){var w=arguments[1],E=arguments[2],d,f,m,y,v,S,_,b,g,$;if(p=Object(o(p)),s(w)&&i(w),!this||this===Array||!r(this)){if(!w){if(t(p))return v=p.length,v!==1?Array.apply(null,p):(y=new Array(1),y[0]=p[0],y);if(u(p)){for(y=new Array(v=p.length),f=0;f<v;++f)y[f]=p[f];return y}}y=[]}else d=this;if(!u(p)){if((g=p[e])!==void 0){for(_=i(g).call(p),d&&(y=new d),b=_.next(),f=0;!b.done;)$=w?c.call(w,E,b.value,f):b.value,d?(a.value=$,h(y,f,a)):y[f]=$,b=_.next(),++f;v=f}else if(l(p)){for(v=p.length,d&&(y=new d),f=0,m=0;f<v;++f)$=p[f],f+1<v&&(S=$.charCodeAt(0),S>=55296&&S<=56319&&($+=p[++f])),$=w?c.call(w,E,$,m):$,d?(a.value=$,h(y,m,a)):y[m]=$,++m;v=m}}if(v===void 0)for(v=n(p.length),d&&(y=new d(v)),f=0;f<v;++f)$=w?c.call(w,E,p[f],f):p[f],d?(a.value=$,h(y,f,a)):y[f]=$;return d&&(a.value=null,y.length=v),y},zs}var Ws,Ul;function ka(){return Ul||(Ul=1,Ws=ig()()?Array.from:vg()),Ws}var Xs,jl;function wg(){if(jl)return Xs;jl=1;var e=ka(),t=Array.isArray;return Xs=function(r){return t(r)?r:e(r)},Xs}var Ks,Ml;function gg(){if(Ml)return Ks;Ml=1;var e=wg(),t=rr(),r=Ut(),n=Array.prototype.slice,i;return i=function(o){return this.map(function(s,l){return s?s(o[l]):o[l]}).concat(n.call(o,this.length))},Ks=function(o){return o=e(o),o.forEach(function(s){t(s)&&r(s)}),i.bind(o)},Ks}var Ys,Gl;function _g(){if(Gl)return Ys;Gl=1;var e=Ut();return Ys=function(t){var r;return typeof t=="function"?{set:t,get:t}:(r={get:e(t.get)},t.set!==void 0?(r.set=e(t.set),t.delete&&(r.delete=e(t.delete)),t.clear&&(r.clear=e(t.clear)),r):(r.set=r.get,r))},Ys}var Js,Vl;function Eg(){if(Vl)return Js;Vl=1;var e=Kw(),t=Jp(),r=sr(),n=ng().methods,i=gg(),o=_g(),s=Function.prototype.apply,l=Function.prototype.call,u=Object.create,c=Object.defineProperties,a=n.on,h=n.emit;return Js=function(p,w,E){var d=u(null),f,m,y,v,S,_,b,g,$,I,A,M,K,J,x;return w!==!1?m=w:isNaN(p.length)?m=1:m=p.length,E.normalizer&&(I=o(E.normalizer),y=I.get,v=I.set,S=I.delete,_=I.clear),E.resolvers!=null&&(x=i(E.resolvers)),y?J=t(function(T){var F,U,k=arguments;if(x&&(k=x(k)),F=y(k),F!==null&&hasOwnProperty.call(d,F))return A&&f.emit("get",F,k,this),d[F];if(k.length===1?U=l.call(p,this,k[0]):U=s.call(p,this,k),F===null){if(F=y(k),F!==null)throw e("Circular invocation","CIRCULAR_INVOCATION");F=v(k)}else if(hasOwnProperty.call(d,F))throw e("Circular invocation","CIRCULAR_INVOCATION");return d[F]=U,M&&f.emit("set",F,null,U),U},m):w===0?J=function(){var T;if(hasOwnProperty.call(d,"data"))return A&&f.emit("get","data",arguments,this),d.data;if(arguments.length?T=s.call(p,this,arguments):T=l.call(p,this),hasOwnProperty.call(d,"data"))throw e("Circular invocation","CIRCULAR_INVOCATION");return d.data=T,M&&f.emit("set","data",null,T),T}:J=function(T){var F,U=arguments,k;if(x&&(U=x(arguments)),k=String(U[0]),hasOwnProperty.call(d,k))return A&&f.emit("get",k,U,this),d[k];if(U.length===1?F=l.call(p,this,U[0]):F=s.call(p,this,U),hasOwnProperty.call(d,k))throw e("Circular invocation","CIRCULAR_INVOCATION");return d[k]=F,M&&f.emit("set",k,null,F),F},f={original:p,memoized:J,profileName:E.profileName,get:function(T){return x&&(T=x(T)),y?y(T):String(T[0])},has:function(T){return hasOwnProperty.call(d,T)},delete:function(T){var F;hasOwnProperty.call(d,T)&&(S&&S(T),F=d[T],delete d[T],K&&f.emit("delete",T,F))},clear:function(){var T=d;_&&_(),d=u(null),f.emit("clear",T)},on:function(T,F){return T==="get"?A=!0:T==="set"?M=!0:T==="delete"&&(K=!0),a.call(this,T,F)},emit:h,updateEnv:function(){p=f.original}},y?b=t(function(T){var F,U=arguments;x&&(U=x(U)),F=y(U),F!==null&&f.delete(F)},m):w===0?b=function(){return f.delete("data")}:b=function(T){return x&&(T=x(arguments)[0]),f.delete(T)},g=t(function(){var T,F=arguments;return w===0?d.data:(x&&(F=x(F)),y?T=y(F):T=String(F[0]),d[T])}),$=t(function(){var T,F=arguments;return w===0?f.has("data"):(x&&(F=x(F)),y?T=y(F):T=String(F[0]),T===null?!1:f.has(T))}),c(J,{__memoized__:r(!0),delete:r(b),clear:r(f.clear),_get:r(g),_has:r($)}),f},Js}var Qs,Bl;function Sg(){if(Bl)return Qs;Bl=1;var e=Ut(),t=Dn(),r=ir(),n=Eg(),i=Xp();return Qs=function o(s){var l,u,c;if(e(s),l=Object(arguments[1]),l.async&&l.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(s,"__memoized__")&&!l.force?s:(u=i(l.length,s.length,l.async&&r.async),c=n(s,u,l),t(r,function(a,h){l[h]&&a(l[h],c,l)}),o.__profiler__&&o.__profiler__(c),c.updateEnv(),c.memoized)},Qs}var Zs,Hl;function bg(){return Hl||(Hl=1,Zs=function(e){var t,r,n=e.length;if(!n)return"";for(t=String(e[r=0]);--n;)t+=""+e[++r];return t}),Zs}var eo,zl;function Rg(){return zl||(zl=1,eo=function(e){return e?function(t){for(var r=String(t[0]),n=0,i=e;--i;)r+=""+t[++n];return r}:function(){return""}}),eo}var to,Wl;function $g(){return Wl||(Wl=1,to=function(){var e=Number.isNaN;return typeof e!="function"?!1:!e({})&&e(NaN)&&!e(34)}),to}var ro,Xl;function Og(){return Xl||(Xl=1,ro=function(e){return e!==e}),ro}var no,Kl;function Ig(){return Kl||(Kl=1,no=$g()()?Number.isNaN:Og()),no}var io,Yl;function Fa(){if(Yl)return io;Yl=1;var e=Ig(),t=nr(),r=wr(),n=Array.prototype.indexOf,i=Object.prototype.hasOwnProperty,o=Math.abs,s=Math.floor;return io=function(l){var u,c,a,h;if(!e(l))return n.apply(this,arguments);for(c=t(r(this).length),a=arguments[1],isNaN(a)?a=0:a>=0?a=s(a):a=t(this.length)-s(o(a)),u=a;u<c;++u)if(i.call(this,u)&&(h=this[u],e(h)))return u;return-1},io}var so,Jl;function Pg(){if(Jl)return so;Jl=1;var e=Fa(),t=Object.create;return so=function(){var r=0,n=[],i=t(null);return{get:function(o){var s=0,l=n,u,c=o.length;if(c===0)return l[c]||null;if(l=l[c]){for(;s<c-1;){if(u=e.call(l[0],o[s]),u===-1)return null;l=l[1][u],++s}return u=e.call(l[0],o[s]),u===-1?null:l[1][u]||null}return null},set:function(o){var s=0,l=n,u,c=o.length;if(c===0)l[c]=++r;else{for(l[c]||(l[c]=[[],[]]),l=l[c];s<c-1;)u=e.call(l[0],o[s]),u===-1&&(u=l[0].push(o[s])-1,l[1].push([[],[]])),l=l[1][u],++s;u=e.call(l[0],o[s]),u===-1&&(u=l[0].push(o[s])-1),l[1][u]=++r}return i[r]=o,r},delete:function(o){var s=0,l=n,u,c=i[o],a=c.length,h=[];if(a===0)delete l[a];else if(l=l[a]){for(;s<a-1;){if(u=e.call(l[0],c[s]),u===-1)return;h.push(l,u),l=l[1][u],++s}if(u=e.call(l[0],c[s]),u===-1)return;for(o=l[1][u],l[0].splice(u,1),l[1].splice(u,1);!l[0].length&&h.length;)u=h.pop(),l=h.pop(),l[0].splice(u,1),l[1].splice(u,1)}delete i[o]},clear:function(){n=[],i=t(null)}}},so}var oo,Ql;function Tg(){if(Ql)return oo;Ql=1;var e=Fa();return oo=function(){var t=0,r=[],n=[];return{get:function(i){var o=e.call(r,i[0]);return o===-1?null:n[o]},set:function(i){return r.push(i[0]),n.push(++t),t},delete:function(i){var o=e.call(n,i);o!==-1&&(r.splice(o,1),n.splice(o,1))},clear:function(){r=[],n=[]}}},oo}var ao,Zl;function xg(){if(Zl)return ao;Zl=1;var e=Fa(),t=Object.create;return ao=function(r){var n=0,i=[[],[]],o=t(null);return{get:function(s){for(var l=0,u=i,c;l<r-1;){if(c=e.call(u[0],s[l]),c===-1)return null;u=u[1][c],++l}return c=e.call(u[0],s[l]),c===-1?null:u[1][c]||null},set:function(s){for(var l=0,u=i,c;l<r-1;)c=e.call(u[0],s[l]),c===-1&&(c=u[0].push(s[l])-1,u[1].push([[],[]])),u=u[1][c],++l;return c=e.call(u[0],s[l]),c===-1&&(c=u[0].push(s[l])-1),u[1][c]=++n,o[n]=s,n},delete:function(s){for(var l=0,u=i,c,a=[],h=o[s];l<r-1;){if(c=e.call(u[0],h[l]),c===-1)return;a.push(u,c),u=u[1][c],++l}if(c=e.call(u[0],h[l]),c!==-1){for(s=u[1][c],u[0].splice(c,1),u[1].splice(c,1);!u[0].length&&a.length;)c=a.pop(),u=a.pop(),u[0].splice(c,1),u[1].splice(c,1);delete o[s]}},clear:function(){i=[[],[]],o=t(null)}}},ao}var ef={},co,tf;function eh(){if(tf)return co;tf=1;var e=Ut(),t=Dn(),r=Function.prototype.call;return co=function(n,i){var o={},s=arguments[2];return e(i),t(n,function(l,u,c,a){o[u]=r.call(i,s,l,u,c,a)}),o},co}var uo,rf;function qa(){if(rf)return uo;rf=1;var e=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r},t=function(r){var n=document.createTextNode(""),i,o,s=0;return new r(function(){var l;if(i)o&&(i=o.concat(i));else{if(!o)return;i=o}if(o=i,i=null,typeof o=="function"){l=o,o=null,l();return}for(n.data=s=++s%2;o;)l=o.shift(),o.length||(o=null),l()}).observe(n,{characterData:!0}),function(l){if(e(l),i){typeof i=="function"?i=[i,l]:i.push(l);return}i=l,n.data=s=++s%2}};return uo=function(){if(typeof process=="object"&&process&&typeof process.nextTick=="function")return process.nextTick;if(typeof queueMicrotask=="function")return function(r){queueMicrotask(e(r))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return t(MutationObserver);if(typeof WebKitMutationObserver=="function")return t(WebKitMutationObserver)}return typeof setImmediate=="function"?function(r){setImmediate(e(r))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(r){setTimeout(e(r),0)}:null}(),uo}var nf;function Ag(){if(nf)return ef;nf=1;var e=ka(),t=eh(),r=Yp(),n=Jp(),i=qa(),o=Array.prototype.slice,s=Function.prototype.apply,l=Object.create;return ir().async=function(u,c){var a=l(null),h=l(null),p=c.memoized,w=c.original,E,d,f;c.memoized=n(function(m){var y=arguments,v=y[y.length-1];return typeof v=="function"&&(E=v,y=o.call(y,0,-1)),p.apply(d=this,f=y)},p);try{r(c.memoized,p)}catch{}c.on("get",function(m){var y,v,S;if(E){if(a[m]){typeof a[m]=="function"?a[m]=[a[m],E]:a[m].push(E),E=null;return}y=E,v=d,S=f,E=d=f=null,i(function(){var _;hasOwnProperty.call(h,m)?(_=h[m],c.emit("getasync",m,S,v),s.call(y,_.context,_.args)):(E=y,d=v,f=S,p.apply(v,S))})}}),c.original=function(){var m,y,v,S;return E?(m=e(arguments),y=function _(b){var g,$,I=_.id;if(I==null){i(s.bind(_,this,arguments));return}if(delete _.id,g=a[I],delete a[I],!!g)return $=e(arguments),c.has(I)&&(b?c.delete(I):(h[I]={context:this,args:$},c.emit("setasync",I,typeof g=="function"?1:g.length))),typeof g=="function"?S=s.call(g,this,$):g.forEach(function(A){S=s.call(A,this,$)},this),S},v=E,E=d=f=null,m.push(y),S=s.call(w,this,m),y.cb=v,E=y,S):s.call(w,this,arguments)},c.on("set",function(m){if(!E){c.delete(m);return}a[m]?typeof a[m]=="function"?a[m]=[a[m],E.cb]:a[m].push(E.cb):a[m]=E.cb,delete E.cb,E.id=m,E=null}),c.on("delete",function(m){var y;hasOwnProperty.call(a,m)||h[m]&&(y=h[m],delete h[m],c.emit("deleteasync",m,o.call(y.args,1)))}),c.on("clear",function(){var m=h;h=l(null),c.emit("clearasync",t(m,function(y){return o.call(y.args,1)}))})},ef}var sf={},lo,of;function Cg(){if(of)return lo;of=1;var e=Array.prototype.forEach,t=Object.create;return lo=function(r){var n=t(null);return e.call(arguments,function(i){n[i]=!0}),n},lo}var fo,af;function th(){return af||(af=1,fo=function(e){return typeof e=="function"}),fo}var po,cf;function Ng(){if(cf)return po;cf=1;var e=th();return po=function(t){try{return t&&e(t.toString)?t.toString():String(t)}catch{throw new TypeError("Passed argument cannot be stringifed")}},po}var ho,uf;function Lg(){if(uf)return ho;uf=1;var e=wr(),t=Ng();return ho=function(r){return t(e(r))},ho}var mo,lf;function Dg(){if(lf)return mo;lf=1;var e=th();return mo=function(t){try{return t&&e(t.toString)?t.toString():String(t)}catch{return"<Non-coercible to string value>"}},mo}var yo,ff;function kg(){if(ff)return yo;ff=1;var e=Dg(),t=/[\n\r\u2028\u2029]/g;return yo=function(r){var n=e(r);return n.length>100&&(n=n.slice(0,99)+"…"),n=n.replace(t,function(i){return JSON.stringify(i).slice(1,-1)}),n},yo}var Kr={exports:{}},df;function rh(){if(df)return Kr.exports;df=1,Kr.exports=e,Kr.exports.default=e;function e(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}return Kr.exports}var pf;function Fg(){if(pf)return sf;pf=1;var e=eh(),t=Cg(),r=Lg(),n=kg(),i=rh(),o=qa(),s=Object.create,l=t("then","then:finally","done","done:finally");return ir().promise=function(u,c){var a=s(null),h=s(null),p=s(null);if(u===!0)u=null;else if(u=r(u),!l[u])throw new TypeError("'"+n(u)+"' is not valid promise mode");c.on("set",function(w,E,d){var f=!1;if(!i(d)){h[w]=d,c.emit("setasync",w,1);return}a[w]=1,p[w]=d;var m=function(_){var b=a[w];if(f)throw new Error(`Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)
Consider to rely on 'then' or 'done' mode instead.`);b&&(delete a[w],h[w]=_,c.emit("setasync",w,b))},y=function(){f=!0,a[w]&&(delete a[w],delete p[w],c.delete(w))},v=u;if(v||(v="then"),v==="then"){var S=function(){o(y)};d=d.then(function(_){o(m.bind(this,_))},S),typeof d.finally=="function"&&d.finally(S)}else if(v==="done"){if(typeof d.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");d.done(m,y)}else if(v==="done:finally"){if(typeof d.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if(typeof d.finally!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");d.done(m),d.finally(y)}}),c.on("get",function(w,E,d){var f;if(a[w]){++a[w];return}f=p[w];var m=function(){c.emit("getasync",w,E,d)};i(f)?typeof f.done=="function"?f.done(m):f.then(function(){o(m)}):m()}),c.on("delete",function(w){if(delete p[w],a[w]){delete a[w];return}if(hasOwnProperty.call(h,w)){var E=h[w];delete h[w],c.emit("deleteasync",w,[E])}}),c.on("clear",function(){var w=h;h=s(null),a=s(null),p=s(null),c.emit("clearasync",e(w,function(E){return[E]}))})},sf}var hf={},mf;function qg(){if(mf)return hf;mf=1;var e=Ut(),t=Dn(),r=ir(),n=Function.prototype.apply;return r.dispose=function(i,o,s){var l;if(e(i),s.async&&r.async||s.promise&&r.promise){o.on("deleteasync",l=function(u,c){n.call(i,null,c)}),o.on("clearasync",function(u){t(u,function(c,a){l(a,c)})});return}o.on("delete",l=function(u,c){i(c)}),o.on("clear",function(u){t(u,function(c,a){l(a,c)})})},hf}var yf={},vo,vf;function Ug(){return vf||(vf=1,vo=2147483647),vo}var wo,wf;function jg(){if(wf)return wo;wf=1;var e=nr(),t=Ug();return wo=function(r){if(r=e(r),r>t)throw new TypeError(r+" exceeds maximum possible timeout");return r},wo}var gf;function Mg(){if(gf)return yf;gf=1;var e=ka(),t=Dn(),r=qa(),n=rh(),i=jg(),o=ir(),s=Function.prototype,l=Math.max,u=Math.min,c=Object.create;return o.maxAge=function(a,h,p){var w,E,d,f;a=i(a),a&&(w=c(null),E=p.async&&o.async||p.promise&&o.promise?"async":"",h.on("set"+E,function(m){w[m]=setTimeout(function(){h.delete(m)},a),typeof w[m].unref=="function"&&w[m].unref(),f&&(f[m]&&f[m]!=="nextTick"&&clearTimeout(f[m]),f[m]=setTimeout(function(){delete f[m]},d),typeof f[m].unref=="function"&&f[m].unref())}),h.on("delete"+E,function(m){clearTimeout(w[m]),delete w[m],f&&(f[m]!=="nextTick"&&clearTimeout(f[m]),delete f[m])}),p.preFetch&&(p.preFetch===!0||isNaN(p.preFetch)?d=.333:d=l(u(Number(p.preFetch),1),0),d&&(f={},d=(1-d)*a,h.on("get"+E,function(m,y,v){f[m]||(f[m]="nextTick",r(function(){var S;f[m]==="nextTick"&&(delete f[m],h.delete(m),p.async&&(y=e(y),y.push(s)),S=h.memoized.apply(v,y),p.promise&&n(S)&&(typeof S.done=="function"?S.done(s,s):S.then(s,s)))}))}))),h.on("clear"+E,function(){t(w,function(m){clearTimeout(m)}),w={},f&&(t(f,function(m){m!=="nextTick"&&clearTimeout(m)}),f={})}))},yf}var _f={},go,Ef;function Gg(){if(Ef)return go;Ef=1;var e=nr(),t=Object.create,r=Object.prototype.hasOwnProperty;return go=function(n){var i=0,o=1,s=t(null),l=t(null),u=0,c;return n=e(n),{hit:function(a){var h=l[a],p=++u;if(s[p]=a,l[a]=p,!h)return++i,i<=n?void 0:(a=s[o],c(a),a);if(delete s[h],o===h)for(;!r.call(s,++o););},delete:c=function(a){var h=l[a];if(h&&(delete s[h],delete l[a],--i,o===h)){if(!i){u=0,o=1;return}for(;!r.call(s,++o););}},clear:function(){i=0,o=1,s=t(null),l=t(null),u=0}}},go}var Sf;function Vg(){if(Sf)return _f;Sf=1;var e=nr(),t=Gg(),r=ir();return r.max=function(n,i,o){var s,l,u;n=e(n),n&&(l=t(n),s=o.async&&r.async||o.promise&&r.promise?"async":"",i.on("set"+s,u=function(c){c=l.hit(c),c!==void 0&&i.delete(c)}),i.on("get"+s,u),i.on("delete"+s,l.delete),i.on("clear"+s,l.clear))},_f}var bf={},Rf;function Bg(){if(Rf)return bf;Rf=1;var e=sr(),t=ir(),r=Object.create,n=Object.defineProperties;return t.refCounter=function(i,o,s){var l,u;l=r(null),u=s.async&&t.async||s.promise&&t.promise?"async":"",o.on("set"+u,function(c,a){l[c]=a||1}),o.on("get"+u,function(c){++l[c]}),o.on("delete"+u,function(c){delete l[c]}),o.on("clear"+u,function(){l={}}),n(o.memoized,{deleteRef:e(function(){var c=o.get(arguments);return c===null||!l[c]?null:--l[c]?!1:(o.delete(c),!0)}),getRefCount:e(function(){var c=o.get(arguments);return c===null||!l[c]?0:l[c]})})},bf}var _o,$f;function Hg(){if($f)return _o;$f=1;var e=Wp(),t=Xp(),r=Sg();return _o=function(n){var i=e(arguments[1]),o;return i.normalizer||(o=i.length=t(i.length,n.length,i.async),o!==0&&(i.primitive?o===!1?i.normalizer=bg():o>1&&(i.normalizer=Rg()(o)):o===!1?i.normalizer=Pg()():o===1?i.normalizer=Tg()():i.normalizer=xg()(o))),i.async&&Ag(),i.promise&&Fg(),i.dispose&&qg(),i.maxAge&&Mg(),i.max&&Vg(),i.refCounter&&Bg(),r(n,i)},_o}var zg=Hg();const Ue=Oe(zg);async function me(e){try{return await Vm.access(e),!0}catch{return!1}}function Wg(e){try{return Um.accessSync(e),!0}catch{return!1}}function Xg(){if(yr()&&typeof process.env.SUDO_USER=="string"&&process.env.SUDO_USER!=="")return process.platform==="darwin"?Z("/Users/",process.env.SUDO_USER):Z("/home/",process.env.SUDO_USER);{const e=sp();return e===""?void 0:e}}const Kg=/^~(?=$|\/|\\)/;function at(e){const t=Xg();return t===void 0?e:e.replace(Kg,t)}const{appendFile:nh,readFile:Ua,writeFile:Yg}=Rn,ih=at("~/.bashrc");async function Jg(e){const t=e.guard===void 0?`
source "${e.rcPath}"
`:`
# ${e.guard}
if [[ "$SOURCE_${e.guard.toUpperCase()}RC" != 0 && -f "${e.rcPath}" ]]; then source "${e.rcPath}"; fi
`;try{await Promise.all([Qg(e),Of(t,at("~/.bashrc")),Of(t,at("~/.profile"))])}catch(r){_e(`Failed to add ${t} to .profile or .bashrc. You should add it manually: ${r}`)}}const ja=Ue(Jg,{promise:!0});async function Qg(e){const t=e.guard===void 0?`
# Automatically Generated by envosman
`:`
# Automatically Generated by envosman ${e.guard}
export SOURCE_${e.guard.toUpperCase()}RC=0
`;await me(e.rcPath)&&((await Ua(e.rcPath,"utf8")).includes(t)||(await nh(e.rcPath,`
${t}
`),W(`Added ${t} to ${e.rcPath}`)))}async function Of(e,t){await me(t)&&((await Ua(t,"utf-8")).includes(e)||(await nh(t,e),W(`${e} was added to ${t}`)))}async function Zg(e){if(await me(e.rcPath)){const t=(await Ua(e.rcPath,"utf-8")).split(`
`),r=[...new Set(t.reverse())].reverse();await Yg(e.rcPath,r.join(`
`)),await vr(e.rcPath)}}var Eo,If;function e_(){if(If)return Eo;If=1;const e=nt,t=e.platform()!=="win32",r=e.release(),n=/(\d+\.\d+)\.(\d+)/,i=(o="",s="")=>/1\d+\.\d+/.test(o)&&Number(s)>=17134.1184;return Eo=function(o){return t?o.replace(/(\s+)/g,"\\$1"):i(...n.exec(r).splice(1))?o:o.replace(/(\s+)/g,"%20")},Eo}var t_=e_();const r_=Oe(t_);var rn={exports:{}},So,Pf;function n_(){if(Pf)return So;Pf=1;var e=/[|\\{}()[\]^$+*?.]/g;return So=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(e,"\\$&")},So}var i_=rn.exports,Tf;function s_(){return Tf||(Tf=1,function(){var e,t;e=n_(),t=function(r){return r.split("").reverse().join("")},rn.exports=function(r,n,i){var o;return n==null&&(n="'"),i==null&&(i="\\"),typeof r!="string"?r:(o=new RegExp("(["+e(n)+"])(?!"+e(i)+")","g"),t(t(r).replace(o,"$1"+i)))}}.call(i_)),rn.exports}var o_=s_();const a_=Oe(o_);function c_(e,t=!1){const r=t?r_(e):e;return a_(r,'"',"\\")}const{GITHUB_ACTIONS:u_}=Tt,{appendFile:xf}=Rn;async function Ie(e,t,r={}){const n={escapeSpace:!1,overwrite:!0,rcPath:ih,...r},i=c_(t??"",n.escapeSpace);try{if(u_)try{if(!n.overwrite&&process.env[e]!==void 0){W(`Environment variable ${e} is already defined. Skipping.`);return}Ee.exportVariable(e,i)}catch(o){De(o),await Af(e,i,n)}else await Af(e,i,n)}catch(o){De(`${o}
Failed to export environment variable ${e}=${i}. You should add it manually.`)}}async function Af(e,t,r){const n=t??"";switch(process.platform){case"win32":{if(!r.overwrite&&process.env[e]!==void 0){W(`Environment variable ${e} is already defined. Skipping.`);return}await Vp(`[Environment]::SetEnvironmentVariable('${e}', '${n}', "User")`),W(`${e}='${n}' was set in the environment.`);return}case"linux":case"darwin":{await ja(r),r.overwrite?(await xf(r.rcPath,`
export ${e}="${n}"
`),W(`${e}="${n}" was added to "${r.rcPath}`)):(await xf(r.rcPath,`
if [ -z "\${${e}}" ]; then export ${e}="${n}"; fi
`),W(`if not defined ${e} then ${e}="${n}" was added to "${r.rcPath}`)),process.env[e]=n;return}}process.env[e]=n}const{GITHUB_ACTIONS:l_}=Tt,{appendFile:f_}=Rn;async function Re(e,t={}){const r={rcPath:ih,...t};if(!p_(e)){process.env.PATH=`${e}${ln}${process.env.PATH}`;try{if(l_)try{Ee.addPath(e)}catch(n){De(n),await Cf(e,r)}else await Cf(e,r)}catch(n){De(`${n}
Failed to add ${e} to the percistent PATH. You should add it manually.`)}}}async function Cf(e,t){switch(process.platform){case"win32":{await Vp(`$USER_PATH=([Environment]::GetEnvironmentVariable("PATH", "User")); [Environment]::SetEnvironmentVariable("PATH", "${e};$USER_PATH", "User")`),W(`"${e}" was added to the PATH.`);return}case"linux":case"darwin":{await ja(t),await f_(t.rcPath,`
export PATH="${e}:$PATH"
`),W(`"${e}" was added to "${t.rcPath}"`);return}default:return}}const d_=[/\/usr\/bin\/?/,/\/usr\/local\/bin\/?/];function p_(e){return d_.some(t=>t.test(e))?(process.env.PATH?.split(ln)??[]).includes(e):!1}function Ma(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nn={exports:{}},h_=nn.exports,Nf;function sh(){return Nf||(Nf=1,function(e){(function(){var t={},r={create:n,addLocale:i,pluralize:o};e.exports=r;function n(c){return l(c),{pluralize:function(a,h){return o(c,a,h)}}}function i(c,a){t[c]=a}function o(c,a,h){if(l(c),typeof h!="object")throw new Error("List of variants should be specified as an object");var p=t[c](a);return typeof h[p]<"u"?h[p]:null}function s(c){return typeof t[c]<"u"}function l(c){s(c)||u(c)}function u(c){try{Ma(__dirname+"/../locales/"+c+".js")}catch{throw Error("Failed to load the following locale: "+c)}}}).call(h_)}(nn)),nn.exports}var bo,Lf;function oh(){return Lf||(Lf=1,bo=sh()),bo}var m_=oh();const y_=Oe(m_);var Ro={},Df;function v_(){return Df||(Df=1,function(){var e=this,t;typeof Ma=="function"?t=sh():t=e.numerous,t.addLocale("en",function(n){var i=Math.floor(Math.abs(n)),o=n.toString().replace(/^[^.]*\.?/,"").length;return typeof n=="string"&&(n=parseInt(n,10)),i===1&&o===0?"one":"other"})}.call(Ro)),Ro}var w_=v_();const g_=Oe(w_);var $o={exports:{}},kf;function __(){return kf||(kf=1,function(e,t){e.exports=!!(typeof process<"u"&&process.versions&&process.versions.node)}($o)),$o.exports}var Oo,Ff;function E_(){if(Ff)return Oo;Ff=1;const e=oh(),t=__(),r=[["years",12*4*7*24*60*60*1e3],["months",4*7*24*60*60*1e3],["weeks",7*24*60*60*1e3],["days",24*60*60*1e3],["hours",60*60*1e3],["minutes",60*1e3],["seconds",1e3]],n={locale:"en",span:2,delimiter:", ",unitType:"long",unitTypeLookupOrder:["long","short","narrow"],autoloadLocales:!0},i={};Oo={create:s,addLocale:o,defaultConfig:n};function o(d){Array.isArray(d)||(d=[d]);for(const f of d){const{id:m,data:y}=f;i[m]=y}}function s(d){return d=Object.assign({},n,d||{}),{format:function(f,m,y){return y=Object.assign({},d,y||{}),l(f,m,y)}}}function l(d,f,m){if(u(m.locale,{autoload:m.autoloadLocales}),!d)throw new Error("Missing first date argument");if(!f)throw new Error("Missing second date argument");const y=h(d,f),v=[];for(const S of y){const[_,b]=S;if(b>0&&v.push(p(_,b,m)),v.length>=m.span)break}return v.join(m.delimiter)}function u(d,f){const{autoload:m}=f;if(!c(d))if(t&&m)a(d);else throw new Error(`Missing locale: ${d}, you must load it manually before using it`)}function c(d){return!!i[d]}function a(d){try{o(Ma(`../locales/${d}.js`))}catch(f){throw Error(`Failed to load locale: ${d} from ../locales/${d}.js. If using a bundled time-delta, set 'autoloadLocales: false' in the config: ${f}`)}}function h(d,f){let m=f-d;const y=[];return r.some(function(v){const S=v[0],_=v[1],b=Math.floor(m/_);if(m-=b*_,y.push([S,b]),m<=0)return!0}),y}function p(d,f,m){const y=w(m);return e.pluralize(m.locale,f,y[d]).replace("{0}",f)}function w(d){const f=i[d.locale];let m=d.unitTypeLookupOrder.slice();m.unshift(d.unitType),m=E(m);let y=null;if(m.some(function(v){if(typeof f[v]<"u")return y=f[v],!0}),y===null)throw new Error("Can not find any unit type data for locale: "+d.locale);return y}function E(d){return Array.from(new Set(d))}return Oo}var Io,qf;function S_(){return qf||(qf=1,Io=E_()),Io}var b_=S_();const Uf=Oe(b_);var Po,jf;function R_(){return jf||(jf=1,Po={id:"en",data:{long:{years:{one:"{0} year",other:"{0} years"},months:{one:"{0} month",other:"{0} months"},weeks:{one:"{0} week",other:"{0} weeks"},days:{one:"{0} day",other:"{0} days"},hours:{one:"{0} hour",other:"{0} hours"},minutes:{one:"{0} minute",other:"{0} minutes"},seconds:{one:"{0} second",other:"{0} seconds"}},narrow:{years:{one:"{0}y",other:"{0}y"},months:{one:"{0}m",other:"{0}m"},weeks:{one:"{0}w",other:"{0}w"},days:{one:"{0}d",other:"{0}d"},hours:{one:"{0}h",other:"{0}h"},minutes:{one:"{0}m",other:"{0}m"},seconds:{one:"{0}s",other:"{0}s"}},short:{years:{one:"{0} yr",other:"{0} yrs"},months:{one:"{0} mth",other:"{0} mths"},weeks:{one:"{0} wk",other:"{0} wks"},days:{one:"{0} day",other:"{0} days"},hours:{one:"{0} hr",other:"{0} hr"},minutes:{one:"{0} min",other:"{0} min"},seconds:{one:"{0} sec",other:"{0} sec"}}}}),Po}var $_=R_();const O_=Oe($_);var I_=Ep();const Fn=Oe(I_);function hn(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var To,Mf;function P_(){if(Mf)return To;Mf=1;var e=ue;function t(n,i){if(typeof n!="string"||n.length===0)return n;var o=e.basename(n,e.extname(n))+i,s=e.join(e.dirname(n),o);return r(n)?"."+e.sep+s:s}function r(n){var i=n.slice(0,2);return i==="."+e.sep||i==="./"}return To=t,To}var T_=P_();const x_=Oe(T_);function Et(e,t){return Object.keys(t).forEach(r=>{r==="default"||r==="__esModule"||e.hasOwnProperty(r)||Object.defineProperty(e,r,{enumerable:!0,get(){return t[r]}})}),e}function xt(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function A_(e,t=!0){return t?Zt(e):Zt(e,bn(e))}function C_(e){return xm(e).replace(RegExp(hn(op)+"$"),"")}function ge(e,t=".exe",r=""){return process.platform==="win32"?`${e}${t}`:`${e}${r}`}function N_(e,t){const r=bn(e),n=`${t}${Zt(e,r)}${r}`;return Z(Pe(e),n)}function L_(e,t){const r=bn(e),n=`${Zt(e,r)}${t}${r}`;return Z(Pe(e),n)}function Ea(e,t=".cmd",r=".sh"){return process.platform==="win32"?`${e}${t}`:`${e}${r}`}function ah(e){return process.platform==="win32"?e:"./"+e}function D_(e){const t=bn(e).length;return e.slice(0,-t)}function k_(e,t){return x_(e,t)}function F_(e,t){const r=Am(t,e);return!(!r||r===".."||r.startsWith(".."+op)||r===ap(e))}var St={},ch={};xt(ch,"name",()=>A_);var uh={};xt(uh,"normalizeTrim",()=>C_);var lh={};xt(lh,"addExeExt",()=>ge);var fh={};xt(fh,"addNamePrefix",()=>N_);var dh={};xt(dh,"addNameSuffix",()=>L_);var ph={};xt(ph,"addShExt",()=>Ea);var hh={};xt(hh,"addShRelativePrefix",()=>ah);var mh={};xt(mh,"removeExt",()=>D_);var yh={};xt(yh,"replaceExt",()=>k_);var Gf={};xt(Gf,"isPathInside",()=>F_),Et(St,ch),Et(St,uh),Et(St,lh),Et(St,fh),Et(St,dh),Et(St,ph),Et(St,hh),Et(St,mh),Et(St,yh),Et(St,Gf);var q_=Sp();const vh=Oe(q_);function wh(){if(process.platform!=="linux")return!1;try{return Wg("/etc/alpine-release")}catch{return!1}}async function U_(){if(!wh())return!1;try{return await pe("apk"),!0}catch{return!1}}const be=Ue(U_,{promise:!0});async function j_(){await le("apk",["update"],{stdio:"inherit"})}const mn=Ue(j_,{promise:!0});async function M_(e){if(!await be())throw new Error("apk is not available on this system");try{const t="/etc/apk/repositories";if(!await me(t))throw new Error(`APK repositories file not found at ${t}`);return W(`Adding repository: ${e}`),await zm(t,`${e}
`),await mn.clear(),await mn(),W(`Successfully added repository: ${e}`),!0}catch(t){throw new Error(`Failed to add repository ${e}: ${t}`)}}async function gh(){const e=(await G_()).split(".").slice(0,2).join(".");return M_(`https://dl-cdn.alpinelinux.org/alpine/v${e}/community/`)}async function G_(){const e="/etc/alpine-release";if(!await me(e))throw new Error(`Alpine release file not found at ${e}`);return In(e,"utf8")}async function V_(e){try{const{exitCode:t}=await yt("apk",["info","-e",e.name],{reject:!1,stdio:["ignore","pipe","ignore"]});if(t!==0)return!1;if(e.version===void 0||e.version==="")return!0;const{stdout:r}=await yt("apk",["info","-v",e.name],{stdio:["ignore","pipe","ignore"]});return r.trim().split("-").slice(-1)[0]===e.version}catch{return!1}}async function _h(e){return(await Promise.all(e.map(async r=>await V_(r)?void 0:r))).filter(r=>r!==void 0).map(Eh)}function Eh(e){return e.version!==void 0&&e.version!==""?`${e.name}=${e.version}`:e.name}async function B_(){const e=await _h([{name:"bash"}]);e.length!==0&&he("apk",["add",...e],{...vt})}const H_=Ue(B_,{promise:!0});async function Ne(e,t=!1){if(!await be())throw new Error("apk is not available on this system");try{await H_(),t&&await mn.clear(),await mn();const r=await _h(e);return r.length===0?(W("All packages are already installed"),{binDir:"/usr/bin"}):(W(`Installing ${r.join(" ")}`),await yt("apk",["add",...r]),W(`Successfully installed ${r.join(" ")}`),{binDir:"/usr/bin"})}catch(r){throw _e(`Failed to install ${e.map(n=>Eh(n)).join(" ")}: ${r}`),r}}const{GITHUB_ACTIONS:z_}=Tt,{appendFile:W_}=Rn;async function X_(e,t,r=40){await yt("update-alternatives",["--install",`/usr/bin/${e}`,e,t,r.toString()])}async function mt(e,t,r,n=40){z_?await X_(e,t,n):(await ja(r),await W_(r.rcPath,`
if [ $UID -eq 0 ]; then update-alternatives --install /usr/bin/${e} ${e} ${t} ${n}; fi
`))}var xo={},Vf;function K_(){return Vf||(Vf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DownloaderHelper=e.DH_STATES=void 0;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},r=function(){function y(v,S){for(var _,b=0;b<S.length;b++)_=S[b],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}return function(v,S,_){return S&&y(v.prototype,S),_&&y(v,_),v}}(),n=qe,i=w(n),o=Xm,s=ue,l=w(s),u=dp,c=w(u),a=$a,h=w(a),p=$n;function w(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(v[S]=y[S]);return v.default=y,v}function E(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function f(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=e.DH_STATES={IDLE:"IDLE",SKIPPED:"SKIPPED",STARTED:"STARTED",DOWNLOADING:"DOWNLOADING",RETRY:"RETRY",PAUSED:"PAUSED",RESUMED:"RESUMED",STOPPED:"STOPPED",FINISHED:"FINISHED",FAILED:"FAILED"};e.DownloaderHelper=function(y){function v(S,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};E(this,v);var g=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,{captureRejections:!0}));return g.__validate(S,_)?(g.url=g.requestURL=S.trim(),g.state=m.IDLE,g.__defaultOpts={body:null,retry:!1,method:"GET",headers:{},fileName:"",timeout:-1,metadata:null,override:!1,forceResume:!1,removeOnStop:!0,removeOnFail:!0,progressThrottle:1e3,httpRequestOptions:{},httpsRequestOptions:{},resumeOnIncomplete:!0,resumeIfFileExists:!1,resumeOnIncompleteMaxRetry:5},g.__opts=Object.assign({},g.__defaultOpts),g.__pipes=[],g.__total=0,g.__downloaded=0,g.__progress=0,g.__retryCount=0,g.__retryTimeout=null,g.__resumeRetryCount=0,g.__states=m,g.__promise=null,g.__request=null,g.__response=null,g.__isAborted=!1,g.__isResumed=!1,g.__isResumable=!1,g.__isRedirected=!1,g.__destFolder=_,g.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0},g.__fileName="",g.__filePath="",g.updateOptions(b),g):d(g)}return f(v,y),r(v,[{key:"start",value:function(){var _=this,b=function(){return new Promise(function(g,$){_.__promise={resolve:g,reject:$},_.__start()})};return this.__opts.resumeIfFileExists&&this.state!==this.__states.RESUMED?this.getTotalSize().then(function(g){var $=g.name,I=g.total,A=_.__opts.override;if(_.__opts.override=!0,_.__filePath=_.__getFilePath($),_.__opts.override=A,_.__filePath&&i.existsSync(_.__filePath)){var M=_.__getFilesizeInBytes(_.__filePath);return M===I?b():_.resumeFromFile(_.__filePath,{total:I,fileName:$})}return b()}):b()}},{key:"pause",value:function(){var _=this;return this.state===this.__states.STOPPED?Promise.resolve(!0):(this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(b){return b.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return _.__setState(_.__states.PAUSED),_.emit("pause"),!0}))}},{key:"resume",value:function(){return this.__promise?this.state===this.__states.STOPPED?Promise.resolve(!1):(this.__setState(this.__states.RESUMED),this.__isResumable&&(this.__isResumed=!0,this.__reqOptions.headers.range="bytes="+this.__downloaded+"-"),this.emit("resume",this.__isResumed),this.__start()):this.start()}},{key:"stop",value:function(){var _=this;if(this.state===this.__states.STOPPED)return Promise.resolve(!0);var b=function(){return new Promise(function(g,$){i.access(_.__filePath,function(I){return I?(_.__emitStop(),g(!0)):void i.unlink(_.__filePath,function(A){return A?(_.__setState(_.__states.FAILED),_.emit("error",A),$(A)):(_.__emitStop(),void g(!0))})})})};return this.__requestAbort(),this.__closeFileStream().then(function(){return _.__opts.removeOnStop?b():(_.__emitStop(),Promise.resolve(!0))})}},{key:"pipe",value:function(_){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null;return this.__pipes.push({stream:_,options:b}),_}},{key:"unpipe",value:function(){var _=this,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null,g=function(I){return _.__response?_.__response.unpipe(I):I.unpipe()};if(b){var $=this.__pipes.find(function(I){return I.stream===b});return void($&&(g(b),this.__pipes=this.__pipes.filter(function(I){return I.stream!==b})))}this.__pipes.forEach(function(I){return g(I.stream)}),this.__pipes=[]}},{key:"getDownloadPath",value:function(){return this.__filePath}},{key:"isResumable",value:function(){return this.__isResumable}},{key:"updateOptions",value:function(_){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";this.__opts=Object.assign({},this.__opts,_),this.__headers=this.__opts.headers,-1<this.__opts.timeout&&(this.__opts.httpRequestOptions.timeout=this.__opts.timeout,this.__opts.httpsRequestOptions.timeout=this.__opts.timeout),(typeof this.__opts.progressThrottle!="number"||0>this.__opts.progressThrottle)&&(this.__opts.progressThrottle=this.__defaultOpts.progressThrottle),this.url=b||this.url,this.__reqOptions=this.__getReqOptions(this.__opts.method,this.url,this.__opts.headers),this.__initProtocol(this.url)}},{key:"getOptions",value:function(){return this.__opts}},{key:"getMetadata",value:function(){return this.__opts.metadata}},{key:"getStats",value:function(){return{total:this.__total,name:this.__fileName,downloaded:this.__downloaded,progress:this.__progress,speed:this.__statsEstimate.bytes}}},{key:"getTotalSize",value:function(){var _=this;return new Promise(function(b,g){var $=function(A){_.__initProtocol(A);var M=Object.assign({},_.__headers);M.hasOwnProperty("range")&&delete M.range;var K=_.__getReqOptions("HEAD",A,M);return Object.assign({},_.__reqOptions,K)},I=function(A,M){var K=_.__protocol.request(M,function(J){if(_.__isRequireRedirect(J)){var x=/^https?:\/\//.test(J.headers.location)?J.headers.location:new o.URL(J.headers.location,A).href;return _.emit("redirected",x,A),I(x,$(x))}return J.statusCode===200?void b({name:_.__getFileNameFromHeaders(J.headers,J),total:parseInt(J.headers["content-length"])||null}):g(new Error("Response status was "+J.statusCode))});K.on("error",function(J){return g(J)}),K.on("timeout",function(){return g(new Error("timeout"))}),K.on("uncaughtException",function(J){return g(J)}),K.end()};I(_.url,$(_.url))})}},{key:"getResumeState",value:function(){return{downloaded:this.__downloaded,filePath:this.__filePath,fileName:this.__fileName,total:this.__total}}},{key:"resumeFromFile",value:function(_){var b=this,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return this.__opts.override=!0,this.__filePath=_,(g.total&&g.fileName?Promise.resolve({name:g.fileName,total:g.total}):this.getTotalSize()).then(function($){var I=$.name,A=$.total;return b.__total=g.total||A,b.__fileName=g.fileName||I,b.__downloaded=g.downloaded||b.__getFilesizeInBytes(b.__filePath),b.__reqOptions.headers.range="bytes="+b.__downloaded+"-",b.__isResumed=!0,b.__isResumable=!0,b.__setState(b.__states.RESUMED),b.emit("resume",b.__isResumed),new Promise(function(M,K){b.__promise={resolve:M,reject:K},b.__start()})})}},{key:"__start",value:function(){this.__isRedirected||this.state===this.__states.RESUMED||(this.emit("start"),this.__setState(this.__states.STARTED),this.__initProtocol(this.url)),this.__response=null,this.__isAborted=!1,this.__request&&!this.__request.destroyed&&this.__request.destroy(),this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__request=this.__downloadRequest(this.__promise.resolve,this.__promise.reject),this.__request.on("error",this.__onError(this.__promise.resolve,this.__promise.reject)),this.__request.on("timeout",this.__onTimeout(this.__promise.resolve,this.__promise.reject)),this.__request.on("uncaughtException",this.__onError(this.__promise.resolve,this.__promise.reject,!0)),this.__opts.body&&this.__request.write(this.__opts.body),this.__request.end()}},{key:"__resolvePending",value:function(){if(this.__promise){var _=this.__promise.resolve;return this.__promise=null,_(!0)}}},{key:"__downloadRequest",value:function(_,b){var g=this;return this.__protocol.request(this.__reqOptions,function($){if(g.__response=$,g.__isResumed||(g.__total=parseInt($.headers["content-length"])||null,g.__resetStats()),g.__isRequireRedirect($)){var I=/^https?:\/\//.test($.headers.location)?$.headers.location:new o.URL($.headers.location,g.url).href;return g.__isRedirected=!0,g.__initProtocol(I),g.emit("redirected",I,g.url),g.__start()}if($.statusCode!==200&&$.statusCode!==206){var A=new Error("Response status was "+$.statusCode);return A.status=$.statusCode||0,A.body=$.body||"",g.__setState(g.__states.FAILED),g.emit("error",A),b(A)}(g.__opts.forceResume||$.headers.hasOwnProperty("accept-ranges")&&$.headers["accept-ranges"]!=="none")&&(g.__isResumable=!0),g.__startDownload($,_,b)})}},{key:"__startDownload",value:function(_,b,g){var $=this,I=_;if(this.__isResumed)this.__fileStream=i.createWriteStream(this.__filePath,{flags:"a"});else{var A=this.__getFileNameFromHeaders(_.headers);if(this.__filePath=this.__getFilePath(A),this.__fileName=this.__filePath.split(l.sep).pop(),i.existsSync(this.__filePath)){var M=this.__getFilesizeInBytes(this.__filePath),K=this.__total?this.__total:0;if(t(this.__opts.override)==="object"&&this.__opts.override.skip&&(this.__opts.override.skipSmaller||M>=K))return this.emit("skip",{totalSize:this.__total,fileName:this.__fileName,filePath:this.__filePath,downloadedSize:M}),this.__setState(this.__states.SKIPPED),b(!0)}this.__fileStream=i.createWriteStream(this.__filePath,{})}this.emit("download",{fileName:this.__fileName,filePath:this.__filePath,totalSize:this.__total,isResumed:this.__isResumed,downloadedSize:this.__downloaded}),this.__retryCount=0,this.__isResumed=!1,this.__isRedirected=!1,this.__setState(this.__states.DOWNLOADING),this.__statsEstimate.time=new Date,this.__statsEstimate.throttleTime=new Date,I.on("data",function(J){return $.__calculateStats(J.length)}),this.__pipes.forEach(function(J){I.pipe(J.stream,J.options),I=J.stream}),I.pipe(this.__fileStream),I.on("error",this.__onError(b,g)),this.__fileStream.on("finish",this.__onFinished(b,g)),this.__fileStream.on("error",this.__onError(b,g))}},{key:"__hasFinished",value:function(){return!this.__isAborted&&[this.__states.PAUSED,this.__states.STOPPED,this.__states.RETRY,this.__states.FAILED,this.__states.RESUMED].indexOf(this.state)===-1}},{key:"__isRequireRedirect",value:function(_){return 300<_.statusCode&&400>_.statusCode&&_.headers.hasOwnProperty("location")&&_.headers.location}},{key:"__onFinished",value:function(_,b){var g=this;return function(){g.__fileStream.close(function($){if($)return b($);if(g.__hasFinished()){var I=!!g.__total&&g.__downloaded!==g.__total;if(I&&g.__isResumable&&g.__opts.resumeOnIncomplete&&g.__resumeRetryCount<=g.__opts.resumeOnIncompleteMaxRetry)return g.__resumeRetryCount++,g.emit("warning",new Error("uncomplete download, retrying")),g.resume();g.__setState(g.__states.FINISHED),g.__pipes=[],g.emit("end",{fileName:g.__fileName,filePath:g.__filePath,totalSize:g.__total,incomplete:I,onDiskSize:g.__getFilesizeInBytes(g.__filePath),downloadedSize:g.__downloaded})}return _(g.__downloaded===g.__total)})}}},{key:"__closeFileStream",value:function(){var _=this;return this.__fileStream?new Promise(function(b,g){_.__fileStream.close(function($){return $?g($):b(!0)})}):Promise.resolve(!0)}},{key:"__onError",value:function(_,b){var g=this,$=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function(I){return g.__pipes=[],$&&g.__requestAbort(),g.state===g.__states.STOPPED||g.state===g.__states.FAILED?void 0:g.__opts.retry?g.__retry(I).catch(function(A){g.__removeFile().finally(function(){g.__setState(g.__states.FAILED),g.emit("error",A||I),b(A||I)})}):g.__removeFile().finally(function(){g.__setState(g.__states.FAILED),g.emit("error",I),b(I)})}}},{key:"__retry",value:function(){var _=this,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:null;if(!this.__opts.retry||t(this.__opts.retry)!=="object")return Promise.reject(b||new Error("wrong retry options"));var g=this.__opts.retry,$=g.delay,I=$===void 0?0:$,A=g.maxRetries,M=A===void 0?999:A;return this.__retryCount>=M?Promise.reject(b||new Error("reached the maximum retries")):(this.__retryCount++,this.__setState(this.__states.RETRY),this.emit("retry",this.__retryCount,this.__opts.retry,b),this.__response&&(this.__response.unpipe(),this.__pipes.forEach(function(K){return K.stream.unpipe()})),this.__fileStream&&this.__fileStream.removeAllListeners(),this.__requestAbort(),this.__closeFileStream().then(function(){return new Promise(function(K){return _.__retryTimeout=setTimeout(function(){return K(0<_.__downloaded?_.resume():_.__start())},I)})}))}},{key:"__onTimeout",value:function(_,b){var g=this;return function(){return g.__requestAbort(),g.__opts.retry?g.__retry(new Error("timeout")).catch(function($){g.__removeFile().finally(function(){g.__setState(g.__states.FAILED),$?b($):(g.emit("timeout"),b(new Error("timeout")))})}):g.__removeFile().finally(function(){g.__setState(g.__states.FAILED),g.emit("timeout"),b(new Error("timeout"))})}}},{key:"__resetStats",value:function(){this.__retryCount=0,this.__downloaded=0,this.__progress=0,this.__resumeRetryCount=0,this.__statsEstimate={time:0,bytes:0,prevBytes:0,throttleTime:0}}},{key:"__getFileNameFromHeaders",value:function(_,b){var g="",$=/.*filename\*=.*?'.*?'([^"].+?[^"])(?:(?:;)|$)/i,I=/.*filename="(.*?)";?/i,A=/.*filename=([^"].+?[^"])(?:(?:;)|$)/i,M=_.hasOwnProperty("content-disposition"),K=M?_["content-disposition"].match($):null,J=!M||K?null:_["content-disposition"].match(I),x=!M||K||J?null:_["content-disposition"].match(A);return M&&(K||J||x)?(g=_["content-disposition"],g=g.trim(),K?g=K[1]:J?g=J[1]:x&&(g=x[1]),g=g.replace(/[/\\]/g,"")):0<l.basename(new o.URL(this.requestURL).pathname).length?g=l.basename(new o.URL(this.requestURL).pathname):g=new o.URL(this.requestURL).hostname+".html",this.__opts.fileName?this.__getFileNameFromOpts(g,b):g.replace(/\.*$/,"")}},{key:"__getFilePath",value:function(_){var b=l.join(this.__destFolder,_),g=b;return this.__opts.override||this.state===this.__states.RESUMED||(g=this.__uniqFileNameSync(g),b!==g&&this.emit("renamed",{path:g,fileName:g.split(l.sep).pop(),prevPath:b,prevFileName:b.split(l.sep).pop()})),g}},{key:"__getFileNameFromOpts",value:function(_,b){if(!this.__opts.fileName)return _;if(typeof this.__opts.fileName=="string")return this.__opts.fileName;if(typeof this.__opts.fileName=="function"){var g=l.join(this.__destFolder,_);return b&&b.headers||this.__response&&this.__response.headers?this.__opts.fileName(_,g,(b||this.__response).headers["content-type"]):this.__opts.fileName(_,g)}if(t(this.__opts.fileName)==="object"){var $=this.__opts.fileName,I=$.name,A=!!$.hasOwnProperty("ext")&&$.ext;if(typeof A=="string")return I+"."+A;if(typeof A=="boolean"){if(A)return I;var M=_.includes(".")?_.split(".").pop():"";return M===""?I:I+"."+M}}return _}},{key:"__calculateStats",value:function(_){var b=new Date,g=b-this.__statsEstimate.time,$=b-this.__statsEstimate.throttleTime,I=this.__total||0;_&&(this.__downloaded+=_,this.__progress=I===0?0:100*(this.__downloaded/I),(this.__downloaded===I||1e3<g)&&(this.__statsEstimate.time=b,this.__statsEstimate.bytes=this.__downloaded-this.__statsEstimate.prevBytes,this.__statsEstimate.prevBytes=this.__downloaded),(this.__downloaded===I||$>this.__opts.progressThrottle)&&(this.__statsEstimate.throttleTime=b,this.emit("progress.throttled",this.getStats())),this.emit("progress",this.getStats()))}},{key:"__setState",value:function(_){this.state=_,this.emit("stateChanged",this.state)}},{key:"__getReqOptions",value:function(_,b){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},$=new o.URL(b),I={protocol:$.protocol,host:$.hostname,port:$.port,path:$.pathname+$.search,method:_};return g&&(I.headers=g),I}},{key:"__getFilesizeInBytes",value:function(_){try{var b=i.statSync(_,{throwIfNoEntry:!1}),g=b.size||0;return g}catch($){this.emit("warning",$)}return 0}},{key:"__validate",value:function(_,b){if(typeof _!="string")throw new Error("URL should be an string");if(_.trim()==="")throw new Error("URL couldn't be empty");if(typeof b!="string")throw new Error("Destination Folder should be an string");if(b.trim()==="")throw new Error("Destination Folder couldn't be empty");if(!i.existsSync(b))throw new Error("Destination Folder must exist");var g=i.statSync(b);if(!g.isDirectory())throw new Error("Destination Folder must be a directory");try{i.accessSync(b,i.constants.W_OK)}catch{throw new Error("Destination Folder must be writable")}return!0}},{key:"__initProtocol",value:function(_){var b=this.__getReqOptions(this.__opts.method,_,this.__headers);this.requestURL=_,-1<_.indexOf("https://")?(this.__protocol=h,b.agent=new h.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},b,this.__opts.httpsRequestOptions)):(this.__protocol=c,b.agent=new c.Agent({keepAlive:!1}),this.__reqOptions=Object.assign({},b,this.__opts.httpRequestOptions))}},{key:"__uniqFileNameSync",value:function(_){if(typeof _!="string"||_==="")return _;try{i.accessSync(_,i.F_OK);var b=_.match(/(.*)(\([0-9]+\))(\..*)$/),g=b?b[1].trim():_,$=b?parseInt(b[2].replace(/\(|\)/,"")):0,I=_.split(".").pop();return I!==_&&0<I.length?(I="."+I,g=g.replace(I,"")):I="",this.__uniqFileNameSync(g+" ("+ ++$+")"+I)}catch{return _}}},{key:"__removeFile",value:function(){var _=this;return new Promise(function(b){return _.__fileStream?void _.__fileStream.close(function(g){return g&&_.emit("warning",g),_.__opts.removeOnFail?i.access(_.__filePath,function($){return $?b():void i.unlink(_.__filePath,function(I){I&&_.emit("warning",g),b()})}):void b()}):b()})}},{key:"__requestAbort",value:function(){this.__isAborted=!0,this.__retryTimeout&&(clearTimeout(this.__retryTimeout),this.__retryTimeout=null),this.__response&&this.__response.destroy(),this.__request&&(this.__request.destroy?this.__request.destroy():this.__request.abort())}},{key:"__emitStop",value:function(){this.__resolvePending(),this.__setState(this.__states.STOPPED),this.emit("stop")}}]),v}(p.EventEmitter)}(xo)),xo}var Fr=K_();function It(e){const t={...process.env,DEBIAN_FRONTEND:"noninteractive"};return e==="nala"&&(t.LANG===void 0&&(t.LANG="C.UTF-8"),t.LC_ALL===void 0&&(t.LC_ALL="C.UTF-8")),t}const gr="Dpkg::Lock::Timeout=300";function Sh(){return pe.sync("nala",{nothrow:!0})!==null}function qr(){let e;return Sh()?e="nala":e="apt-get",e}async function Ga(e){try{const{stdout:t}=await le("dpkg",["-s",e],{env:It("apt-get"),stdio:"pipe"});return typeof t!="string"?!1:t.split(`
`).some(n=>n.startsWith("Status: install ok installed"))}catch{return!1}}async function Y_(e){try{const{stdout:t}=await le("dpkg",["-l",e],{env:It("apt-get"),stdio:"pipe"});return typeof t!="string"?!1:t.split(`
`).some(n=>n.startsWith("ii"))}catch{return!1}}let bh=!1;function J_(e=qr()){he(e,["update","-o",gr],{...vt,env:It(e)}),bh=!0}const dr=Ue(J_);var $t;(function(e){e[e.NameDashVersion=0]="NameDashVersion",e[e.NameEqualsVersion=1]="NameEqualsVersion",e[e.Name=2]="Name",e[e.None=3]="None"})($t||($t={}));async function Rh(e,t=qr()){return(await Promise.all(e.map(r=>Sa(r,t)))).filter(r=>r!==void 0)}async function Sa(e,t=qr()){const r=await Z_(t,e);return await Ga(r)?void 0:r}async function $h(e,t,r,n){const i=r!==void 0&&r!=="",o=!i||n;if(i){if(await Q_(e,t,r))return $t.NameDashVersion;if(await Bf(e,`${t}=${r}`))return $t.NameEqualsVersion}const s=()=>{i&&n&&W(`Could not find package ${t} ${r}. Falling back to latest version.`)};return o&&await Bf(e,t)?(s(),$t.Name):bh?o?(s(),$t.Name):$t.None:(dr(e),$h(e,t,r,n))}async function Q_(e,t,r){try{const{stdout:n}=await le("apt-cache",["search","--names-only",`^${hn(t)}-${hn(r)}$`],{env:It(e),stdio:"pipe"});if(n.trim()!=="")return!0}catch{}return!1}async function Bf(e,t){try{const{stdout:r}=await le("apt-cache",["show",t],{env:It(e),stdio:"pipe",verbose:!0});if(r.trim()!=="")return!0}catch{}return!1}async function Z_(e,t){const{name:r,version:n,fallBackToLatest:i=!1}=t;switch(await $h(e,r,n,i)){case $t.NameDashVersion:return`${r}-${n}`;case $t.NameEqualsVersion:return`${r}=${n}`;case $t.Name:return r;default:throw new Error(`Could not find package '${r}' ${n??"with unspecified version"}`)}}async function eE(e){dr(e);const t=await Rh([{name:"ca-certificates"},{name:"gnupg"},{name:"apt-utils"}],e);t.length!==0&&he(e,["install","-y","--fix-broken","-o",gr,...t],{...vt,env:It(e)})}const Oh=Ue(eE,{promise:!0});async function tE(e,t=qr()){await Oh(t),await Ih(),he("add-apt-repository",["-y","--no-update",e],{...vt,env:It(t)}),dr.clear(),dr(t)}async function Ih(){if(await Ga("software-properties-common"))return;const e="apt-get";he(e,["install","-y","--fix-broken","-o",gr,"software-properties-common"],{...vt,env:It(e)})}const rE=["E: Could not get lock","dpkg: error processing archive","dpkg: error: dpkg status database is locked by another process"];async function fe(e,t=!1){try{const r=qr();for(const{name:i,version:o}of e)W(`Installing ${i} ${o??""} via ${r}`);t&&dr.clear(),dr(r),await nE(r,e);const n=await Rh(e,r);if(n.length===0)return W("All packages are already installed"),{binDir:"/usr/bin/"};await Oh(r);try{await iE(e),he(r,["install","--fix-broken","-y",...n],{...vt,env:It(r)})}catch(i){if(sE(i))rE.some(o=>typeof i.stderr=="string"&&i.stderr.includes(o))&&(_e(`Failed to install packages ${n}. Retrying...`),he(r,["install","--fix-broken","-y","-o",gr,...n],{...vt,env:It(r)}));else throw i}return{binDir:"/usr/bin/"}}catch(r){const n=r instanceof Error?`${r.message}
${r.stack}`:String(r);throw new Error(`Failed to install apt packages: ${n}`)}}async function nE(e,t){const r=[...new Set(t.flatMap(n=>n.repository??[]))];await Promise.all(r.map(n=>tE(n,e)))}async function iE(e){await Promise.all(e.map(async t=>{t.key!==void 0&&await oE(t.key)}))}function sE(e){return typeof e.stderr=="string"}function oE(e){return"keyUrl"in e?Ph(e):cE(e)}const aE="/etc/apt/trusted.gpg.d",Hf="keyserver.ubuntu.com";async function cE({key:e,keyServer:t=Hf,fileName:r,keyStorePath:n=Hf}){try{xh(r);const i=Z(n,r);return await me(i)||(Th(),await yt("gpg",["--no-default-keyring","--keyring",`gnupg-ring:${i}`,"--keyserver",t,"--recv-keys",e]),await yt("chmod",["644",i])),i}catch(i){_e(`Failed to add apt key via server ${t}: ${i}`);return}}async function Ph({keyUrl:e,fileName:t,keyStorePath:r=aE}){try{xh(t);const n=Z(r,t);if(!await me(n)){Th(),await fe([{name:"ca-certificates"}]);const i=Z(We(),t),o=new Fr.DownloaderHelper(e,We(),{fileName:t});o.on("error",s=>{throw new Error(`Failed to download ${e}: ${s}`)}),await o.start(),he("gpg",["--no-default-keyring","--keyring",`gnupg-ring:${n}`,"--import",i]),he("chmod",["644",n])}return n}catch(n){_e(`Failed to add apt key via download ${e}: ${n}`);return}}function Th(){he("gpg",["-k"])}function xh(e){if(!e.endsWith(".gpg"))throw new Error(`Key file name must end with .gpg: ${e}`)}let Kt;async function Va(e={}){if(!["darwin","linux"].includes(process.platform)||process.platform==="linux"&&process.arch!=="x64"){_e(`Brew is not supported on ${process.platform} ${process.arch}`);return}if(typeof Kt=="string")return{binDir:Kt};const t=await pe("brew",{nothrow:!0});if(t!==null)return Kt=Pe(t),{binDir:Kt};await fe([{name:"ca-certificates"}]);const r=new Fr.DownloaderHelper("https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh",We(),{fileName:"install-brew.sh"});return r.on("error",n=>{throw new Error(`Failed to download the brew installer script: ${n}`)}),await r.start(),Be("/bin/bash",[r.getDownloadPath()],{stdio:"inherit",env:{NONINTERACTIVE:"1"}}),Kt=Ba(),await Re(Kt,e.rcOptions),{binDir:Kt}}function Ba(){return Z(Ha(),"bin")}function Ah(){return Z(Ba(),"brew")}function Ha(){if(process.platform==="darwin")return process.arch==="arm64"?"/opt/homebrew":"/usr/local";if(process.platform==="linux")return"/home/linuxbrew/.linuxbrew";throw new Error("Unsupported platform for brew")}function Ch(e,t){return t!==void 0&&t!==""?`${e}@${t}`:e}async function uE(e,t){const r=Ch(e,t),n=await zf(r);if(n!==void 0)return n;const i=await zf(e);return i!==void 0?i:lE(e,r)}async function zf(e){try{const t=Ah();return(await le(t,["--prefix",e],{stdio:"pipe"})).stdout}catch{return}}function lE(e,t){const r=Ha(),n=Z(r,"opt",t);if(Jt(n))return n;const i=Z(r,"opt",e);if(Jt(i))return i;const o=Z(r,"Cellar",t);if(Jt(o))return o;const s=Z(r,"Cellar",e);if(Jt(s))return s;const l=Z(r,"lib",t);if(Jt(l))return l;const u=Z(r,"lib",e);if(Jt(u))return u}let Wf=!1;async function He(e,t,r={}){"overwrite"in r||(r.overwrite=!0),r.cask===!0&&(r.overwrite=!1),W(`Installing ${e} ${t??""} via brew`),(!Wf||pe.sync("brew",{nothrow:!0})===null)&&(await Va(),Wf=!0);const n=Ah(),i=["install",Ch(e,t)];for(const[u,c]of Object.entries(r))typeof c=="boolean"&&c?i.push(`--${u}`):typeof c=="string"&&i.push(`--${u}`,c);const o=Be(n,[...i,"--dry-run"],{stdio:"pipe"});o.exitCode===0&&new RegExp(`.*${e}.* is already installed and up-to-date.[\\s\\S]*`).test(o.stderr)?W(`${e} ${t??""} is already installed and up-to-date`):Be(n,i,{stdio:"inherit"});const l=await uE(e,t);return l===void 0?(_e(`Failed to find installation directory for ${e} ${t}`),{binDir:Ba(),installDir:void 0}):{installDir:l,binDir:Z(l,"bin")}}var za=Na();function Nh(e){const t=Ee.getInput(e.toLowerCase());if(t!=="false"&&t!=="")return t}function Lh(e,t){let r=`✅ ${e} was installed successfully:`;return t===void 0||("installDir"in t&&(r+=`
- The installation directory is ${t.installDir}`),t.binDir!==""&&(r+=`
- The binary directory is ${t.binDir}`)),r}const ne={rcPath:at("~/.cpprc"),guard:"cpp"};async function Dh(){if(process.platform==="darwin")try{const e=await za.getExecOutput("xcrun --sdk macosx --show-sdk-path"),t=e.stdout||e.stderr;t?await Ie("SDKROOT",t.trim(),ne):De("SDKROOT not set")}catch(e){De(e)}}let Ao;function Te(){return process.platform!=="linux"?!1:(Ao===void 0&&(Ao=pe.sync("dnf",{nothrow:!0})!==null),Ao)}let Co;function $e(){return process.platform!=="linux"?!1:(Co===void 0&&(Co=pe.sync("pacman",{nothrow:!0})!==null),Co)}let No;function ye(){return process.platform!=="linux"?!1:(No===void 0&&(No=pe.sync("apt-get",{nothrow:!0})!==null),No)}async function xe(e){for(const{name:r,version:n}of e)W(`Installing ${r} ${n??""} via dnf`);const t=await Promise.all(e.map(r=>fE(r.name,r.version)));return he("dnf",["-y","install",...t]),{binDir:"/usr/bin/"}}async function fE(e,t){if(t===void 0||t==="")return e;const{stdout:r}=await le("dnf",["search","-q",`${e}-${t}`]);if(r.trim()!=="")return`${e}-${t}`;const{stdout:n}=await le("dnf",["search","-q",`${e}${t}`]);return n.trim()!==""?`${e}${t}`:(_e(`Failed to install ${e} ${t} via dnf, trying without version`),e)}let Xf=!1,Kf=!1;async function we(e,t,r){W(`Installing ${e} ${t??""} via pacman`);const n="pacman";r==="yay"&&hE(),!Xf&&r!=="yay"&&(he(n,["-Sy","--noconfirm"]),Xf=!0),!Kf&&r!=="yay"&&(he(n,["-S","--noconfirm","base-devel"]),Kf=!0);const i=o=>r==="yay"?mr()&&kh?he("su",["-","builder","-c",`yay -S --noconfirm ${o}`]):Be(r,["-S","--noconfirm",o]):he(r??n,["-S","--noconfirm",o]);if(t!==void 0&&t!=="")if((await pE(n,e)).includes(t))try{i(`${e}=${t}`)}catch{i(`${e}${t}`)}else W(`Failed to install ${e} ${t} via pacman, trying without version`),i(e);else i(e);return{binDir:"/usr/bin/"}}const dE=/Version\s*:\s*(.*)/g;async function pE(e,t){const r=[];try{const{stdout:n}=await le(e,["-Si",t]);for(const i of n.matchAll(dE))r.push(i[1])}catch(n){_e(`Failed to get available versions for ${t}: ${n}`)}return r}let kh=!1;function hE(){if(pe.sync("yay",{nothrow:!0})===null)try{he("pacman",["-S","--noconfirm","base-devel","git"]);const e=Z(We(),"yay");he("mkdir",["-p",e]),mr()?(_e("Creating a non-root user to build yay"),he("useradd",["-m","-G","wheel","builder"]),he("passwd",["-d","builder"]),he("chown",["-R","builder:builder",e]),he("bash",["-c",'echo "builder ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers']),kh=!0,Be("su",["-","builder","-c",`git clone https://aur.archlinux.org/yay.git ${e}`],{stdio:"inherit"}),Be("su",["-","builder","-c",`cd ${e} && makepkg -si --noconfirm`],{stdio:"inherit"})):(Be("git",["clone","https://aur.archlinux.org/yay.git",e],{stdio:"inherit",cwd:We()}),Be("makepkg",["-si","--noconfirm"],{stdio:"inherit",cwd:e})),Be("rm",["-rf",e],{stdio:"inherit"})}catch(e){throw new Error(`Failed to install yay: ${e}. Install yay manually and re-run the script.`)}}var mE=Op();const er=Oe(mE);var yE=ut();const vE=Oe(yE);var wE=kr();const Wa=Oe(wE),Fh=/v?(\d\S*)/;async function qh(e,t=Fh){try{const r=await za.getExecOutput(e,["--version"]),i=(r.stdout||r.stderr||"").trim().match(t)?.[1];return er(i)??void 0}catch(r){console.error(r);return}}async function ba(e,t,r=Fh){const n=await qh(e,r);if(n!==void 0&&t!=="")try{return vE(n,t)!==-1}catch{return Wa(n,t)}else return!1}function Uh(e){if(Fn(e)===null)try{const t=er(e);if(t!==null)return W(`Coerced version '${e}' to '${t}'`),t.version}catch{}return e}function gE(e){if(Fn(e)===null)try{const t=er(e);if(t!==null){const r=/^[<=>^~]/.test(t.version)?t.version:`^${t.version}`;return W(`Coerced version '${e}' to '${r}'`),r}}catch{}return e}function _E(e){return Number.parseInt(e.replace(/^v/,""),10)}function EE(e){return e.match(/^v/)?e:`v${e}`}function SE(e,t){const r=er(e),n=er(t);return r!==null&&n!==null?n.compare(r):t.localeCompare(e)}async function jh(){const e=Z(lS,"gcc_matcher.json");if(!await me(e))return _e("the gcc_matcher.json file does not exist in the same folder as setup-cpp.js");W(`::add-matcher::${e}`)}async function yn(e){const t=await In(e,"utf-8");return JSON.parse(t)}function vn(e,t){const r=Object.keys(e),n=new Map;if(t.filterMapTag===void 0)for(const l of r)n.set(l,l);else for(const l of r){const u=t.filterMapTag(l);u!==void 0&&n.set(u,l)}if(n.size===0)return;const i=t.versionSatisfies??Wa,o=gE(t.version),s=[];for(const[l,u]of n.entries())i(l,o)&&s.push(u);if(s.length!==0)for(const l of s){let u=e[l];if(u===void 0||(t.filterName!==void 0&&(u=u.filter(t.filterName)),u.length===0))continue;const c=bE(l,u,t);if(c!==void 0)return c}}function bE(e,t,r){if((r.keywords===void 0||r.keywords.length===0)&&(r.optionalKeywords===void 0||r.optionalKeywords.length===0))return{tag:e,name:t[0]};let n=[];if(r.keywords!==void 0&&r.keywords.length!==0)for(const i of t)r.keywords.every(o=>typeof o=="string"&&i.includes(o)?!0:Array.isArray(o)&&o.some(s=>i.includes(s)))&&n.push(i);else n=t;if(n.length!==0){if(r.optionalKeywords!==void 0&&r.optionalKeywords.length!==0){const i=n.map(l=>{let u=0;for(const c of r.optionalKeywords)(typeof c=="string"&&l.includes(c)||Array.isArray(c)&&c.some(a=>l.includes(a)))&&u++;return u}),o=Math.max(...i),s=i.indexOf(o);return{tag:e,name:n[s]}}return{tag:e,name:n[0]}}}var Lo={},Yr={},Yf;function je(){return Yf||(Yf=1,Yr.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,o)=>i!=null?n(i):r(o)),e.apply(this,t)})},"name",{value:e.name})},Yr.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})}),Yr}var Do,Jf;function RE(){if(Jf)return Do;Jf=1;var e=Km,t=process.cwd,r=null,n=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return r||(r=t.call(process)),r};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var i=process.chdir;process.chdir=function(s){r=null,i.call(process,s)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,i)}Do=o;function o(s){e.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&l(s),s.lutimes||u(s),s.chown=h(s.chown),s.fchown=h(s.fchown),s.lchown=h(s.lchown),s.chmod=c(s.chmod),s.fchmod=c(s.fchmod),s.lchmod=c(s.lchmod),s.chownSync=p(s.chownSync),s.fchownSync=p(s.fchownSync),s.lchownSync=p(s.lchownSync),s.chmodSync=a(s.chmodSync),s.fchmodSync=a(s.fchmodSync),s.lchmodSync=a(s.lchmodSync),s.stat=w(s.stat),s.fstat=w(s.fstat),s.lstat=w(s.lstat),s.statSync=E(s.statSync),s.fstatSync=E(s.fstatSync),s.lstatSync=E(s.lstatSync),s.chmod&&!s.lchmod&&(s.lchmod=function(f,m,y){y&&process.nextTick(y)},s.lchmodSync=function(){}),s.chown&&!s.lchown&&(s.lchown=function(f,m,y,v){v&&process.nextTick(v)},s.lchownSync=function(){}),n==="win32"&&(s.rename=typeof s.rename!="function"?s.rename:function(f){function m(y,v,S){var _=Date.now(),b=0;f(y,v,function g($){if($&&($.code==="EACCES"||$.code==="EPERM"||$.code==="EBUSY")&&Date.now()-_<6e4){setTimeout(function(){s.stat(v,function(I,A){I&&I.code==="ENOENT"?f(y,v,g):S($)})},b),b<100&&(b+=10);return}S&&S($)})}return Object.setPrototypeOf&&Object.setPrototypeOf(m,f),m}(s.rename)),s.read=typeof s.read!="function"?s.read:function(f){function m(y,v,S,_,b,g){var $;if(g&&typeof g=="function"){var I=0;$=function(A,M,K){if(A&&A.code==="EAGAIN"&&I<10)return I++,f.call(s,y,v,S,_,b,$);g.apply(this,arguments)}}return f.call(s,y,v,S,_,b,$)}return Object.setPrototypeOf&&Object.setPrototypeOf(m,f),m}(s.read),s.readSync=typeof s.readSync!="function"?s.readSync:function(f){return function(m,y,v,S,_){for(var b=0;;)try{return f.call(s,m,y,v,S,_)}catch(g){if(g.code==="EAGAIN"&&b<10){b++;continue}throw g}}}(s.readSync);function l(f){f.lchmod=function(m,y,v){f.open(m,e.O_WRONLY|e.O_SYMLINK,y,function(S,_){if(S){v&&v(S);return}f.fchmod(_,y,function(b){f.close(_,function(g){v&&v(b||g)})})})},f.lchmodSync=function(m,y){var v=f.openSync(m,e.O_WRONLY|e.O_SYMLINK,y),S=!0,_;try{_=f.fchmodSync(v,y),S=!1}finally{if(S)try{f.closeSync(v)}catch{}else f.closeSync(v)}return _}}function u(f){e.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(m,y,v,S){f.open(m,e.O_SYMLINK,function(_,b){if(_){S&&S(_);return}f.futimes(b,y,v,function(g){f.close(b,function($){S&&S(g||$)})})})},f.lutimesSync=function(m,y,v){var S=f.openSync(m,e.O_SYMLINK),_,b=!0;try{_=f.futimesSync(S,y,v),b=!1}finally{if(b)try{f.closeSync(S)}catch{}else f.closeSync(S)}return _}):f.futimes&&(f.lutimes=function(m,y,v,S){S&&process.nextTick(S)},f.lutimesSync=function(){})}function c(f){return f&&function(m,y,v){return f.call(s,m,y,function(S){d(S)&&(S=null),v&&v.apply(this,arguments)})}}function a(f){return f&&function(m,y){try{return f.call(s,m,y)}catch(v){if(!d(v))throw v}}}function h(f){return f&&function(m,y,v,S){return f.call(s,m,y,v,function(_){d(_)&&(_=null),S&&S.apply(this,arguments)})}}function p(f){return f&&function(m,y,v){try{return f.call(s,m,y,v)}catch(S){if(!d(S))throw S}}}function w(f){return f&&function(m,y,v){typeof y=="function"&&(v=y,y=null);function S(_,b){b&&(b.uid<0&&(b.uid+=4294967296),b.gid<0&&(b.gid+=4294967296)),v&&v.apply(this,arguments)}return y?f.call(s,m,y,S):f.call(s,m,S)}}function E(f){return f&&function(m,y){var v=y?f.call(s,m,y):f.call(s,m);return v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),v}}function d(f){if(!f||f.code==="ENOSYS")return!0;var m=!process.getuid||process.getuid()!==0;return!!(m&&(f.code==="EINVAL"||f.code==="EPERM"))}}return Do}var ko,Qf;function $E(){if(Qf)return ko;Qf=1;var e=Lr.Stream;ko=t;function t(r){return{ReadStream:n,WriteStream:i};function n(o,s){if(!(this instanceof n))return new n(o,s);e.call(this);var l=this;this.path=o,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var u=Object.keys(s),c=0,a=u.length;c<a;c++){var h=u[c];this[h]=s[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){l._read()});return}r.open(this.path,this.flags,this.mode,function(p,w){if(p){l.emit("error",p),l.readable=!1;return}l.fd=w,l.emit("open",w),l._read()})}function i(o,s){if(!(this instanceof i))return new i(o,s);e.call(this),this.path=o,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var l=Object.keys(s),u=0,c=l.length;u<c;u++){var a=l[u];this[a]=s[a]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=r.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}return ko}var Fo,Zf;function OE(){if(Zf)return Fo;Zf=1,Fo=t;var e=Object.getPrototypeOf||function(r){return r.__proto__};function t(r){if(r===null||typeof r!="object")return r;if(r instanceof Object)var n={__proto__:e(r)};else var n=Object.create(null);return Object.getOwnPropertyNames(r).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))}),n}return Fo}var Jr,ed;function Ur(){if(ed)return Jr;ed=1;var e=qe,t=RE(),r=$E(),n=OE(),i=On,o,s;typeof Symbol=="function"&&typeof Symbol.for=="function"?(o=Symbol.for("graceful-fs.queue"),s=Symbol.for("graceful-fs.previous")):(o="___graceful-fs.queue",s="___graceful-fs.previous");function l(){}function u(f,m){Object.defineProperty(f,o,{get:function(){return m}})}var c=l;if(i.debuglog?c=i.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(c=function(){var f=i.format.apply(i,arguments);f="GFS4: "+f.split(/\n/).join(`
GFS4: `),console.error(f)}),!e[o]){var a=st[o]||[];u(e,a),e.close=function(f){function m(y,v){return f.call(e,y,function(S){S||E(),typeof v=="function"&&v.apply(this,arguments)})}return Object.defineProperty(m,s,{value:f}),m}(e.close),e.closeSync=function(f){function m(y){f.apply(e,arguments),E()}return Object.defineProperty(m,s,{value:f}),m}(e.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){c(e[o]),Nr.equal(e[o].length,0)})}st[o]||u(st,e[o]),Jr=h(n(e)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!e.__patched&&(Jr=h(e),e.__patched=!0);function h(f){t(f),f.gracefulify=h,f.createReadStream=H,f.createWriteStream=z;var m=f.readFile;f.readFile=y;function y(X,ie,se){return typeof ie=="function"&&(se=ie,ie=null),ve(X,ie,se);function ve(D,L,N,j){return m(D,L,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?p([ve,[D,L,N],B,j||Date.now(),Date.now()]):typeof N=="function"&&N.apply(this,arguments)})}}var v=f.writeFile;f.writeFile=S;function S(X,ie,se,ve){return typeof se=="function"&&(ve=se,se=null),D(X,ie,se,ve);function D(L,N,j,B,ee){return v(L,N,j,function(Y){Y&&(Y.code==="EMFILE"||Y.code==="ENFILE")?p([D,[L,N,j,B],Y,ee||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var _=f.appendFile;_&&(f.appendFile=b);function b(X,ie,se,ve){return typeof se=="function"&&(ve=se,se=null),D(X,ie,se,ve);function D(L,N,j,B,ee){return _(L,N,j,function(Y){Y&&(Y.code==="EMFILE"||Y.code==="ENFILE")?p([D,[L,N,j,B],Y,ee||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var g=f.copyFile;g&&(f.copyFile=$);function $(X,ie,se,ve){return typeof se=="function"&&(ve=se,se=0),D(X,ie,se,ve);function D(L,N,j,B,ee){return g(L,N,j,function(Y){Y&&(Y.code==="EMFILE"||Y.code==="ENFILE")?p([D,[L,N,j,B],Y,ee||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var I=f.readdir;f.readdir=M;var A=/^v[0-5]\./;function M(X,ie,se){typeof ie=="function"&&(se=ie,ie=null);var ve=A.test(process.version)?function(N,j,B,ee){return I(N,D(N,j,B,ee))}:function(N,j,B,ee){return I(N,j,D(N,j,B,ee))};return ve(X,ie,se);function D(L,N,j,B){return function(ee,Y){ee&&(ee.code==="EMFILE"||ee.code==="ENFILE")?p([ve,[L,N,j],ee,B||Date.now(),Date.now()]):(Y&&Y.sort&&Y.sort(),typeof j=="function"&&j.call(this,ee,Y))}}}if(process.version.substr(0,4)==="v0.8"){var K=r(f);U=K.ReadStream,G=K.WriteStream}var J=f.ReadStream;J&&(U.prototype=Object.create(J.prototype),U.prototype.open=k);var x=f.WriteStream;x&&(G.prototype=Object.create(x.prototype),G.prototype.open=C),Object.defineProperty(f,"ReadStream",{get:function(){return U},set:function(X){U=X},enumerable:!0,configurable:!0}),Object.defineProperty(f,"WriteStream",{get:function(){return G},set:function(X){G=X},enumerable:!0,configurable:!0});var T=U;Object.defineProperty(f,"FileReadStream",{get:function(){return T},set:function(X){T=X},enumerable:!0,configurable:!0});var F=G;Object.defineProperty(f,"FileWriteStream",{get:function(){return F},set:function(X){F=X},enumerable:!0,configurable:!0});function U(X,ie){return this instanceof U?(J.apply(this,arguments),this):U.apply(Object.create(U.prototype),arguments)}function k(){var X=this;ce(X.path,X.flags,X.mode,function(ie,se){ie?(X.autoClose&&X.destroy(),X.emit("error",ie)):(X.fd=se,X.emit("open",se),X.read())})}function G(X,ie){return this instanceof G?(x.apply(this,arguments),this):G.apply(Object.create(G.prototype),arguments)}function C(){var X=this;ce(X.path,X.flags,X.mode,function(ie,se){ie?(X.destroy(),X.emit("error",ie)):(X.fd=se,X.emit("open",se))})}function H(X,ie){return new f.ReadStream(X,ie)}function z(X,ie){return new f.WriteStream(X,ie)}var re=f.open;f.open=ce;function ce(X,ie,se,ve){return typeof se=="function"&&(ve=se,se=null),D(X,ie,se,ve);function D(L,N,j,B,ee){return re(L,N,j,function(Y,ke){Y&&(Y.code==="EMFILE"||Y.code==="ENFILE")?p([D,[L,N,j,B],Y,ee||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}return f}function p(f){c("ENQUEUE",f[0].name,f[1]),e[o].push(f),d()}var w;function E(){for(var f=Date.now(),m=0;m<e[o].length;++m)e[o][m].length>2&&(e[o][m][3]=f,e[o][m][4]=f);d()}function d(){if(clearTimeout(w),w=void 0,e[o].length!==0){var f=e[o].shift(),m=f[0],y=f[1],v=f[2],S=f[3],_=f[4];if(S===void 0)c("RETRY",m.name,y),m.apply(null,y);else if(Date.now()-S>=6e4){c("TIMEOUT",m.name,y);var b=y.pop();typeof b=="function"&&b.call(null,v)}else{var g=Date.now()-_,$=Math.max(_-S,1),I=Math.min($*1.2,100);g>=I?(c("RETRY",m.name,y),m.apply(null,y.concat([S]))):e[o].push(f)}w===void 0&&(w=setTimeout(d,0))}}return Jr}var td;function Xe(){return td||(td=1,function(e){const t=je().fromCallback,r=Ur(),n=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,o){return typeof o=="function"?r.exists(i,o):new Promise(s=>r.exists(i,s))},e.read=function(i,o,s,l,u,c){return typeof c=="function"?r.read(i,o,s,l,u,c):new Promise((a,h)=>{r.read(i,o,s,l,u,(p,w,E)=>{if(p)return h(p);a({bytesRead:w,buffer:E})})})},e.write=function(i,o,...s){return typeof s[s.length-1]=="function"?r.write(i,o,...s):new Promise((l,u)=>{r.write(i,o,...s,(c,a,h)=>{if(c)return u(c);l({bytesWritten:a,buffer:h})})})},e.readv=function(i,o,...s){return typeof s[s.length-1]=="function"?r.readv(i,o,...s):new Promise((l,u)=>{r.readv(i,o,...s,(c,a,h)=>{if(c)return u(c);l({bytesRead:a,buffers:h})})})},e.writev=function(i,o,...s){return typeof s[s.length-1]=="function"?r.writev(i,o,...s):new Promise((l,u)=>{r.writev(i,o,...s,(c,a,h)=>{if(c)return u(c);l({bytesWritten:a,buffers:h})})})},typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(Lo)),Lo}var Qr={},qo={},rd;function IE(){if(rd)return qo;rd=1;const e=ue;return qo.checkPath=function(r){if(process.platform==="win32"&&/[<>:"|?*]/.test(r.replace(e.parse(r).root,""))){const i=new Error(`Path contains invalid characters: ${r}`);throw i.code="EINVAL",i}},qo}var nd;function PE(){if(nd)return Qr;nd=1;const e=Xe(),{checkPath:t}=IE(),r=n=>{const i={mode:511};return typeof n=="number"?n:{...i,...n}.mode};return Qr.makeDir=async(n,i)=>(t(n),e.mkdir(n,{mode:r(i),recursive:!0})),Qr.makeDirSync=(n,i)=>(t(n),e.mkdirSync(n,{mode:r(i),recursive:!0})),Qr}var Uo,id;function At(){if(id)return Uo;id=1;const e=je().fromPromise,{makeDir:t,makeDirSync:r}=PE(),n=e(t);return Uo={mkdirs:n,mkdirsSync:r,mkdirp:n,mkdirpSync:r,ensureDir:n,ensureDirSync:r},Uo}var jo,sd;function or(){if(sd)return jo;sd=1;const e=je().fromPromise,t=Xe();function r(n){return t.access(n).then(()=>!0).catch(()=>!1)}return jo={pathExists:e(r),pathExistsSync:t.existsSync},jo}var Mo,od;function Mh(){if(od)return Mo;od=1;const e=Xe(),t=je().fromPromise;async function r(i,o,s){const l=await e.open(i,"r+");let u=null;try{await e.futimes(l,o,s)}finally{try{await e.close(l)}catch(c){u=c}}if(u)throw u}function n(i,o,s){const l=e.openSync(i,"r+");return e.futimesSync(l,o,s),e.closeSync(l)}return Mo={utimesMillis:t(r),utimesMillisSync:n},Mo}var Go,ad;function _r(){if(ad)return Go;ad=1;const e=Xe(),t=ue,r=je().fromPromise;function n(p,w,E){const d=E.dereference?f=>e.stat(f,{bigint:!0}):f=>e.lstat(f,{bigint:!0});return Promise.all([d(p),d(w).catch(f=>{if(f.code==="ENOENT")return null;throw f})]).then(([f,m])=>({srcStat:f,destStat:m}))}function i(p,w,E){let d;const f=E.dereference?y=>e.statSync(y,{bigint:!0}):y=>e.lstatSync(y,{bigint:!0}),m=f(p);try{d=f(w)}catch(y){if(y.code==="ENOENT")return{srcStat:m,destStat:null};throw y}return{srcStat:m,destStat:d}}async function o(p,w,E,d){const{srcStat:f,destStat:m}=await n(p,w,d);if(m){if(c(f,m)){const y=t.basename(p),v=t.basename(w);if(E==="move"&&y!==v&&y.toLowerCase()===v.toLowerCase())return{srcStat:f,destStat:m,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(f.isDirectory()&&!m.isDirectory())throw new Error(`Cannot overwrite non-directory '${w}' with directory '${p}'.`);if(!f.isDirectory()&&m.isDirectory())throw new Error(`Cannot overwrite directory '${w}' with non-directory '${p}'.`)}if(f.isDirectory()&&a(p,w))throw new Error(h(p,w,E));return{srcStat:f,destStat:m}}function s(p,w,E,d){const{srcStat:f,destStat:m}=i(p,w,d);if(m){if(c(f,m)){const y=t.basename(p),v=t.basename(w);if(E==="move"&&y!==v&&y.toLowerCase()===v.toLowerCase())return{srcStat:f,destStat:m,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(f.isDirectory()&&!m.isDirectory())throw new Error(`Cannot overwrite non-directory '${w}' with directory '${p}'.`);if(!f.isDirectory()&&m.isDirectory())throw new Error(`Cannot overwrite directory '${w}' with non-directory '${p}'.`)}if(f.isDirectory()&&a(p,w))throw new Error(h(p,w,E));return{srcStat:f,destStat:m}}async function l(p,w,E,d){const f=t.resolve(t.dirname(p)),m=t.resolve(t.dirname(E));if(m===f||m===t.parse(m).root)return;let y;try{y=await e.stat(m,{bigint:!0})}catch(v){if(v.code==="ENOENT")return;throw v}if(c(w,y))throw new Error(h(p,E,d));return l(p,w,m,d)}function u(p,w,E,d){const f=t.resolve(t.dirname(p)),m=t.resolve(t.dirname(E));if(m===f||m===t.parse(m).root)return;let y;try{y=e.statSync(m,{bigint:!0})}catch(v){if(v.code==="ENOENT")return;throw v}if(c(w,y))throw new Error(h(p,E,d));return u(p,w,m,d)}function c(p,w){return w.ino&&w.dev&&w.ino===p.ino&&w.dev===p.dev}function a(p,w){const E=t.resolve(p).split(t.sep).filter(f=>f),d=t.resolve(w).split(t.sep).filter(f=>f);return E.every((f,m)=>d[m]===f)}function h(p,w,E){return`Cannot ${E} '${p}' to a subdirectory of itself, '${w}'.`}return Go={checkPaths:r(o),checkPathsSync:s,checkParentPaths:r(l),checkParentPathsSync:u,isSrcSubdir:a,areIdentical:c},Go}var Vo,cd;function TE(){if(cd)return Vo;cd=1;const e=Xe(),t=ue,{mkdirs:r}=At(),{pathExists:n}=or(),{utimesMillis:i}=Mh(),o=_r();async function s(d,f,m={}){typeof m=="function"&&(m={filter:m}),m.clobber="clobber"in m?!!m.clobber:!0,m.overwrite="overwrite"in m?!!m.overwrite:m.clobber,m.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:y,destStat:v}=await o.checkPaths(d,f,"copy",m);if(await o.checkParentPaths(d,y,f,"copy"),!await l(d,f,m))return;const _=t.dirname(f);await n(_)||await r(_),await u(v,d,f,m)}async function l(d,f,m){return m.filter?m.filter(d,f):!0}async function u(d,f,m,y){const S=await(y.dereference?e.stat:e.lstat)(f);if(S.isDirectory())return w(S,d,f,m,y);if(S.isFile()||S.isCharacterDevice()||S.isBlockDevice())return c(S,d,f,m,y);if(S.isSymbolicLink())return E(d,f,m,y);throw S.isSocket()?new Error(`Cannot copy a socket file: ${f}`):S.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${f}`):new Error(`Unknown file: ${f}`)}async function c(d,f,m,y,v){if(!f)return a(d,m,y,v);if(v.overwrite)return await e.unlink(y),a(d,m,y,v);if(v.errorOnExist)throw new Error(`'${y}' already exists`)}async function a(d,f,m,y){if(await e.copyFile(f,m),y.preserveTimestamps){h(d.mode)&&await p(m,d.mode);const v=await e.stat(f);await i(m,v.atime,v.mtime)}return e.chmod(m,d.mode)}function h(d){return(d&128)===0}function p(d,f){return e.chmod(d,f|128)}async function w(d,f,m,y,v){f||await e.mkdir(y);const S=[];for await(const _ of await e.opendir(m)){const b=t.join(m,_.name),g=t.join(y,_.name);S.push(l(b,g,v).then($=>{if($)return o.checkPaths(b,g,"copy",v).then(({destStat:I})=>u(I,b,g,v))}))}await Promise.all(S),f||await e.chmod(y,d.mode)}async function E(d,f,m,y){let v=await e.readlink(f);if(y.dereference&&(v=t.resolve(process.cwd(),v)),!d)return e.symlink(v,m);let S=null;try{S=await e.readlink(m)}catch(_){if(_.code==="EINVAL"||_.code==="UNKNOWN")return e.symlink(v,m);throw _}if(y.dereference&&(S=t.resolve(process.cwd(),S)),o.isSrcSubdir(v,S))throw new Error(`Cannot copy '${v}' to a subdirectory of itself, '${S}'.`);if(o.isSrcSubdir(S,v))throw new Error(`Cannot overwrite '${S}' with '${v}'.`);return await e.unlink(m),e.symlink(v,m)}return Vo=s,Vo}var Bo,ud;function xE(){if(ud)return Bo;ud=1;const e=Ur(),t=ue,r=At().mkdirsSync,n=Mh().utimesMillisSync,i=_r();function o(_,b,g){typeof g=="function"&&(g={filter:g}),g=g||{},g.clobber="clobber"in g?!!g.clobber:!0,g.overwrite="overwrite"in g?!!g.overwrite:g.clobber,g.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:$,destStat:I}=i.checkPathsSync(_,b,"copy",g);if(i.checkParentPathsSync(_,$,b,"copy"),g.filter&&!g.filter(_,b))return;const A=t.dirname(b);return e.existsSync(A)||r(A),s(I,_,b,g)}function s(_,b,g,$){const A=($.dereference?e.statSync:e.lstatSync)(b);if(A.isDirectory())return d(A,_,b,g,$);if(A.isFile()||A.isCharacterDevice()||A.isBlockDevice())return l(A,_,b,g,$);if(A.isSymbolicLink())return v(_,b,g,$);throw A.isSocket()?new Error(`Cannot copy a socket file: ${b}`):A.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${b}`):new Error(`Unknown file: ${b}`)}function l(_,b,g,$,I){return b?u(_,g,$,I):c(_,g,$,I)}function u(_,b,g,$){if($.overwrite)return e.unlinkSync(g),c(_,b,g,$);if($.errorOnExist)throw new Error(`'${g}' already exists`)}function c(_,b,g,$){return e.copyFileSync(b,g),$.preserveTimestamps&&a(_.mode,b,g),w(g,_.mode)}function a(_,b,g){return h(_)&&p(g,_),E(b,g)}function h(_){return(_&128)===0}function p(_,b){return w(_,b|128)}function w(_,b){return e.chmodSync(_,b)}function E(_,b){const g=e.statSync(_);return n(b,g.atime,g.mtime)}function d(_,b,g,$,I){return b?m(g,$,I):f(_.mode,g,$,I)}function f(_,b,g,$){return e.mkdirSync(g),m(b,g,$),w(g,_)}function m(_,b,g){const $=e.opendirSync(_);try{let I;for(;(I=$.readSync())!==null;)y(I.name,_,b,g)}finally{$.closeSync()}}function y(_,b,g,$){const I=t.join(b,_),A=t.join(g,_);if($.filter&&!$.filter(I,A))return;const{destStat:M}=i.checkPathsSync(I,A,"copy",$);return s(M,I,A,$)}function v(_,b,g,$){let I=e.readlinkSync(b);if($.dereference&&(I=t.resolve(process.cwd(),I)),_){let A;try{A=e.readlinkSync(g)}catch(M){if(M.code==="EINVAL"||M.code==="UNKNOWN")return e.symlinkSync(I,g);throw M}if($.dereference&&(A=t.resolve(process.cwd(),A)),i.isSrcSubdir(I,A))throw new Error(`Cannot copy '${I}' to a subdirectory of itself, '${A}'.`);if(i.isSrcSubdir(A,I))throw new Error(`Cannot overwrite '${A}' with '${I}'.`);return S(I,g)}else return e.symlinkSync(I,g)}function S(_,b){return e.unlinkSync(b),e.symlinkSync(_,b)}return Bo=o,Bo}var Ho,ld;function Xa(){if(ld)return Ho;ld=1;const e=je().fromPromise;return Ho={copy:e(TE()),copySync:xE()},Ho}var zo,fd;function qn(){if(fd)return zo;fd=1;const e=Ur(),t=je().fromCallback;function r(i,o){e.rm(i,{recursive:!0,force:!0},o)}function n(i){e.rmSync(i,{recursive:!0,force:!0})}return zo={remove:t(r),removeSync:n},zo}var Wo,dd;function AE(){if(dd)return Wo;dd=1;const e=je().fromPromise,t=Xe(),r=ue,n=At(),i=qn(),o=e(async function(u){let c;try{c=await t.readdir(u)}catch{return n.mkdirs(u)}return Promise.all(c.map(a=>i.remove(r.join(u,a))))});function s(l){let u;try{u=t.readdirSync(l)}catch{return n.mkdirsSync(l)}u.forEach(c=>{c=r.join(l,c),i.removeSync(c)})}return Wo={emptyDirSync:s,emptydirSync:s,emptyDir:o,emptydir:o},Wo}var Xo,pd;function CE(){if(pd)return Xo;pd=1;const e=je().fromPromise,t=ue,r=Xe(),n=At();async function i(s){let l;try{l=await r.stat(s)}catch{}if(l&&l.isFile())return;const u=t.dirname(s);let c=null;try{c=await r.stat(u)}catch(a){if(a.code==="ENOENT"){await n.mkdirs(u),await r.writeFile(s,"");return}else throw a}c.isDirectory()?await r.writeFile(s,""):await r.readdir(u)}function o(s){let l;try{l=r.statSync(s)}catch{}if(l&&l.isFile())return;const u=t.dirname(s);try{r.statSync(u).isDirectory()||r.readdirSync(u)}catch(c){if(c&&c.code==="ENOENT")n.mkdirsSync(u);else throw c}r.writeFileSync(s,"")}return Xo={createFile:e(i),createFileSync:o},Xo}var Ko,hd;function NE(){if(hd)return Ko;hd=1;const e=je().fromPromise,t=ue,r=Xe(),n=At(),{pathExists:i}=or(),{areIdentical:o}=_r();async function s(u,c){let a;try{a=await r.lstat(c)}catch{}let h;try{h=await r.lstat(u)}catch(E){throw E.message=E.message.replace("lstat","ensureLink"),E}if(a&&o(h,a))return;const p=t.dirname(c);await i(p)||await n.mkdirs(p),await r.link(u,c)}function l(u,c){let a;try{a=r.lstatSync(c)}catch{}try{const w=r.lstatSync(u);if(a&&o(w,a))return}catch(w){throw w.message=w.message.replace("lstat","ensureLink"),w}const h=t.dirname(c);return r.existsSync(h)||n.mkdirsSync(h),r.linkSync(u,c)}return Ko={createLink:e(s),createLinkSync:l},Ko}var Yo,md;function LE(){if(md)return Yo;md=1;const e=ue,t=Xe(),{pathExists:r}=or(),n=je().fromPromise;async function i(s,l){if(e.isAbsolute(s)){try{await t.lstat(s)}catch(h){throw h.message=h.message.replace("lstat","ensureSymlink"),h}return{toCwd:s,toDst:s}}const u=e.dirname(l),c=e.join(u,s);if(await r(c))return{toCwd:c,toDst:s};try{await t.lstat(s)}catch(h){throw h.message=h.message.replace("lstat","ensureSymlink"),h}return{toCwd:s,toDst:e.relative(u,s)}}function o(s,l){if(e.isAbsolute(s)){if(!t.existsSync(s))throw new Error("absolute srcpath does not exist");return{toCwd:s,toDst:s}}const u=e.dirname(l),c=e.join(u,s);if(t.existsSync(c))return{toCwd:c,toDst:s};if(!t.existsSync(s))throw new Error("relative srcpath does not exist");return{toCwd:s,toDst:e.relative(u,s)}}return Yo={symlinkPaths:n(i),symlinkPathsSync:o},Yo}var Jo,yd;function DE(){if(yd)return Jo;yd=1;const e=Xe(),t=je().fromPromise;async function r(i,o){if(o)return o;let s;try{s=await e.lstat(i)}catch{return"file"}return s&&s.isDirectory()?"dir":"file"}function n(i,o){if(o)return o;let s;try{s=e.lstatSync(i)}catch{return"file"}return s&&s.isDirectory()?"dir":"file"}return Jo={symlinkType:t(r),symlinkTypeSync:n},Jo}var Qo,vd;function kE(){if(vd)return Qo;vd=1;const e=je().fromPromise,t=ue,r=Xe(),{mkdirs:n,mkdirsSync:i}=At(),{symlinkPaths:o,symlinkPathsSync:s}=LE(),{symlinkType:l,symlinkTypeSync:u}=DE(),{pathExists:c}=or(),{areIdentical:a}=_r();async function h(w,E,d){let f;try{f=await r.lstat(E)}catch{}if(f&&f.isSymbolicLink()){const[S,_]=await Promise.all([r.stat(w),r.stat(E)]);if(a(S,_))return}const m=await o(w,E);w=m.toDst;const y=await l(m.toCwd,d),v=t.dirname(E);return await c(v)||await n(v),r.symlink(w,E,y)}function p(w,E,d){let f;try{f=r.lstatSync(E)}catch{}if(f&&f.isSymbolicLink()){const S=r.statSync(w),_=r.statSync(E);if(a(S,_))return}const m=s(w,E);w=m.toDst,d=u(m.toCwd,d);const y=t.dirname(E);return r.existsSync(y)||i(y),r.symlinkSync(w,E,d)}return Qo={createSymlink:e(h),createSymlinkSync:p},Qo}var Zo,wd;function FE(){if(wd)return Zo;wd=1;const{createFile:e,createFileSync:t}=CE(),{createLink:r,createLinkSync:n}=NE(),{createSymlink:i,createSymlinkSync:o}=kE();return Zo={createFile:e,createFileSync:t,ensureFile:e,ensureFileSync:t,createLink:r,createLinkSync:n,ensureLink:r,ensureLinkSync:n,createSymlink:i,createSymlinkSync:o,ensureSymlink:i,ensureSymlinkSync:o},Zo}var ea,gd;function Ka(){if(gd)return ea;gd=1;function e(r,{EOL:n=`
`,finalEOL:i=!0,replacer:o=null,spaces:s}={}){const l=i?n:"";return JSON.stringify(r,o,s).replace(/\n/g,n)+l}function t(r){return Buffer.isBuffer(r)&&(r=r.toString("utf8")),r.replace(/^\uFEFF/,"")}return ea={stringify:e,stripBom:t},ea}var ta,_d;function qE(){if(_d)return ta;_d=1;let e;try{e=Ur()}catch{e=qe}const t=je(),{stringify:r,stripBom:n}=Ka();async function i(h,p={}){typeof p=="string"&&(p={encoding:p});const w=p.fs||e,E="throws"in p?p.throws:!0;let d=await t.fromCallback(w.readFile)(h,p);d=n(d);let f;try{f=JSON.parse(d,p?p.reviver:null)}catch(m){if(E)throw m.message=`${h}: ${m.message}`,m;return null}return f}const o=t.fromPromise(i);function s(h,p={}){typeof p=="string"&&(p={encoding:p});const w=p.fs||e,E="throws"in p?p.throws:!0;try{let d=w.readFileSync(h,p);return d=n(d),JSON.parse(d,p.reviver)}catch(d){if(E)throw d.message=`${h}: ${d.message}`,d;return null}}async function l(h,p,w={}){const E=w.fs||e,d=r(p,w);await t.fromCallback(E.writeFile)(h,d,w)}const u=t.fromPromise(l);function c(h,p,w={}){const E=w.fs||e,d=r(p,w);return E.writeFileSync(h,d,w)}return ta={readFile:o,readFileSync:s,writeFile:u,writeFileSync:c},ta}var ra,Ed;function UE(){if(Ed)return ra;Ed=1;const e=qE();return ra={readJson:e.readFile,readJsonSync:e.readFileSync,writeJson:e.writeFile,writeJsonSync:e.writeFileSync},ra}var na,Sd;function Ya(){if(Sd)return na;Sd=1;const e=je().fromPromise,t=Xe(),r=ue,n=At(),i=or().pathExists;async function o(l,u,c="utf-8"){const a=r.dirname(l);return await i(a)||await n.mkdirs(a),t.writeFile(l,u,c)}function s(l,...u){const c=r.dirname(l);t.existsSync(c)||n.mkdirsSync(c),t.writeFileSync(l,...u)}return na={outputFile:e(o),outputFileSync:s},na}var ia,bd;function jE(){if(bd)return ia;bd=1;const{stringify:e}=Ka(),{outputFile:t}=Ya();async function r(n,i,o={}){const s=e(i,o);await t(n,s,o)}return ia=r,ia}var sa,Rd;function ME(){if(Rd)return sa;Rd=1;const{stringify:e}=Ka(),{outputFileSync:t}=Ya();function r(n,i,o){const s=e(i,o);t(n,s,o)}return sa=r,sa}var oa,$d;function GE(){if($d)return oa;$d=1;const e=je().fromPromise,t=UE();return t.outputJson=e(jE()),t.outputJsonSync=ME(),t.outputJSON=t.outputJson,t.outputJSONSync=t.outputJsonSync,t.writeJSON=t.writeJson,t.writeJSONSync=t.writeJsonSync,t.readJSON=t.readJson,t.readJSONSync=t.readJsonSync,oa=t,oa}var aa,Od;function VE(){if(Od)return aa;Od=1;const e=Xe(),t=ue,{copy:r}=Xa(),{remove:n}=qn(),{mkdirp:i}=At(),{pathExists:o}=or(),s=_r();async function l(a,h,p={}){const w=p.overwrite||p.clobber||!1,{srcStat:E,isChangingCase:d=!1}=await s.checkPaths(a,h,"move",p);await s.checkParentPaths(a,E,h,"move");const f=t.dirname(h);return t.parse(f).root!==f&&await i(f),u(a,h,w,d)}async function u(a,h,p,w){if(!w){if(p)await n(h);else if(await o(h))throw new Error("dest already exists.")}try{await e.rename(a,h)}catch(E){if(E.code!=="EXDEV")throw E;await c(a,h,p)}}async function c(a,h,p){return await r(a,h,{overwrite:p,errorOnExist:!0,preserveTimestamps:!0}),n(a)}return aa=l,aa}var ca,Id;function BE(){if(Id)return ca;Id=1;const e=Ur(),t=ue,r=Xa().copySync,n=qn().removeSync,i=At().mkdirpSync,o=_r();function s(h,p,w){w=w||{};const E=w.overwrite||w.clobber||!1,{srcStat:d,isChangingCase:f=!1}=o.checkPathsSync(h,p,"move",w);return o.checkParentPathsSync(h,d,p,"move"),l(p)||i(t.dirname(p)),u(h,p,E,f)}function l(h){const p=t.dirname(h);return t.parse(p).root===p}function u(h,p,w,E){if(E)return c(h,p,w);if(w)return n(p),c(h,p,w);if(e.existsSync(p))throw new Error("dest already exists.");return c(h,p,w)}function c(h,p,w){try{e.renameSync(h,p)}catch(E){if(E.code!=="EXDEV")throw E;return a(h,p,w)}}function a(h,p,w){return r(h,p,{overwrite:w,errorOnExist:!0,preserveTimestamps:!0}),n(h)}return ca=s,ca}var ua,Pd;function HE(){if(Pd)return ua;Pd=1;const e=je().fromPromise;return ua={move:e(VE()),moveSync:BE()},ua}var la,Td;function zE(){return Td||(Td=1,la={...Xe(),...Xa(),...AE(),...FE(),...GE(),...At(),...HE(),...Ya(),...or(),...qn()}),la}var Gh=zE();let Dt;async function Vh(e){if(process.platform!=="win32")return;if(typeof Dt=="string")return{binDir:Dt};const t=pe.sync("choco",{nothrow:!0});if(t!==null)return Dt=Pe(t),{binDir:Dt};let r="powershell.exe";const n=pe.sync(`${process.env.SystemRoot}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`,{nothrow:!0});n!==null&&(r=n),Be(r,["-NoProfile","-InputFormat","None","-ExecutionPolicy","Bypass","-Command","[System.Net.ServicePointManager]::SecurityProtocol = 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))"],{stdio:"inherit"});const i=`${process.env.ALLUSERSPROFILE}\\chocolatey\\bin`;await Re(i,ne);const o=pe.sync("choco",{nothrow:!0});if(o!==null?Dt=Pe(o):Dt=`${process.env.ChocolateyInstall??"C:/ProgramData/chocolatey"}/bin`,await me(Dt))return{binDir:Dt}}let xd=!1;async function Le(e,t,r=[]){W(`Installing ${e} ${t??""} via chocolatey`),(!xd||pe.sync("choco",{nothrow:!0})===null)&&(await Vh(),xd=!0);const n=process.env.PATH,i={...process.env};if(i.TMP=void 0,i.TEMP=void 0,i.Path=void 0,i.PATH=n,t!==void 0&&t!=="")Be("choco",["install","-y",e,`--version=${t}`,...r],{env:i,extendEnv:!1,stdio:"inherit"});else try{Be("choco",["install","-y",e,...r],{env:i,extendEnv:!1,stdio:"inherit"})}catch(s){if(s.message.includes("exit code 3010"))W(`${e} might require a reboot for the completion of the installation.`);else throw s}const o=`${process.env.ChocolateyInstall??"C:/ProgramData/chocolatey"}/bin`;return await Re(o,ne),{binDir:o}}async function sn({version:e}){switch(process.platform){case"win32":return Le("7zip",e);case"darwin":return He("p7zip",e);case"linux":{if($e())return we("p7zip",e);if(Te())return xe([{name:"p7zip",version:e},{name:"p7zip-plugins",version:e}]);if(ye())return fe([{name:"p7zip-full",version:e}]);if(await be())return Ne([{name:"p7zip",version:e}]);throw new Error("Unsupported linux distribution")}default:throw new Error("Unsupported platform")}}var ae={},Or={exports:{}},Zr={exports:{}},Ad;function Bh(){return Ad||(Ad=1,function(e,t){t=e.exports=g;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var R=Array.prototype.slice.call(arguments,0);R.unshift("SEMVER"),console.log.apply(console,R)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=n-6,l=t.re=[],u=t.safeRe=[],c=t.src=[],a=t.tokens={},h=0;function p(R){a[R]=h++}var w="[a-zA-Z0-9-]",E=[["\\s",1],["\\d",n],[w,s]];function d(R){for(var O=0;O<E.length;O++){var P=E[O][0],q=E[O][1];R=R.split(P+"*").join(P+"{0,"+q+"}").split(P+"+").join(P+"{1,"+q+"}")}return R}p("NUMERICIDENTIFIER"),c[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",p("NUMERICIDENTIFIERLOOSE"),c[a.NUMERICIDENTIFIERLOOSE]="\\d+",p("NONNUMERICIDENTIFIER"),c[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-]"+w+"*",p("MAINVERSION"),c[a.MAINVERSION]="("+c[a.NUMERICIDENTIFIER]+")\\.("+c[a.NUMERICIDENTIFIER]+")\\.("+c[a.NUMERICIDENTIFIER]+")",p("MAINVERSIONLOOSE"),c[a.MAINVERSIONLOOSE]="("+c[a.NUMERICIDENTIFIERLOOSE]+")\\.("+c[a.NUMERICIDENTIFIERLOOSE]+")\\.("+c[a.NUMERICIDENTIFIERLOOSE]+")",p("PRERELEASEIDENTIFIER"),c[a.PRERELEASEIDENTIFIER]="(?:"+c[a.NUMERICIDENTIFIER]+"|"+c[a.NONNUMERICIDENTIFIER]+")",p("PRERELEASEIDENTIFIERLOOSE"),c[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+c[a.NUMERICIDENTIFIERLOOSE]+"|"+c[a.NONNUMERICIDENTIFIER]+")",p("PRERELEASE"),c[a.PRERELEASE]="(?:-("+c[a.PRERELEASEIDENTIFIER]+"(?:\\."+c[a.PRERELEASEIDENTIFIER]+")*))",p("PRERELEASELOOSE"),c[a.PRERELEASELOOSE]="(?:-?("+c[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+c[a.PRERELEASEIDENTIFIERLOOSE]+")*))",p("BUILDIDENTIFIER"),c[a.BUILDIDENTIFIER]=w+"+",p("BUILD"),c[a.BUILD]="(?:\\+("+c[a.BUILDIDENTIFIER]+"(?:\\."+c[a.BUILDIDENTIFIER]+")*))",p("FULL"),p("FULLPLAIN"),c[a.FULLPLAIN]="v?"+c[a.MAINVERSION]+c[a.PRERELEASE]+"?"+c[a.BUILD]+"?",c[a.FULL]="^"+c[a.FULLPLAIN]+"$",p("LOOSEPLAIN"),c[a.LOOSEPLAIN]="[v=\\s]*"+c[a.MAINVERSIONLOOSE]+c[a.PRERELEASELOOSE]+"?"+c[a.BUILD]+"?",p("LOOSE"),c[a.LOOSE]="^"+c[a.LOOSEPLAIN]+"$",p("GTLT"),c[a.GTLT]="((?:<|>)?=?)",p("XRANGEIDENTIFIERLOOSE"),c[a.XRANGEIDENTIFIERLOOSE]=c[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",p("XRANGEIDENTIFIER"),c[a.XRANGEIDENTIFIER]=c[a.NUMERICIDENTIFIER]+"|x|X|\\*",p("XRANGEPLAIN"),c[a.XRANGEPLAIN]="[v=\\s]*("+c[a.XRANGEIDENTIFIER]+")(?:\\.("+c[a.XRANGEIDENTIFIER]+")(?:\\.("+c[a.XRANGEIDENTIFIER]+")(?:"+c[a.PRERELEASE]+")?"+c[a.BUILD]+"?)?)?",p("XRANGEPLAINLOOSE"),c[a.XRANGEPLAINLOOSE]="[v=\\s]*("+c[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+c[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+c[a.XRANGEIDENTIFIERLOOSE]+")(?:"+c[a.PRERELEASELOOSE]+")?"+c[a.BUILD]+"?)?)?",p("XRANGE"),c[a.XRANGE]="^"+c[a.GTLT]+"\\s*"+c[a.XRANGEPLAIN]+"$",p("XRANGELOOSE"),c[a.XRANGELOOSE]="^"+c[a.GTLT]+"\\s*"+c[a.XRANGEPLAINLOOSE]+"$",p("COERCE"),c[a.COERCE]="(^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])",p("COERCERTL"),l[a.COERCERTL]=new RegExp(c[a.COERCE],"g"),u[a.COERCERTL]=new RegExp(d(c[a.COERCE]),"g"),p("LONETILDE"),c[a.LONETILDE]="(?:~>?)",p("TILDETRIM"),c[a.TILDETRIM]="(\\s*)"+c[a.LONETILDE]+"\\s+",l[a.TILDETRIM]=new RegExp(c[a.TILDETRIM],"g"),u[a.TILDETRIM]=new RegExp(d(c[a.TILDETRIM]),"g");var f="$1~";p("TILDE"),c[a.TILDE]="^"+c[a.LONETILDE]+c[a.XRANGEPLAIN]+"$",p("TILDELOOSE"),c[a.TILDELOOSE]="^"+c[a.LONETILDE]+c[a.XRANGEPLAINLOOSE]+"$",p("LONECARET"),c[a.LONECARET]="(?:\\^)",p("CARETTRIM"),c[a.CARETTRIM]="(\\s*)"+c[a.LONECARET]+"\\s+",l[a.CARETTRIM]=new RegExp(c[a.CARETTRIM],"g"),u[a.CARETTRIM]=new RegExp(d(c[a.CARETTRIM]),"g");var m="$1^";p("CARET"),c[a.CARET]="^"+c[a.LONECARET]+c[a.XRANGEPLAIN]+"$",p("CARETLOOSE"),c[a.CARETLOOSE]="^"+c[a.LONECARET]+c[a.XRANGEPLAINLOOSE]+"$",p("COMPARATORLOOSE"),c[a.COMPARATORLOOSE]="^"+c[a.GTLT]+"\\s*("+c[a.LOOSEPLAIN]+")$|^$",p("COMPARATOR"),c[a.COMPARATOR]="^"+c[a.GTLT]+"\\s*("+c[a.FULLPLAIN]+")$|^$",p("COMPARATORTRIM"),c[a.COMPARATORTRIM]="(\\s*)"+c[a.GTLT]+"\\s*("+c[a.LOOSEPLAIN]+"|"+c[a.XRANGEPLAIN]+")",l[a.COMPARATORTRIM]=new RegExp(c[a.COMPARATORTRIM],"g"),u[a.COMPARATORTRIM]=new RegExp(d(c[a.COMPARATORTRIM]),"g");var y="$1$2$3";p("HYPHENRANGE"),c[a.HYPHENRANGE]="^\\s*("+c[a.XRANGEPLAIN]+")\\s+-\\s+("+c[a.XRANGEPLAIN]+")\\s*$",p("HYPHENRANGELOOSE"),c[a.HYPHENRANGELOOSE]="^\\s*("+c[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+c[a.XRANGEPLAINLOOSE]+")\\s*$",p("STAR"),c[a.STAR]="(<|>)?=?\\s*\\*";for(var v=0;v<h;v++)r(v,c[v]),l[v]||(l[v]=new RegExp(c[v]),u[v]=new RegExp(d(c[v])));t.parse=S;function S(R,O){if((!O||typeof O!="object")&&(O={loose:!!O,includePrerelease:!1}),R instanceof g)return R;if(typeof R!="string"||R.length>n)return null;var P=O.loose?u[a.LOOSE]:u[a.FULL];if(!P.test(R))return null;try{return new g(R,O)}catch{return null}}t.valid=_;function _(R,O){var P=S(R,O);return P?P.version:null}t.clean=b;function b(R,O){var P=S(R.trim().replace(/^[=v]+/,""),O);return P?P.version:null}t.SemVer=g;function g(R,O){if((!O||typeof O!="object")&&(O={loose:!!O,includePrerelease:!1}),R instanceof g){if(R.loose===O.loose)return R;R=R.version}else if(typeof R!="string")throw new TypeError("Invalid Version: "+R);if(R.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof g))return new g(R,O);r("SemVer",R,O),this.options=O,this.loose=!!O.loose;var P=R.trim().match(O.loose?u[a.LOOSE]:u[a.FULL]);if(!P)throw new TypeError("Invalid Version: "+R);if(this.raw=R,this.major=+P[1],this.minor=+P[2],this.patch=+P[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");P[4]?this.prerelease=P[4].split(".").map(function(q){if(/^[0-9]+$/.test(q)){var V=+q;if(V>=0&&V<i)return V}return q}):this.prerelease=[],this.build=P[5]?P[5].split("."):[],this.format()}g.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},g.prototype.toString=function(){return this.version},g.prototype.compare=function(R){return r("SemVer.compare",this.version,this.options,R),R instanceof g||(R=new g(R,this.options)),this.compareMain(R)||this.comparePre(R)},g.prototype.compareMain=function(R){return R instanceof g||(R=new g(R,this.options)),M(this.major,R.major)||M(this.minor,R.minor)||M(this.patch,R.patch)},g.prototype.comparePre=function(R){if(R instanceof g||(R=new g(R,this.options)),this.prerelease.length&&!R.prerelease.length)return-1;if(!this.prerelease.length&&R.prerelease.length)return 1;if(!this.prerelease.length&&!R.prerelease.length)return 0;var O=0;do{var P=this.prerelease[O],q=R.prerelease[O];if(r("prerelease compare",O,P,q),P===void 0&&q===void 0)return 0;if(q===void 0)return 1;if(P===void 0)return-1;if(P===q)continue;return M(P,q)}while(++O)},g.prototype.compareBuild=function(R){R instanceof g||(R=new g(R,this.options));var O=0;do{var P=this.build[O],q=R.build[O];if(r("prerelease compare",O,P,q),P===void 0&&q===void 0)return 0;if(q===void 0)return 1;if(P===void 0)return-1;if(P===q)continue;return M(P,q)}while(++O)},g.prototype.inc=function(R,O){switch(R){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",O);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",O);break;case"prepatch":this.prerelease.length=0,this.inc("patch",O),this.inc("pre",O);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",O),this.inc("pre",O);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var P=this.prerelease.length;--P>=0;)typeof this.prerelease[P]=="number"&&(this.prerelease[P]++,P=-2);P===-1&&this.prerelease.push(0)}O&&(this.prerelease[0]===O?isNaN(this.prerelease[1])&&(this.prerelease=[O,0]):this.prerelease=[O,0]);break;default:throw new Error("invalid increment argument: "+R)}return this.format(),this.raw=this.version,this},t.inc=$;function $(R,O,P,q){typeof P=="string"&&(q=P,P=void 0);try{return new g(R,P).inc(O,q).version}catch{return null}}t.diff=I;function I(R,O){if(ce(R,O))return null;var P=S(R),q=S(O),V="";if(P.prerelease.length||q.prerelease.length){V="pre";var Q="prerelease"}for(var te in P)if((te==="major"||te==="minor"||te==="patch")&&P[te]!==q[te])return V+te;return Q}t.compareIdentifiers=M;var A=/^[0-9]+$/;function M(R,O){var P=A.test(R),q=A.test(O);return P&&q&&(R=+R,O=+O),R===O?0:P&&!q?-1:q&&!P?1:R<O?-1:1}t.rcompareIdentifiers=K;function K(R,O){return M(O,R)}t.major=J;function J(R,O){return new g(R,O).major}t.minor=x;function x(R,O){return new g(R,O).minor}t.patch=T;function T(R,O){return new g(R,O).patch}t.compare=F;function F(R,O,P){return new g(R,P).compare(new g(O,P))}t.compareLoose=U;function U(R,O){return F(R,O,!0)}t.compareBuild=k;function k(R,O,P){var q=new g(R,P),V=new g(O,P);return q.compare(V)||q.compareBuild(V)}t.rcompare=G;function G(R,O,P){return F(O,R,P)}t.sort=C;function C(R,O){return R.sort(function(P,q){return t.compareBuild(P,q,O)})}t.rsort=H;function H(R,O){return R.sort(function(P,q){return t.compareBuild(q,P,O)})}t.gt=z;function z(R,O,P){return F(R,O,P)>0}t.lt=re;function re(R,O,P){return F(R,O,P)<0}t.eq=ce;function ce(R,O,P){return F(R,O,P)===0}t.neq=X;function X(R,O,P){return F(R,O,P)!==0}t.gte=ie;function ie(R,O,P){return F(R,O,P)>=0}t.lte=se;function se(R,O,P){return F(R,O,P)<=0}t.cmp=ve;function ve(R,O,P,q){switch(O){case"===":return typeof R=="object"&&(R=R.version),typeof P=="object"&&(P=P.version),R===P;case"!==":return typeof R=="object"&&(R=R.version),typeof P=="object"&&(P=P.version),R!==P;case"":case"=":case"==":return ce(R,P,q);case"!=":return X(R,P,q);case">":return z(R,P,q);case">=":return ie(R,P,q);case"<":return re(R,P,q);case"<=":return se(R,P,q);default:throw new TypeError("Invalid operator: "+O)}}t.Comparator=D;function D(R,O){if((!O||typeof O!="object")&&(O={loose:!!O,includePrerelease:!1}),R instanceof D){if(R.loose===!!O.loose)return R;R=R.value}if(!(this instanceof D))return new D(R,O);R=R.trim().split(/\s+/).join(" "),r("comparator",R,O),this.options=O,this.loose=!!O.loose,this.parse(R),this.semver===L?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var L={};D.prototype.parse=function(R){var O=this.options.loose?u[a.COMPARATORLOOSE]:u[a.COMPARATOR],P=R.match(O);if(!P)throw new TypeError("Invalid comparator: "+R);this.operator=P[1]!==void 0?P[1]:"",this.operator==="="&&(this.operator=""),P[2]?this.semver=new g(P[2],this.options.loose):this.semver=L},D.prototype.toString=function(){return this.value},D.prototype.test=function(R){if(r("Comparator.test",R,this.options.loose),this.semver===L||R===L)return!0;if(typeof R=="string")try{R=new g(R,this.options)}catch{return!1}return ve(R,this.operator,this.semver,this.options)},D.prototype.intersects=function(R,O){if(!(R instanceof D))throw new TypeError("a Comparator is required");(!O||typeof O!="object")&&(O={loose:!!O,includePrerelease:!1});var P;if(this.operator==="")return this.value===""?!0:(P=new N(R.value,O),jr(this.value,P,O));if(R.operator==="")return R.value===""?!0:(P=new N(this.value,O),jr(R.semver,P,O));var q=(this.operator===">="||this.operator===">")&&(R.operator===">="||R.operator===">"),V=(this.operator==="<="||this.operator==="<")&&(R.operator==="<="||R.operator==="<"),Q=this.semver.version===R.semver.version,te=(this.operator===">="||this.operator==="<=")&&(R.operator===">="||R.operator==="<="),de=ve(this.semver,"<",R.semver,O)&&(this.operator===">="||this.operator===">")&&(R.operator==="<="||R.operator==="<"),oe=ve(this.semver,">",R.semver,O)&&(this.operator==="<="||this.operator==="<")&&(R.operator===">="||R.operator===">");return q||V||Q&&te||de||oe},t.Range=N;function N(R,O){if((!O||typeof O!="object")&&(O={loose:!!O,includePrerelease:!1}),R instanceof N)return R.loose===!!O.loose&&R.includePrerelease===!!O.includePrerelease?R:new N(R.raw,O);if(R instanceof D)return new N(R.value,O);if(!(this instanceof N))return new N(R,O);if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=R.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(P){return this.parseRange(P.trim())},this).filter(function(P){return P.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}N.prototype.format=function(){return this.range=this.set.map(function(R){return R.join(" ").trim()}).join("||").trim(),this.range},N.prototype.toString=function(){return this.range},N.prototype.parseRange=function(R){var O=this.options.loose,P=O?u[a.HYPHENRANGELOOSE]:u[a.HYPHENRANGE];R=R.replace(P,gm),r("hyphen replace",R),R=R.replace(u[a.COMPARATORTRIM],y),r("comparator trim",R,u[a.COMPARATORTRIM]),R=R.replace(u[a.TILDETRIM],f),R=R.replace(u[a.CARETTRIM],m),R=R.split(/\s+/).join(" ");var q=O?u[a.COMPARATORLOOSE]:u[a.COMPARATOR],V=R.split(" ").map(function(Q){return ee(Q,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(V=V.filter(function(Q){return!!Q.match(q)})),V=V.map(function(Q){return new D(Q,this.options)},this),V},N.prototype.intersects=function(R,O){if(!(R instanceof N))throw new TypeError("a Range is required");return this.set.some(function(P){return j(P,O)&&R.set.some(function(q){return j(q,O)&&P.every(function(V){return q.every(function(Q){return V.intersects(Q,O)})})})})};function j(R,O){for(var P=!0,q=R.slice(),V=q.pop();P&&q.length;)P=q.every(function(Q){return V.intersects(Q,O)}),V=q.pop();return P}t.toComparators=B;function B(R,O){return new N(R,O).set.map(function(P){return P.map(function(q){return q.value}).join(" ").trim().split(" ")})}function ee(R,O){return r("comp",R,O),R=Ke(R,O),r("caret",R),R=ke(R,O),r("tildes",R),R=Ct(R,O),r("xrange",R),R=wm(R,O),r("stars",R),R}function Y(R){return!R||R.toLowerCase()==="x"||R==="*"}function ke(R,O){return R.trim().split(/\s+/).map(function(P){return Ae(P,O)}).join(" ")}function Ae(R,O){var P=O.loose?u[a.TILDELOOSE]:u[a.TILDE];return R.replace(P,function(q,V,Q,te,de){r("tilde",R,q,V,Q,te,de);var oe;return Y(V)?oe="":Y(Q)?oe=">="+V+".0.0 <"+(+V+1)+".0.0":Y(te)?oe=">="+V+"."+Q+".0 <"+V+"."+(+Q+1)+".0":de?(r("replaceTilde pr",de),oe=">="+V+"."+Q+"."+te+"-"+de+" <"+V+"."+(+Q+1)+".0"):oe=">="+V+"."+Q+"."+te+" <"+V+"."+(+Q+1)+".0",r("tilde return",oe),oe})}function Ke(R,O){return R.trim().split(/\s+/).map(function(P){return Ce(P,O)}).join(" ")}function Ce(R,O){r("caret",R,O);var P=O.loose?u[a.CARETLOOSE]:u[a.CARET];return R.replace(P,function(q,V,Q,te,de){r("caret",R,q,V,Q,te,de);var oe;return Y(V)?oe="":Y(Q)?oe=">="+V+".0.0 <"+(+V+1)+".0.0":Y(te)?V==="0"?oe=">="+V+"."+Q+".0 <"+V+"."+(+Q+1)+".0":oe=">="+V+"."+Q+".0 <"+(+V+1)+".0.0":de?(r("replaceCaret pr",de),V==="0"?Q==="0"?oe=">="+V+"."+Q+"."+te+"-"+de+" <"+V+"."+Q+"."+(+te+1):oe=">="+V+"."+Q+"."+te+"-"+de+" <"+V+"."+(+Q+1)+".0":oe=">="+V+"."+Q+"."+te+"-"+de+" <"+(+V+1)+".0.0"):(r("no pr"),V==="0"?Q==="0"?oe=">="+V+"."+Q+"."+te+" <"+V+"."+Q+"."+(+te+1):oe=">="+V+"."+Q+"."+te+" <"+V+"."+(+Q+1)+".0":oe=">="+V+"."+Q+"."+te+" <"+(+V+1)+".0.0"),r("caret return",oe),oe})}function Ct(R,O){return r("replaceXRanges",R,O),R.split(/\s+/).map(function(P){return vm(P,O)}).join(" ")}function vm(R,O){R=R.trim();var P=O.loose?u[a.XRANGELOOSE]:u[a.XRANGE];return R.replace(P,function(q,V,Q,te,de,oe){r("xRange",R,q,V,Q,te,de,oe);var gt=Y(Q),_t=gt||Y(te),it=_t||Y(de),Ye=it;return V==="="&&Ye&&(V=""),oe=O.includePrerelease?"-0":"",gt?V===">"||V==="<"?q="<0.0.0-0":q="*":V&&Ye?(_t&&(te=0),de=0,V===">"?(V=">=",_t?(Q=+Q+1,te=0,de=0):(te=+te+1,de=0)):V==="<="&&(V="<",_t?Q=+Q+1:te=+te+1),q=V+Q+"."+te+"."+de+oe):_t?q=">="+Q+".0.0"+oe+" <"+(+Q+1)+".0.0"+oe:it&&(q=">="+Q+"."+te+".0"+oe+" <"+Q+"."+(+te+1)+".0"+oe),r("xRange return",q),q})}function wm(R,O){return r("replaceStars",R,O),R.trim().replace(u[a.STAR],"")}function gm(R,O,P,q,V,Q,te,de,oe,gt,_t,it,Ye){return Y(P)?O="":Y(q)?O=">="+P+".0.0":Y(V)?O=">="+P+"."+q+".0":O=">="+O,Y(oe)?de="":Y(gt)?de="<"+(+oe+1)+".0.0":Y(_t)?de="<"+oe+"."+(+gt+1)+".0":it?de="<="+oe+"."+gt+"."+_t+"-"+it:de="<="+de,(O+" "+de).trim()}N.prototype.test=function(R){if(!R)return!1;if(typeof R=="string")try{R=new g(R,this.options)}catch{return!1}for(var O=0;O<this.set.length;O++)if(_m(this.set[O],R,this.options))return!0;return!1};function _m(R,O,P){for(var q=0;q<R.length;q++)if(!R[q].test(O))return!1;if(O.prerelease.length&&!P.includePrerelease){for(q=0;q<R.length;q++)if(r(R[q].semver),R[q].semver!==L&&R[q].semver.prerelease.length>0){var V=R[q].semver;if(V.major===O.major&&V.minor===O.minor&&V.patch===O.patch)return!0}return!1}return!0}t.satisfies=jr;function jr(R,O,P){try{O=new N(O,P)}catch{return!1}return O.test(R)}t.maxSatisfying=Em;function Em(R,O,P){var q=null,V=null;try{var Q=new N(O,P)}catch{return null}return R.forEach(function(te){Q.test(te)&&(!q||V.compare(te)===-1)&&(q=te,V=new g(q,P))}),q}t.minSatisfying=Sm;function Sm(R,O,P){var q=null,V=null;try{var Q=new N(O,P)}catch{return null}return R.forEach(function(te){Q.test(te)&&(!q||V.compare(te)===1)&&(q=te,V=new g(q,P))}),q}t.minVersion=bm;function bm(R,O){R=new N(R,O);var P=new g("0.0.0");if(R.test(P)||(P=new g("0.0.0-0"),R.test(P)))return P;P=null;for(var q=0;q<R.set.length;++q){var V=R.set[q];V.forEach(function(Q){var te=new g(Q.semver.version);switch(Q.operator){case">":te.prerelease.length===0?te.patch++:te.prerelease.push(0),te.raw=te.format();case"":case">=":(!P||z(P,te))&&(P=te);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+Q.operator)}})}return P&&R.test(P)?P:null}t.validRange=Rm;function Rm(R,O){try{return new N(R,O).range||"*"}catch{return null}}t.ltr=$m;function $m(R,O,P){return Un(R,O,"<",P)}t.gtr=Om;function Om(R,O,P){return Un(R,O,">",P)}t.outside=Un;function Un(R,O,P,q){R=new g(R,q),O=new N(O,q);var V,Q,te,de,oe;switch(P){case">":V=z,Q=se,te=re,de=">",oe=">=";break;case"<":V=re,Q=ie,te=z,de="<",oe="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(R,O,q))return!1;for(var gt=0;gt<O.set.length;++gt){var _t=O.set[gt],it=null,Ye=null;if(_t.forEach(function(Lt){Lt.semver===L&&(Lt=new D(">=0.0.0")),it=it||Lt,Ye=Ye||Lt,V(Lt.semver,it.semver,q)?it=Lt:te(Lt.semver,Ye.semver,q)&&(Ye=Lt)}),it.operator===de||it.operator===oe||(!Ye.operator||Ye.operator===de)&&Q(R,Ye.semver))return!1;if(Ye.operator===oe&&te(R,Ye.semver))return!1}return!0}t.prerelease=Im;function Im(R,O){var P=S(R,O);return P&&P.prerelease.length?P.prerelease:null}t.intersects=Pm;function Pm(R,O,P){return R=new N(R,P),O=new N(O,P),R.intersects(O)}t.coerce=Tm;function Tm(R,O){if(R instanceof g)return R;if(typeof R=="number"&&(R=String(R)),typeof R!="string")return null;O=O||{};var P=null;if(!O.rtl)P=R.match(u[a.COERCE]);else{for(var q;(q=u[a.COERCERTL].exec(R))&&(!P||P.index+P[0].length!==R.length);)(!P||q.index+q[0].length!==P.index+P[0].length)&&(P=q),u[a.COERCERTL].lastIndex=q.index+q[1].length+q[2].length;u[a.COERCERTL].lastIndex=-1}return P===null?null:S(P[2]+"."+(P[3]||"0")+"."+(P[4]||"0"),O)}}(Zr,Zr.exports)),Zr.exports}var kt=Or.exports,Cd;function WE(){return Cd||(Cd=1,function(e,t){var r=kt&&kt.__createBinding||(Object.create?function(E,d,f,m){m===void 0&&(m=f);var y=Object.getOwnPropertyDescriptor(d,f);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(E,m,y)}:function(E,d,f,m){m===void 0&&(m=f),E[m]=d[f]}),n=kt&&kt.__setModuleDefault||(Object.create?function(E,d){Object.defineProperty(E,"default",{enumerable:!0,value:d})}:function(E,d){E.default=d}),i=kt&&kt.__importStar||function(E){if(E&&E.__esModule)return E;var d={};if(E!=null)for(var f in E)f!=="default"&&Object.prototype.hasOwnProperty.call(E,f)&&r(d,E,f);return n(d,E),d},o=kt&&kt.__awaiter||function(E,d,f,m){function y(v){return v instanceof f?v:new f(function(S){S(v)})}return new(f||(f=Promise))(function(v,S){function _($){try{g(m.next($))}catch(I){S(I)}}function b($){try{g(m.throw($))}catch(I){S(I)}}function g($){$.done?v($.value):y($.value).then(_,b)}g((m=m.apply(E,d||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._readLinuxVersionFile=t._getOsVersion=t._findMatch=void 0;const s=i(Bh()),l=hr(),u=nt,c=Cr,a=qe;function h(E,d,f,m){return o(this,void 0,void 0,function*(){const y=u.platform();let v,S,_;for(const b of f){const g=b.version;if((0,l.debug)(`check ${g} satisfies ${E}`),s.satisfies(g,E)&&(!d||b.stable===d)&&(_=b.files.find($=>{(0,l.debug)(`${$.arch}===${m} && ${$.platform}===${y}`);let I=$.arch===m&&$.platform===y;if(I&&$.platform_version){const A=e.exports._getOsVersion();A===$.platform_version?I=!0:I=s.satisfies(A,$.platform_version)}return I}),_)){(0,l.debug)(`matched ${b.version}`),S=b;break}}return S&&_&&(v=Object.assign({},S),v.files=[_]),v})}t._findMatch=h;function p(){const E=u.platform();let d="";if(E==="darwin")d=c.execSync("sw_vers -productVersion").toString();else if(E==="linux"){const f=e.exports._readLinuxVersionFile();if(f){const m=f.split(`
`);for(const y of m){const v=y.split("=");if(v.length===2&&(v[0].trim()==="VERSION_ID"||v[0].trim()==="DISTRIB_RELEASE")){d=v[1].trim().replace(/^"/,"").replace(/"$/,"");break}}}}return d}t._getOsVersion=p;function w(){const E="/etc/lsb-release",d="/etc/os-release";let f="";return a.existsSync(E)?f=a.readFileSync(E).toString():a.existsSync(d)&&(f=a.readFileSync(d).toString()),f}t._readLinuxVersionFile=w}(Or,Or.exports)),Or.exports}var et={},Nd;function XE(){if(Nd)return et;Nd=1;var e=et&&et.__createBinding||(Object.create?function(s,l,u,c){c===void 0&&(c=u);var a=Object.getOwnPropertyDescriptor(l,u);(!a||("get"in a?!l.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,c,a)}:function(s,l,u,c){c===void 0&&(c=u),s[c]=l[u]}),t=et&&et.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),r=et&&et.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var u in s)u!=="default"&&Object.prototype.hasOwnProperty.call(s,u)&&e(l,s,u);return t(l,s),l},n=et&&et.__awaiter||function(s,l,u,c){function a(h){return h instanceof u?h:new u(function(p){p(h)})}return new(u||(u=Promise))(function(h,p){function w(f){try{d(c.next(f))}catch(m){p(m)}}function E(f){try{d(c.throw(f))}catch(m){p(m)}}function d(f){f.done?h(f.value):a(f.value).then(w,E)}d((c=c.apply(s,l||[])).next())})};Object.defineProperty(et,"__esModule",{value:!0}),et.RetryHelper=void 0;const i=r(hr());class o{constructor(l,u,c){if(l<1)throw new Error("max attempts should be greater than or equal to 1");if(this.maxAttempts=l,this.minSeconds=Math.floor(u),this.maxSeconds=Math.floor(c),this.minSeconds>this.maxSeconds)throw new Error("min seconds should be less than or equal to max seconds")}execute(l,u){return n(this,void 0,void 0,function*(){let c=1;for(;c<this.maxAttempts;){try{return yield l()}catch(h){if(u&&!u(h))throw h;i.info(h.message)}const a=this.getSleepAmount();i.info(`Waiting ${a} seconds before trying again`),yield this.sleep(a),c++}return yield l()})}getSleepAmount(){return Math.floor(Math.random()*(this.maxSeconds-this.minSeconds+1))+this.minSeconds}sleep(l){return n(this,void 0,void 0,function*(){return new Promise(u=>setTimeout(u,l*1e3))})}}return et.RetryHelper=o,et}var Ld;function KE(){if(Ld)return ae;Ld=1;var e=ae&&ae.__createBinding||(Object.create?function(D,L,N,j){j===void 0&&(j=N);var B=Object.getOwnPropertyDescriptor(L,N);(!B||("get"in B?!L.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return L[N]}}),Object.defineProperty(D,j,B)}:function(D,L,N,j){j===void 0&&(j=N),D[j]=L[N]}),t=ae&&ae.__setModuleDefault||(Object.create?function(D,L){Object.defineProperty(D,"default",{enumerable:!0,value:L})}:function(D,L){D.default=L}),r=ae&&ae.__importStar||function(D){if(D&&D.__esModule)return D;var L={};if(D!=null)for(var N in D)N!=="default"&&Object.prototype.hasOwnProperty.call(D,N)&&e(L,D,N);return t(L,D),L},n=ae&&ae.__awaiter||function(D,L,N,j){function B(ee){return ee instanceof N?ee:new N(function(Y){Y(ee)})}return new(N||(N=Promise))(function(ee,Y){function ke(Ce){try{Ke(j.next(Ce))}catch(Ct){Y(Ct)}}function Ae(Ce){try{Ke(j.throw(Ce))}catch(Ct){Y(Ct)}}function Ke(Ce){Ce.done?ee(Ce.value):B(Ce.value).then(ke,Ae)}Ke((j=j.apply(D,L||[])).next())})};Object.defineProperty(ae,"__esModule",{value:!0}),ae.evaluateVersions=ae.isExplicitVersion=ae.findFromManifest=ae.getManifestFromRepo=ae.findAllVersions=ae.find=ae.cacheFile=ae.cacheDir=ae.extractZip=ae.extractXar=ae.extractTar=ae.extract7z=ae.downloadTool=ae.HTTPError=void 0;const i=r(hr()),o=r(xp()),s=r(fp),l=r(qe),u=r(WE()),c=r(nt),a=r(ue),h=r(Pp),p=r(Bh()),w=r(Lr),E=r(On),d=Nr,f=Na(),m=XE();class y extends Error{constructor(L){super(`Unexpected HTTP response: ${L}`),this.httpStatusCode=L,Object.setPrototypeOf(this,new.target.prototype)}}ae.HTTPError=y;const v=process.platform==="win32",S=process.platform==="darwin",_="actions/tool-cache";function b(D,L,N,j){return n(this,void 0,void 0,function*(){L=L||a.join(ie(),s.randomUUID()),yield o.mkdirP(a.dirname(L)),i.debug(`Downloading ${D}`),i.debug(`Destination ${L}`);const B=3,ee=se("TEST_DOWNLOAD_TOOL_RETRY_MIN_SECONDS",10),Y=se("TEST_DOWNLOAD_TOOL_RETRY_MAX_SECONDS",20);return yield new m.RetryHelper(B,ee,Y).execute(()=>n(this,void 0,void 0,function*(){return yield g(D,L||"",N,j)}),Ae=>!(Ae instanceof y&&Ae.httpStatusCode&&Ae.httpStatusCode<500&&Ae.httpStatusCode!==408&&Ae.httpStatusCode!==429))})}ae.downloadTool=b;function g(D,L,N,j){return n(this,void 0,void 0,function*(){if(l.existsSync(L))throw new Error(`Destination file path ${L} already exists`);const B=new h.HttpClient(_,[],{allowRetries:!1});N&&(i.debug("set auth"),j===void 0&&(j={}),j.authorization=N);const ee=yield B.get(D,j);if(ee.message.statusCode!==200){const Ce=new y(ee.message.statusCode);throw i.debug(`Failed to download from "${D}". Code(${ee.message.statusCode}) Message(${ee.message.statusMessage})`),Ce}const Y=E.promisify(w.pipeline),Ae=se("TEST_DOWNLOAD_TOOL_RESPONSE_MESSAGE_FACTORY",()=>ee.message)();let Ke=!1;try{return yield Y(Ae,l.createWriteStream(L)),i.debug("download complete"),Ke=!0,L}finally{if(!Ke){i.debug("download failed");try{yield o.rmRF(L)}catch(Ce){i.debug(`Failed to delete '${L}'. ${Ce.message}`)}}}})}function $(D,L,N){return n(this,void 0,void 0,function*(){(0,d.ok)(v,"extract7z() not supported on current OS"),(0,d.ok)(D,'parameter "file" is required'),L=yield C(L);const j=process.cwd();if(process.chdir(L),N)try{const ee=["x",i.isDebug()?"-bb1":"-bb0","-bd","-sccUTF-8",D],Y={silent:!0};yield(0,f.exec)(`"${N}"`,ee,Y)}finally{process.chdir(j)}else{const B=a.join(__dirname,"..","scripts","Invoke-7zdec.ps1").replace(/'/g,"''").replace(/"|\n|\r/g,""),ee=D.replace(/'/g,"''").replace(/"|\n|\r/g,""),Y=L.replace(/'/g,"''").replace(/"|\n|\r/g,""),Ae=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",`& '${B}' -Source '${ee}' -Target '${Y}'`],Ke={silent:!0};try{const Ce=yield o.which("powershell",!0);yield(0,f.exec)(`"${Ce}"`,Ae,Ke)}finally{process.chdir(j)}}return L})}ae.extract7z=$;function I(D,L,N="xz"){return n(this,void 0,void 0,function*(){if(!D)throw new Error("parameter 'file' is required");L=yield C(L),i.debug("Checking tar --version");let j="";yield(0,f.exec)("tar --version",[],{ignoreReturnCode:!0,silent:!0,listeners:{stdout:Ae=>j+=Ae.toString(),stderr:Ae=>j+=Ae.toString()}}),i.debug(j.trim());const B=j.toUpperCase().includes("GNU TAR");let ee;N instanceof Array?ee=N:ee=[N],i.isDebug()&&!N.includes("v")&&ee.push("-v");let Y=L,ke=D;return v&&B&&(ee.push("--force-local"),Y=L.replace(/\\/g,"/"),ke=D.replace(/\\/g,"/")),B&&(ee.push("--warning=no-unknown-keyword"),ee.push("--overwrite")),ee.push("-C",Y,"-f",ke),yield(0,f.exec)("tar",ee),L})}ae.extractTar=I;function A(D,L,N=[]){return n(this,void 0,void 0,function*(){(0,d.ok)(S,"extractXar() not supported on current OS"),(0,d.ok)(D,'parameter "file" is required'),L=yield C(L);let j;N instanceof Array?j=N:j=[N],j.push("-x","-C",L,"-f",D),i.isDebug()&&j.push("-v");const B=yield o.which("xar",!0);return yield(0,f.exec)(`"${B}"`,ve(j)),L})}ae.extractXar=A;function M(D,L){return n(this,void 0,void 0,function*(){if(!D)throw new Error("parameter 'file' is required");return L=yield C(L),v?yield K(D,L):yield J(D,L),L})}ae.extractZip=M;function K(D,L){return n(this,void 0,void 0,function*(){const N=D.replace(/'/g,"''").replace(/"|\n|\r/g,""),j=L.replace(/'/g,"''").replace(/"|\n|\r/g,""),B=yield o.which("pwsh",!1);if(B){const Y=["-NoLogo","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.ZipFile } catch { } ;",`try { [System.IO.Compression.ZipFile]::ExtractToDirectory('${N}', '${j}', $true) }`,`catch { if (($_.Exception.GetType().FullName -eq 'System.Management.Automation.MethodException') -or ($_.Exception.GetType().FullName -eq 'System.Management.Automation.RuntimeException') ){ Expand-Archive -LiteralPath '${N}' -DestinationPath '${j}' -Force } else { throw $_ } } ;`].join(" ")];i.debug(`Using pwsh at path: ${B}`),yield(0,f.exec)(`"${B}"`,Y)}else{const Y=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ;",`if ((Get-Command -Name Expand-Archive -Module Microsoft.PowerShell.Archive -ErrorAction Ignore)) { Expand-Archive -LiteralPath '${N}' -DestinationPath '${j}' -Force }`,`else {[System.IO.Compression.ZipFile]::ExtractToDirectory('${N}', '${j}', $true) }`].join(" ")],ke=yield o.which("powershell",!0);i.debug(`Using powershell at path: ${ke}`),yield(0,f.exec)(`"${ke}"`,Y)}})}function J(D,L){return n(this,void 0,void 0,function*(){const N=yield o.which("unzip",!0),j=[D];i.isDebug()||j.unshift("-q"),j.unshift("-o"),yield(0,f.exec)(`"${N}"`,j,{cwd:L})})}function x(D,L,N,j){return n(this,void 0,void 0,function*(){if(N=p.clean(N)||N,j=j||c.arch(),i.debug(`Caching tool ${L} ${N} ${j}`),i.debug(`source dir: ${D}`),!l.statSync(D).isDirectory())throw new Error("sourceDir is not a directory");const B=yield H(L,N,j);for(const ee of l.readdirSync(D)){const Y=a.join(D,ee);yield o.cp(Y,B,{recursive:!0})}return z(L,N,j),B})}ae.cacheDir=x;function T(D,L,N,j,B){return n(this,void 0,void 0,function*(){if(j=p.clean(j)||j,B=B||c.arch(),i.debug(`Caching tool ${N} ${j} ${B}`),i.debug(`source file: ${D}`),!l.statSync(D).isFile())throw new Error("sourceFile is not a file");const ee=yield H(N,j,B),Y=a.join(ee,L);return i.debug(`destination file ${Y}`),yield o.cp(D,Y),z(N,j,B),ee})}ae.cacheFile=T;function F(D,L,N){if(!D)throw new Error("toolName parameter is required");if(!L)throw new Error("versionSpec parameter is required");if(N=N||c.arch(),!re(L)){const B=U(D,N);L=ce(B,L)}let j="";if(L){L=p.clean(L)||"";const B=a.join(X(),D,L,N);i.debug(`checking cache: ${B}`),l.existsSync(B)&&l.existsSync(`${B}.complete`)?(i.debug(`Found tool in cache ${D} ${L} ${N}`),j=B):i.debug("not found")}return j}ae.find=F;function U(D,L){const N=[];L=L||c.arch();const j=a.join(X(),D);if(l.existsSync(j)){const B=l.readdirSync(j);for(const ee of B)if(re(ee)){const Y=a.join(j,ee,L||"");l.existsSync(Y)&&l.existsSync(`${Y}.complete`)&&N.push(ee)}}return N}ae.findAllVersions=U;function k(D,L,N,j="master"){return n(this,void 0,void 0,function*(){let B=[];const ee=`https://api.github.com/repos/${D}/${L}/git/trees/${j}`,Y=new h.HttpClient("tool-cache"),ke={};N&&(i.debug("set auth"),ke.authorization=N);const Ae=yield Y.getJson(ee,ke);if(!Ae.result)return B;let Ke="";for(const Ct of Ae.result.tree)if(Ct.path==="versions-manifest.json"){Ke=Ct.url;break}ke.accept="application/vnd.github.VERSION.raw";let Ce=yield(yield Y.get(Ke,ke)).readBody();if(Ce){Ce=Ce.replace(/^\uFEFF/,"");try{B=JSON.parse(Ce)}catch{i.debug("Invalid json")}}return B})}ae.getManifestFromRepo=k;function G(D,L,N,j=c.arch()){return n(this,void 0,void 0,function*(){return yield u._findMatch(D,L,N,j)})}ae.findFromManifest=G;function C(D){return n(this,void 0,void 0,function*(){return D||(D=a.join(ie(),s.randomUUID())),yield o.mkdirP(D),D})}function H(D,L,N){return n(this,void 0,void 0,function*(){const j=a.join(X(),D,p.clean(L)||L,N||"");i.debug(`destination ${j}`);const B=`${j}.complete`;return yield o.rmRF(j),yield o.rmRF(B),yield o.mkdirP(j),j})}function z(D,L,N){const B=`${a.join(X(),D,p.clean(L)||L,N||"")}.complete`;l.writeFileSync(B,""),i.debug("finished caching tool")}function re(D){const L=p.clean(D)||"";i.debug(`isExplicit: ${L}`);const N=p.valid(L)!=null;return i.debug(`explicit? ${N}`),N}ae.isExplicitVersion=re;function ce(D,L){let N="";i.debug(`evaluating ${D.length} versions`),D=D.sort((j,B)=>p.gt(j,B)?1:-1);for(let j=D.length-1;j>=0;j--){const B=D[j];if(p.satisfies(B,L)){N=B;break}}return N?i.debug(`matched: ${N}`):i.debug("match not found"),N}ae.evaluateVersions=ce;function X(){const D=process.env.RUNNER_TOOL_CACHE||"";return(0,d.ok)(D,"Expected RUNNER_TOOL_CACHE to be defined"),D}function ie(){const D=process.env.RUNNER_TEMP||"";return(0,d.ok)(D,"Expected RUNNER_TEMP to be defined"),D}function se(D,L){const N=st[D];return N!==void 0?N:L}function ve(D){return Array.from(new Set(D))}return ae}var Ja=KE();function Qa(e){const t=e.split(".").pop();return t==="tar"?0:t==="gz"||t==="tgz"?1:t==="xz"||t==="txz"?2:t==="zip"?3:(t==="7z"||t==="exe"||_e(`Unknown archive type: ${t}. Defaulting to 7z`),4)}function Hh(e){switch(e){case 0:case 1:return gn;case 2:return gn;case 3:return JE;default:return wn}}let fa;async function wn(e,t){const r=Zt(e);if(/.*\.tar\..+$/.test(r)){const n=Pe(e);await da(e,n);const i=r.slice(0,-3),o=Z(n,i);await da(o,n),await Wm(o);const s=i.slice(0,-4),l=Z(n,s);W(`Moving ${l} to ${t}`),await Gh.move(l,t,{overwrite:!0})}else await da(e,t);return t}async function da(e,t){W(`7z: extracting ${e} to ${t}`),await le(await YE(),["x",e,`-o${t}`,"-y"],{stdio:"inherit"}),await vr(t)}async function YE(){return fa===void 0&&(pe.sync("7z",{nothrow:!0})===null&&await sn({version:"",arch:process.arch}),fa="7z"),fa}async function JE(e,t){return pe.sync("7z",{nothrow:!0})!==null?wn(e,t):pe.sync("unzip",{nothrow:!0})!==null?(await le("unzip",["-q",e,"-d",t],{stdio:"inherit"}),await vr(t),t):wn(e,t)}async function gn(e,t,r=0,n=[]){await QE(Qa(e));try{await Gh.mkdirp(t)}catch{}try{await le("tar",["xf",e,"-C",t,`--strip-components=${r}`,...n],{stdio:"inherit"})}catch(i){process.platform==="win32"&&i.message.includes("Can't create '\\\\?\\C:")&&_e(`Failed to extract symlink ${e} to ${t}. Ignoring this symlink.`)}return await vr(t),t}async function QE(e){switch(W("Installing tar extraction dependencies"),e){case 1:{process.platform==="linux"&&($e()?(await we("gzip"),await we("tar")):Te()?await xe([{name:"gzip"},{name:"tar"}]):ye()?await fe([{name:"gzip"},{name:"tar"}]):await be()&&await Ne([{name:"gzip"},{name:"tar"}]));break}case 2:{process.platform==="linux"&&($e()?(await we("xz"),await we("tar")):Te()?await xe([{name:"xz"},{name:"tar"}]):ye()?await fe([{name:"xz-utils"},{name:"tar"}]):await be()&&await Ne([{name:"xz"},{name:"tar"}]));break}default:throw new Error(`Unsupported archive type: ${e} for tar extraction`)}}var bt={},Dd;function ZE(){if(Dd)return bt;Dd=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.retryAsPromised=bt.applyJitter=bt.TimeoutError=void 0;class e extends Error{constructor(o,s){super(o),this.name="TimeoutError",this.previous=s}}bt.TimeoutError=e;function t(i,o){if(typeof i=="function")try{if(o instanceof i)return!0}catch{return!!i(o)}return i===o.toString()||i===o.message?!0:i instanceof RegExp&&(i.test(o.message)||i.test(o.toString()))}function r(i,o){const s=i+Math.random()*o*(Math.random()>.5?1:-1);return Math.max(0,s)}bt.applyJitter=r;function n(i,o){if(!i||!o)throw new Error("retry-as-promised must be passed a callback and a options set");o=typeof o=="number"?{max:o}:o;const s={$current:"$current"in o?o.$current:1,max:o.max,timeout:o.timeout||void 0,match:o.match?Array.isArray(o.match)?o.match:[o.match]:[],backoffBase:o.backoffBase===void 0?100:o.backoffBase,backoffExponent:o.backoffExponent||1.1,backoffJitter:o.backoffJitter||0,report:o.report,name:o.name||i.name||"unknown"};return s.match&&!Array.isArray(s.match)&&(s.match=[s.match]),s.report&&s.report("Trying "+s.name+" #"+s.$current+" at "+new Date().toLocaleTimeString(),s),new Promise(function(l,u){let c,a,h;s.timeout&&(c=setTimeout(function(){a&&clearTimeout(a),u(new e(s.name+" timed out",h))},s.timeout)),Promise.resolve(i({current:s.$current})).then(l).then(function(){c&&clearTimeout(c),a&&clearTimeout(a)}).catch(function(p){c&&clearTimeout(c),a&&clearTimeout(a),h=p,s.report&&s.report(p&&p.toString()||p,s,p);var w=s.$current<s.max;if(!w||(w=s.match.length===0||s.match.some(function(f){return t(f,p)}),!w))return u(p);var E=s.backoffBase*Math.pow(s.backoffExponent,s.$current-1);const d=s.backoffJitter;d!==void 0&&(E=r(E,d)),s.$current++,s.report&&s.report(`Retrying ${s.name} (${s.$current})`,s),E?(s.report&&s.report(`Delaying retry of ${s.name} by ${E}`,s),a=setTimeout(function(){n(i,s).then(l).catch(u)},E)):n(i,s).then(l).catch(u)})})}return bt.retryAsPromised=n,bt.default=n,bt}var eS=ZE();const zh=Oe(eS),{GITHUB_ACTIONS:Wh}=Tt;async function Pt(e,t,r,n,i){W(`Installing ${e} ${t} ${i} via direct downloading`),process.env.RUNNER_TEMP=process.env.RUNNER_TEMP??We(),process.env.RUNNER_TOOL_CACHE=process.env.RUNNER_TOOL_CACHE??Z(We(),"setup-cpp","hostedtoolcache");const{url:o,binRelativeDir:s,binFileName:l,extractedFolderName:u,extractFunction:c}=await r(t,process.platform,i);if(Wh)try{const w=Ja.find(e,t);if(w){const E=Z(w,u),d=Z(E,s);if(await me(Z(d,l)))return W(`${e} ${t} was found in the cache at ${d}.`),await Re(d,ne),{installDir:E,binDir:d}}}catch{}const a=Z(n,u),h=Z(a,s),p=Z(h,l);return await tS(h,p,e,t,o,n,c,i),await nS(n,e,t),{installDir:a,binDir:h}}async function tS(e,t,r,n,i,o,s,l){if((await Promise.all([me(e),me(t)])).includes(!1))try{const u=await rS(r,n,i);W(`Extracting ${u} to ${o}`),await(s??Hh(Qa(i)))(u,o)}catch(u){throw new Error(`Failed to download ${r} ${n} ${l} from ${i}: ${u}`)}if(W(`Add ${e} to PATH`),await Re(e,ne),!await me(t))throw new Error(`Failed to find the binary ${t} after extracting ${r} ${n} ${l}`);if(process.platform!=="win32")try{await vp(t,"755")}catch(u){_e(`Failed to make ${t} executable: ${u}`)}}async function rS(e,t,r){return W(`Download ${e} ${t}`),await zh(()=>{const i=Z(process.env.RUNNER_TEMP??We(),`${Date.now()}-${Zt(r)}`);return Ja.downloadTool(r,i)},{name:r,max:4,backoffBase:2e3,report:i=>W(i)})}async function nS(e,t,r){Wh&&typeof process.env.RUNNER_TOOL_CACHE=="string"&&(Nh("cache-tools")==="true"||process.env.CACHE_TOOLS==="true")&&await Ja.cacheDir(e,t,r)}const{GITHUB_ACTIONS:iS}=Tt,sS=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url));async function Za({version:e,setupDir:t,arch:r}){let n;switch(process.platform){case"win32":{(r==="arm"||r==="arm64")&&(n=await Le("gcc-arm-embedded",e));try{n=await Pt("g++",e,aS,t,r)}catch(i){W(`Failed to download g++ binary. ${i}. Falling back to chocolatey.`),n=await oS(e,r)}break}case"linux":{if($e())n=await we("mingw-w64-gcc",e);else if(Te())n=await xe([{name:"mingw64-gcc",version:e}]);else if(ye())n=await fe([{name:"mingw-w64",version:e}]);else if(await be())await gh(),n=await Ne([{name:"mingw-w64-gcc",version:e},{name:"mingw-w64-crt",version:e}]);else throw new Error(`Unsupported Linux distro for ${r}`);break}default:throw new Error(`Unsupported platform for ${r}`)}return n!==void 0&&await cS(n.binDir),n}async function oS(e,t){await Le("mingw",e);let r;if(t==="x64"&&await me("C:/tools/mingw64/bin")?(r="C:/tools/mingw64/bin",await Re(r,ne)):t==="ia32"&&await me("C:/tools/mingw32/bin")?(r="C:/tools/mingw32/bin",await Re(r,ne)):await me(`${process.env.ChocolateyInstall??"C:/ProgramData/chocolatey"}/bin/g++.exe`)&&(r=`${process.env.ChocolateyInstall??"C:/ProgramData/chocolatey"}/bin`),r!==void 0)return{binDir:r}}async function aS(e,t,r){if(t!=="win32")throw new Error(`Unsupported platform '${t}'`);const n=await yn(Z(sS,"github_brechtsanders_winlibs_mingw.json")),i={x64:"x86_64",ia32:"i386"},o=pa(e),s=ha(e),l=kd(e),u=vn(n,{version:e,keywords:[i[r]??r],filterName:c=>(o===void 0||o===pa(c))&&(s===void 0||s===ha(c))&&(l===void 0||l===kd(c)),versionSatisfies:(c,a)=>{const h=er(c);if(h===null)throw new Error(`Invalid MinGW asset version: '${c}'`);return Wa(h,a)&&(o===void 0||o===pa(c))&&(s===void 0||s===ha(c))}});if(u===void 0)throw new Error(`No asset found for version ${e} and arch ${r}`);return{binRelativeDir:"bin/",binFileName:ge("g++"),extractedFolderName:"mingw64",extractFunction:wn,url:`https://github.com/brechtsanders/winlibs_mingw/releases/download/${u.tag}/${u.name}`}}function pa(e){const t=e.match(/(ucrt|msvcrt)/);return t!==null?t[1]:void 0}function ha(e){const t=e.match(/(posix|mcf)/);return t!==null?t[1]:void 0}function kd(e){const t=e.match(/(seh|dwarf)/);return t!==null?t[1]:void 0}async function cS(e){const t=[];process.platform==="win32"&&t.push(Ie("CC",ge(`${e}/gcc`),ne),Ie("CXX",ge(`${e}/g++`),ne)),iS&&await jh(),await Promise.all(t)}const{GITHUB_ACTIONS:uS}=Tt,lS=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url));async function _n({version:e,setupDir:t,arch:r,priority:n=40}){let i;switch(process.platform){case"win32":{i=await Za({version:e,setupDir:t,arch:r});break}case"darwin":{i=await He("gcc",e);break}case"linux":{if($e())i=await we("gcc",e);else if(Te())i=await xe([{name:"gcc",version:e},{name:"gcc-c++",version:e},{name:"libstdc++-devel"}]);else if(await be())i=await Ne([{name:"gcc",version:e},{name:"g++",version:e}]);else if(ye())if(e==="")i=await fe([{name:"gcc"},{name:"g++"}]);else try{i=await fe([{name:"gcc",version:e},{name:"g++",version:e}])}catch{i=await fe([{name:"gcc",version:e,repository:"ppa:ubuntu-toolchain-r/test",key:{key:"1E9377A2BA9EF27F",fileName:"ubuntu-toolchain-r-test.gpg"}},{name:"g++",version:e,repository:"ppa:ubuntu-toolchain-r/test",key:{key:"1E9377A2BA9EF27F",fileName:"ubuntu-toolchain-r-test.gpg"}}])}break}default:throw new Error(`Unsupported platform for ${r}`)}if(i!==void 0)return await fS(e,i.binDir,n),i}async function fS(e,t,r=40){if(process.platform==="win32")return;const n=[];{const i=dS(e),[o,s]=await Promise.all([Fd("gcc",t,i),Fd("g++",t,i)]);n.push(Ie("CC",o,ne),Ie("CXX",s,ne)),ye()&&n.push(mt("cc",o,ne,r),mt("cxx",s,ne,r),mt("gcc",o,ne,r),mt("g++",s,ne,r))}n.push(Dh()),uS&&await jh(),await Promise.all(n)}function dS(e){try{const t=Uh(e),r=vh(t);return r>=5?`${r}`:e}catch{return e}}async function Fd(e,t,r){if(await me(`${t}/${e}-${r}`))return ge(`${t}/${e}-${r}`);const n=new RegExp(`^${hn(e)}-?([\\d\\.\\-]*)(?:\\.exe)?$`),i=(await wp(t)).filter(o=>n.test(o)).sort((o,s)=>{const l=o.match(n)?.[1]??"",u=s.match(n)?.[1]??"";try{return SE(l,u)}catch{return 0}});for(const o of i){const s=`${t}/${o}`;if(r===""||o.includes(r)||((await pS(s))?.includes(r)??!1))return ge(s)}return await me(`${t}/${e}`)?ge(`${t}/${e}`):ge(e)}async function pS(e){try{const{stdout:t}=await le(e,["--version"],{stdio:"pipe"}),r=t.match(/(gcc|g\+\+).* \(.*\) ([\d.]+)/);if(r!==null)return r[2];_e(`Failed to parse gcc version from: ${t}`)}catch(t){De(`Failed to get gcc version: ${t}`)}}const jt=e=>{if(!e)e={mode:511};else if(typeof e=="object")e={mode:511,...e};else if(typeof e=="number")e={mode:e};else if(typeof e=="string")e={mode:parseInt(e,8)};else throw new TypeError("invalid options argument");const t=e,r=e.fs||{};return e.mkdir=e.mkdir||r.mkdir||up,e.mkdirAsync=e.mkdirAsync?e.mkdirAsync:async(n,i)=>new Promise((o,s)=>t.mkdir(n,i,(l,u)=>l?s(l):o(u))),e.stat=e.stat||r.stat||Cm,e.statAsync=e.statAsync?e.statAsync:async n=>new Promise((i,o)=>t.stat(n,(s,l)=>s?o(s):i(l))),e.statSync=e.statSync||r.statSync||Nm,e.mkdirSync=e.mkdirSync||r.mkdirSync||lp,t},tr=(e,t,r)=>{const n=Pe(e),i={...jt(t),recursive:!1};if(n===e)try{return i.mkdirSync(e,i)}catch(o){const s=o;if(s&&s.code!=="EISDIR")throw o;return}try{return i.mkdirSync(e,i),r||e}catch(o){const s=o;if(s&&s.code==="ENOENT")return tr(e,i,tr(n,i,r));if(s&&s.code!=="EEXIST"&&s&&s.code!=="EROFS")throw o;try{if(!i.statSync(e).isDirectory())throw o}catch{throw o}}},ur=Object.assign(async(e,t,r)=>{const n=jt(t);n.recursive=!1;const i=Pe(e);return i===e?n.mkdirAsync(e,n).catch(o=>{const s=o;if(s&&s.code!=="EISDIR")throw o}):n.mkdirAsync(e,n).then(()=>r||e,async o=>{const s=o;if(s&&s.code==="ENOENT")return ur(i,n).then(l=>ur(e,n,l));if(s&&s.code!=="EEXIST"&&s.code!=="EROFS")throw o;return n.statAsync(e).then(l=>{if(l.isDirectory())return r;throw o},()=>{throw o})})},{sync:tr}),Xh=async(e,t,r)=>{if(r!==t)return e.statAsync(t).then(n=>n.isDirectory()?r:void 0,n=>{const i=n;return i&&i.code==="ENOENT"?Xh(e,Pe(t),t):void 0})},Kh=(e,t,r)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(n){const i=n;return i&&i.code==="ENOENT"?Kh(e,Pe(t),t):void 0}},En=(e,t)=>{const r=jt(t);if(r.recursive=!0,Pe(e)===e)return r.mkdirSync(e,r);const i=Kh(r,e);try{return r.mkdirSync(e,r),i}catch(o){const s=o;if(s&&s.code==="ENOENT")return tr(e,r);throw o}},ma=Object.assign(async(e,t)=>{const r={...jt(t),recursive:!0};return Pe(e)===e?await r.mkdirAsync(e,r):Xh(r,e).then(i=>r.mkdirAsync(e,r).then(o=>i||o).catch(o=>{const s=o;if(s&&s.code==="ENOENT")return ur(e,r);throw o}))},{sync:En}),hS=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,Yh=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=ap(e),hS==="win32"){const t=/[*|"<>?:]/,{root:r}=cp(e);if(t.test(e.substring(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e},mS=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,ya=mS.replace(/^v/,"").split("."),Jh=+ya[0]>10||+ya[0]==10&&+ya[1]>=12,ec=Jh?e=>jt(e).mkdirSync===lp:()=>!1,qd=Object.assign(Jh?e=>jt(e).mkdir===up:()=>!1,{sync:ec}),Ud=(e,t)=>{e=Yh(e);const r=jt(t);return ec(r)?En(e,r):tr(e,r)},Ir=Object.assign(async(e,t)=>{e=Yh(e);const r=jt(t);return qd(r)?ma(e,r):ur(e,r)},{mkdirpSync:Ud,mkdirpNative:ma,mkdirpNativeSync:En,mkdirpManual:ur,mkdirpManualSync:tr,sync:Ud,native:ma,nativeSync:En,manual:ur,manualSync:tr,useNative:qd,useNativeSync:ec});function rt(e,t,r=null){return Qh(t)?tc(e,r)??"":t}function yS(){const e=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url)),t=ue.join(e,"versions.json");return JSON.parse(qe.readFileSync(t,"utf-8"))}const vS=Ue(yS);function tc(e,t=null){const n=vS()[e];if(n===void 0)return;if(typeof n=="string")return n;const i=n,o=i[process.platform]??i.else;if(o===void 0)throw new Error(`Platform "${process.platform}" not found in versions data for tool "${e}"`);if(typeof o=="string")return o;const s=o,l=ye()?"ubuntu":$e()?"archlinux":wh()?"alpine":Te()?"fedora":"else",u=s[l]??s.else;if(u===void 0)throw new Error(`Distro "${l}" not found in versions data for tool "${e}"`);if(typeof u=="string")return u;const c=u,a=t!==null?wS(t,c):c.else;if(a===void 0)throw new Error(`Architecture "${process.arch}" not found in versions data for tool "${e}"`);if(typeof a=="string")return a;const h=a;return h[process.arch]??h.else}function wS(e,t){const r=e[0],n=Object.keys(t).map(i=>Number.parseInt(i,10)).filter(i=>!Number.isNaN(i)).sort((i,o)=>o-i).find(i=>r>=i);return n!==void 0?t[n]??t.else:t.else}function Qh(e){return e==="true"||e===void 0}function gS(e,t,r=void 0){const n=r===void 0?!1:t.includes(r.compiler),o=(n?t:t.filter(u=>u!=="compiler")).filter(u=>e[u]!==void 0),s=o.filter(u=>{const c=n&&u==="compiler"&&r!==void 0?r.version:e[u];return!Qh(c)}),l=s.length!==0?n&&s[0]==="compiler"&&r!==void 0?r.version??"true":e[s[0]]??"true":"true";if(s.some(u=>n&&u==="compiler"&&r!==void 0?e.compiler!==`${r.compiler}-${l}`:e[u]!==l))return!1;for(const u of o)e[u]=n&&u==="compiler"&&r!==void 0?`${r.compiler}-${l}`:l;return!0}function _S(e){return e.startsWith(">")}const{GITHUB_ACTIONS:ES}=Tt;async function Zh({version:e,setupDir:t,arch:r}){Ee.startGroup("Setup Python");const n=await OS(e,t,r);Nr(n.bin!==void 0);const i=n.bin;Ee.endGroup(),Ee.startGroup("Setup venv"),await bS(i),Ee.endGroup(),Ee.startGroup("Setup pip");const o=await PS(i);if(Ee.endGroup(),o===void 0)throw new Error("pip was not installed correctly");return Ee.startGroup("Setup pipx"),await SS(i),Ee.endGroup(),Ee.startGroup("Setup wheel"),await $S(i),Ee.endGroup(),n}async function SS(e){try{if(!await an(e)){try{await Ar("pipx")}catch(t){Qt(`pipx was not installed completely for the system-wide python: ${t}`)}try{await an(e)||await Sn(e,"pipx",void 0,{upgrade:!0,usePipx:!1})}catch(t){Qt(`pipx was not installed completely for ${e}: ${t}`)}}if(await an(e))await le(e,["-m","pipx","ensurepath"],{stdio:"inherit"});else if(await LS())Qt(`pipx module not found for ${e}. Trying to install with pipx binary...`),await le("pipx",["ensurepath"],{stdio:"inherit"});else throw new Error("pipx module or pipx binary not found. Corrput pipx installation.")}catch(t){Qt(`Failed to install pipx completely for ${e}: ${t.toString()}. Ignoring...`)}}async function bS(e){if(await RS(e)){W("venv module already installed.");return}try{await Ar("venv")}catch(t){W(`Failed to install venv: ${t.toString()}. Ignoring...`)}}async function RS(e){try{return await le(e,["-m","venv","-h"],{stdio:"ignore"}),ye()?Ga("python3-venv"):!0}catch{}return!1}async function $S(e){try{await Sn(e,"setuptools",void 0,{upgrade:!0,isLibrary:!0,usePipx:!1}),await Sn(e,"wheel",void 0,{upgrade:!1,isLibrary:!0,usePipx:!1})}catch(t){W(`Failed to install setuptools/wheel: ${t.toString()}. Ignoring...`)}}async function OS(e,t,r){const n=_S(e)?"":e;let i,o=await on(t);if(o!==void 0){const s=Pe(o);i={bin:o,installDir:s,binDir:s}}else{if(ES)try{W("Installing python in GitHub Actions");const{setupActionsPython:s}=await import("./assets/actions_python-5i6QBnsE.mjs");if(await s(n,t,r),o=await on(t),o===void 0)throw new Error("Python binary could not be found");const l=Pe(o);i={bin:o,installDir:l,binDir:l}}catch(s){_e(s.toString())}i===void 0&&(i=await IS(t,n))}if(o===void 0||i.bin===void 0){if(o=await on(t),o===void 0)throw new Error("Python binary could not be found");i={bin:o,installDir:Pe(o),binDir:Pe(o)}}return i}async function IS(e,t){let r;switch(process.platform){case"win32":{e?await Le("python3",t,[`--params=/InstallDir:${e}`]):await Le("python3",t);const n=await on(e);if(n===void 0)throw new Error("Python binary could not be found");const i=Pe(n);await Re(i,ne),r={installDir:i,binDir:i,bin:n};break}case"darwin":{r=await He("python3",t);const n=await le("brew",["--prefix","python"],{stdio:"pipe"}),i=Z(n.stdout,"libexec","bin");await Re(i,ne);break}case"linux":{if($e())r=await we("python",t);else if(Te())r=await xe([{name:"python3",version:t}]);else if(ye())r=await fe([{name:"python3",version:t},{name:"python-is-python3"}]);else if(await be())r=await Ne([{name:"python3",version:t}]);else throw new Error("Unsupported linux distributions");break}default:throw new Error("Unsupported platform")}return r}async function on(e){for(const t of["python","python3"]){const r=await jd(t,e);if(r!==void 0)return r}if(process.platform==="win32"){const t=cp(sp()).root,r=(await wp(t)).filter(n=>n.startsWith("Python"));for(const n of r)for(const i of["python3","python"]){const o=await jd(i,Z(t,n));if(o!==void 0)return o}}}async function jd(e,t){try{const r=tc("python");if(t!==void 0){const i=Z(t,ge(e));if(await me(i)&&await ba(i,r))return i}const n=await pe(e,{nothrow:!0,all:!0})??[];for(const i of n)if(await ba(i,r))return i}catch{}}async function PS(e){const t=await Md();return t===void 0?(W("pip was not found. Installing pip"),await xS(e),Md()):t}async function Md(){for(const e of["pip3","pip"]){const t=await TS(e);if(t!==void 0)return t}}async function TS(e){try{const t=tc("pip"),r=await pe(e,{nothrow:!0,all:!0})??[];for(const n of r)if(await ba(n,t))return n}catch{}}async function xS(e){await Gd(e)||(await Ar("pip"),await Gd(e))}async function Gd(e){if(await nm(e))return!1;try{return await le(e,["-m","ensurepip","-U","--upgrade"],{stdio:"inherit"}),!0}catch(t){W(t.toString());try{return await le(e,["-m","pip","install","--upgrade","pip"],{stdio:"inherit"}),!0}catch(r){W(r.toString())}}return!1}var Rr={},Vd;function AS(){if(Vd)return Rr;Vd=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.getUbuntuVersion=void 0;const e=Cr;function t(i){return"errno"in i}function r(i,o){return new Promise((s,l)=>{e.execFile(i,o,{encoding:"utf8",shell:!1},(u,c,a)=>{if(u){if(t(u)&&u.code==="ENOENT"){s(null);return}l(new Error(`Could not execute \`${i} ${o.join(" ")}\`: ${u} (stderr=${a})`));return}s(c)})})}async function n(){if(process.platform!=="linux")return[];const i=await r("lsb_release",["-a"]);if(i===null)return[];const o=/^Distributor ID:\s*(.+)$/,s=/^Description:\s*Ubuntu\s+(\d+)\.(\d+)(?:\.(\d+))?/,l=/^Release:\s*(\d+)\.(\d+)(?:\.(\d+))?$/;let u=null,c=null,a=!1;for(const h of i.split(`
`)){const p=h.match(o);if(p!==null){if(p[1]!=="Ubuntu")return[];a=!0}const w=h.match(s);w&&(u=w);const E=h.match(l);if(E&&(c=E),a&&u&&c)break}if(!a)return[];for(const h of[u,c])if(h){const p=[h[1],h[2]];return h[3]&&p.push(h[3]),p.map(w=>parseInt(w,10))}return[]}return Rr.getUbuntuVersion=n,Rr}var em=AS();async function CS(){try{if(ye()){try{pe.sync("lsb_release",{nothrow:!0})===null&&await fe([{name:"lsb-release"}])}catch{return Bd()}const e=await em.getUbuntuVersion();return e.length===0?Bd():e}else return null}catch(e){return _e(e.toString()),null}}const qt=Ue(CS,{promise:!0});function Bd(){if(!("version"in nt&&typeof nt.version=="function"))return null;const t=nt.version().match(/(\d+)\.(\d+)\.(\d+)/);if(t===null)return null;const r=Number.parseInt(t[1],10),n=Number.parseInt(t[2],10),i=Number.parseInt(t[3],10);return[r,n,i]}function NS(e){return[...new Set(e)]}function Hd(e,t='"'){return e.includes(" ")?`${t}${e}${t}`:e}async function ar(e,t,r={}){return Sn(await qS(r.pythonVersion),e,t,r)}async function Sn(e,t,r,n={}){const{usePipx:i=!0,user:o=!0,upgrade:s=!1,isLibrary:l=!1}=n,u=i&&!l&&await an(e),c=!u&&await nm(e),a=u?"pipx":"pip",h=US(t);if(!s&&(u?await MS(e,h):await jS(e,h)))return{binDir:u?await zd():await Wd(e,h)};if(!c&&await GS(e,h))try{Ee.info(`Installing ${t} ${r??""} via ${a}`);const w=r!==void 0&&r!==""?`${t}==${r}`:t,E=s?u?["upgrade"]:["install","--upgrade"]:["install"],d=!u&&o?["--user"]:[],f=process.env;u&&o&&(f.PIPX_HOME=await kS(),f.PIPX_BIN_DIR=await tm()),Be(e,["-m",a,...E,...d,w],{stdio:"inherit",env:f})}catch(w){const E=w instanceof Error?`${w.message}
${w.stack}`:String(w);if(Ee.info(`Failed to install ${t} via ${a}: ${E}`),await Ar(t)===null)throw new Error(`Failed to install ${t} via ${a}: ${w}.`)}else if(await Ar(t)===null)throw new Error(`Failed to install ${t} as it was not found via ${a} or the system package manager`);return{binDir:u?await zd():await Wd(e,h)}}function zd(){return tm()}async function Wd(e,t){const r=await HS(e),n=await VS(r,t);return await Re(n,ne),n}async function LS(){return await pe("pipx",{nothrow:!0})!==null}async function an(e){return(await le(e,["-m","pipx","--help"],{stdio:"ignore",reject:!1})).exitCode===0}async function DS(){let e=process.env.PIPX_HOME;if(e!==void 0)return e;const t=at("~/.local/pipx");if(await me(t))return t;switch(process.platform){case"win32":{e=at("~/AppData/Local/pipx");break}case"darwin":{e=at("~/Library/Application Support/pipx");break}default:{e=at("~/.local/share/pipx");break}}return await Ir(e),await Ir(Z(e,"trash")),await Ir(Z(e,"shared")),await Ir(Z(e,"venv")),e}const kS=Ue(DS,{promise:!0});async function FS(){if(process.env.PIPX_BIN_DIR!==void 0)return process.env.PIPX_BIN_DIR;const e=at("~/.local/bin");return await Re(e,ne),await Ir(e),e}const tm=Ue(FS,{promise:!0});let en;async function qS(e){if(en!==void 0)return en;const t=e??rt("python",void 0,await qt());return en=(await Zh({version:t,setupDir:"",arch:process.arch})).bin,en}function US(e){return e.replace(/\[.*]/g,"").trim()}async function jS(e,t){try{return(await le(e,["-m","pip","-qq","show",t],{stdio:"ignore",reject:!1})).exitCode===0}catch{return!1}}async function MS(e,t){try{const r=await le(e,["-m","pipx","list","--json"],{stdio:"ignore",reject:!1});if(r.exitCode!==0||typeof r.stdout!="string")return!1;const n=JSON.parse(r.stdout);if(t in n.venvs)return!0;for(const i of Object.values(n.venvs))if(i.metadata.main_package.package_or_url===t||i.metadata.main_package.package===t)return!0}catch{}return!1}async function GS(e,t){return(await le(e,["-m","pip","-qq","index","versions",t],{stdio:"ignore",reject:!1})).exitCode===0}async function VS(e,t){const n=(await Promise.all(e.map(o=>me(Z(o,ge(t)))))).findIndex(o=>o);if(n!==-1)return e[n];const i=pe.sync(ge(t),{nothrow:!0});return i!==null?Pe(i):e[e.length-1]}async function Ar(e,t){if(process.platform==="linux"){Ee.info(`Installing ${e} via the system package manager`);const r=e==="pipx"?$e():!0;if($e())return we(r?`python-${e}`:e);if(Te())return xe([{name:r?`python3-${e}`:e}]);if(ye())return fe([{name:r?`python3-${e}`:e}]);if(await be())return Ne([{name:r?`py3-${e}`:e}])}else if(process.platform==="darwin")return["venv"].includes(e)?null:He(e);return null}async function BS(e){const t=[];process.platform==="linux"?t.push("/home/runner/.local/bin/"):process.platform==="darwin"&&t.push("/usr/local/bin/");const r=await rm(e);return t.push(Z(r,"Scripts"),Z(r,"Scripts","bin"),Z(r,"bin")),NS(t)}const HS=Ue(BS,{promise:!0});async function zS(e){return(await za.getExecOutput(`${e} -c "import sys;print(sys.base_exec_prefix);"`)).stdout.trim()}const rm=Ue(zS,{promise:!0});async function WS(e){try{const t=await rm(e),r=await qh(e);if(r===void 0)return _e(`Failed to get the version of ${e}`),!1;const n=Z(t,"lib",`python${r.major}.${r.minor}`,"EXTERNALLY-MANAGED");return me(n)}catch(t){return _e(`Failed to check if ${e} is externally managed: ${t}`),!1}}const nm=Ue(WS,{promise:!0});function XS({version:e}){return ar("gcovr",e)}function KS(){return Ie("GCOV","llvm-cov gcov",ne)}function Xd(e){const t=Fn(e),r=t!==null?vh(t):e,n=r!==""?`gcov-${r}`:"gcov";return Ie("GCOV",n,ne)}async function Pr(){process.platform==="darwin"&&(await pe("clang",{nothrow:!0})!==null&&await pe("clang++",{nothrow:!0})!==null&&(Qt("Assuming clang is an Apple Clang compiler"),await Promise.all([Ie("CC","clang",ne),Ie("CXX","clang++",ne)])),Ym("Apple Clang automatic installation is not supported yet"))}function YS(e){const t=Uh(e);return Number.parseInt(t.split(".")[0],10)}const Er=Ue(YS);async function JS(e){if(await be())try{return await QS(e)}catch(t){W(`Failed to install llvm via system package manager ${t}.`)}}function QS(e){const t=Er(e);return Ne([{name:`llvm${t}`}])}const ot=["x64","amd64","x86_64","win64","64","amd64_x86","amd64_arm64"],lr=["x86","i386","ia32","win32","32","x32"],ct=["aarch64","arm64","woa64","arm"],ZS=["armv7","armv7a"],eb=["powerpc64le","ppc64le"],tb=["sparc64"],rb=["sparcv9"];function im(e){return ct.includes(e)?"arm64":ot.includes(e)?"amd64":e}async function nb({version:e}){switch(process.platform){case"win32":return Le("bazelisk",e);case"darwin":return He("bazelisk",e);case"linux":{if($e())throw new Error("installing bazel on Arch linux is not supported yet");if(Te())return await xe([{name:"dnf-plugins-core"}]),await yt("dnf",["copr","enable","vbatts/bazel"]),xe([{name:"bazel4"}]);if(ye()){const t=await Ph({fileName:"bazel-archive-keyring.gpg",keyUrl:"https://bazel.build/bazel-release.pub.gpg"});return await yt("bash",["-c",`echo "deb [arch=${im(process.arch)} signed-by=${t}] https://storage.googleapis.com/bazel-apt stable jdk1.8" | tee /etc/apt/sources.list.d/bazel.list`]),fe([{name:"bazel",version:e}],!0)}else if(await be())return Ne([{name:"bazel",version:e}],!0);throw new Error("Unsupported linux distribution")}default:throw new Error("Unsupported platform")}}async function ib({version:e}){switch(process.platform){case"win32":return Le("ccache",e);case"darwin":return He("ccache",e);case"linux":{if($e())return we("ccache",e);if(Te())return xe([{name:"ccache",version:e}]);if(ye())return fe([{name:"ccache",version:e}]);if(await be())return Ne([{name:"ccache",version:e}]);throw new Error("Unsupported linux distribution")}default:throw new Error("Unsupported platform")}}var sb=An();const va=Oe(sb);function ob(e,t,r){const n=er(e)??e;switch(t){case"win32":{const i=va(n,"v3.19.6");let o;ot.includes(r)?o=i?"win64-x64":"windows-x86_64":lr.includes(r)?o=i?"win32-x86":"windows-i386":ct.includes(r)?o="windows-arm64":(W(`Trying unsupported arch '${r}' for cmake on Windows`),o=`windows-${r}`);const s=`cmake-${e}-${o}`;return{binRelativeDir:"bin/",binFileName:ge("cmake"),extractedFolderName:s,url:`https://github.com/Kitware/CMake/releases/download/v${e}/${s}.zip`}}case"darwin":{const o=va(n,"v3.19.1")?"Darwin-x86_64":"macos-universal",s=`cmake-${e}-${o}`;return{binRelativeDir:"CMake.app/Contents/bin/",binFileName:ge("cmake"),extractedFolderName:s,url:`https://github.com/Kitware/CMake/releases/download/v${e}/${s}.tar.gz`}}case"linux":{const i=va(n,"v3.19.8");let o;ct.includes(r)?o=i?"Linux-aarch64":"linux-aarch64":ot.includes(r)?o=i?"Linux-x86_64":"linux-x86_64":(W(`Trying unsupported arch '${r}' for cmake on Linux`),o=`linux-${r}`);const s=`cmake-${e}-${o}`;return{binRelativeDir:"bin/",binFileName:ge("cmake"),extractedFolderName:s,url:`https://github.com/Kitware/CMake/releases/download/v${e}/${s}.tar.gz`}}default:throw new Error(`Unsupported platform '${t}'`)}}async function sm({version:e,setupDir:t,arch:r}){return await be()?Ne([{name:"cmake"}]):Pt("cmake",e,ob,t,r)}function $r({version:e}){return ar("cmakelang[YAML]",e)}function ab({version:e}){return ar("conan",e)}async function cb({version:e}){switch(process.platform){case"win32":return await Le("cppcheck",e),{binDir:await ub()};case"darwin":return He("cppcheck",e);case"linux":{if($e())return we("cppcheck",e);if(Te())return xe([{name:"ccache",version:e}]);if(ye())return fe([{name:"cppcheck",version:e}]);if(await be())return Ne([{name:"cppcheck",version:e}]);throw new Error("Unsupported linux distribution")}default:throw new Error("Unsupported platform")}}async function ub(){const e="C:/Program Files/Cppcheck";return await Re(e,ne),e}function lb({version:e}){return ar("cpplint",e,{pythonVersion:">=3.8.0"})}async function cn({version:e}){switch(process.platform){case"win32":return await Le("graphviz",e),fb();case"darwin":return He("graphviz",e);case"linux":{if($e())return we("graphviz",e);if(Te())return xe([{name:"graphviz",version:e}]);if(ye())return fe([{name:"graphviz",version:e}]);if(await be())return Ne([{name:"graphviz",version:e}]);throw new Error("Unsupported linux distribution")}default:throw new Error("Unsupported platform")}}async function fb(){switch(process.platform){case"win32":{const e="C:/Program Files/Graphviz/bin";return await Re(e,ne),{binDir:e}}default:throw new Error("Unsupported platform")}}const db=new Map([[24,["Sequoia","15"]],[23,["Sonoma","14"]],[22,["Ventura","13"]],[21,["Monterey","12"]],[20,["Big Sur","11"]],[19,["Catalina","10.15"]],[18,["Mojave","10.14"]],[17,["High Sierra","10.13"]],[16,["Sierra","10.12"]],[15,["El Capitan","10.11"]],[14,["Yosemite","10.10"]],[13,["Mavericks","10.9"]],[12,["Mountain Lion","10.8"]],[11,["Lion","10.7"]],[10,["Snow Leopard","10.6"]],[9,["Leopard","10.5"]],[8,["Tiger","10.4"]],[7,["Panther","10.3"]],[6,["Jaguar","10.2"]],[5,["Puma","10.1"]]]);function pb(e){e=Number((e||hp.release()).split(".")[0]);const[t,r]=db.get(e)||["Unknown",""];return{name:t,version:r}}function hb(){if(process.platform!=="darwin")return[];const{version:e}=pb();return e.split(".").map(t=>Number.parseInt(t,10))}const mb=Ue(hb);async function yb(e,t){const{ArchiveHdi:r}=await import("./assets/index-cHrtm6TP.mjs");await new r(e).read(async i=>{await i.extract(Z(t,i.path))})}function vb(e,t,r){switch(t){case"linux":{if(process.arch==="arm64")throw new Error("Doxygen binaries are not available for Linux arm64");const n=`doxygen-${e}`;return{binRelativeDir:"bin/",binFileName:ge("doxygen"),extractedFolderName:n,url:`https://www.doxygen.nl/files/${n}.linux.bin.tar.gz`}}case"win32":{const n=`doxygen-${e}`;return{binRelativeDir:"",binFileName:ge("doxygen"),extractedFolderName:n,url:`https://www.doxygen.nl/files/${n}.windows.x64.bin.zip`}}case"darwin":{const n=`Doxygen-${e}`;return{binRelativeDir:"Doxygen/Doxygen.app/Contents/Resources/",binFileName:ge("doxygen"),extractedFolderName:n,extractFunction:yb,url:`https://doxygen.nl/files/${n}.dmg`}}default:throw new Error(`Unsupported platform '${t}'`)}}async function wb({version:e,setupDir:t,arch:r}){switch(process.platform){case"win32":{await zh(()=>Le("doxygen.install",e),{name:"doxygen.install",max:4,backoffBase:2e3,report:o=>W(o)});const i={binDir:await _b()};return await cn({version:rt("graphviz",void 0)}),i}case"darwin":{const n=await He("doxygen",void 0,{formula:!0});return mb()[0]>11&&await cn({version:rt("graphviz",void 0)}),n}case"linux":{const n=await gb({version:e,setupDir:t,arch:r});return await cn({version:rt("graphviz",void 0,await qt())}),n}default:throw new Error("Unsupported platform")}}async function gb({version:e,setupDir:t,arch:r}){try{if($e())return await we("doxygen",e);if(Te())return xe([{name:"doxygen",version:e}]);if(ye())return await fe([{name:"doxygen",version:e,fallBackToLatest:ct.includes(r)}]);if(await be())return Ne([{name:"doxygen"}]);throw new Error("Unsupported linux distributions")}catch{try{const n=await Pt("doxygen",e,vb,t,r);if(ye())try{await fe([{name:"libclang-cpp-dev"}])}catch(i){W(`Failed to download libclang-cpp-dev that might be needed for running doxygen. ${i}`)}return n}catch(n){return Qt(`Failed to download doxygen binary. ${n}. Falling back to installing the latest version from apt-get.`),fe([{name:"doxygen"}])}}}async function _b(){switch(process.platform){case"win32":{for(const e of["C:/ProgramData/chocolatey/bin","C:/Program Files/doxygen/bin","C:/Program Files (x86)/doxygen"])if(await me(Z(e,"doxygen.exe")))return await Re(e,ne),e;throw new Error("Failed to find doxygen binary")}default:throw new Error("Unsupported platform")}}function Eb({version:e}){return ar("flawfinder",e)}async function om({version:e}){const t=await pe("git",{nothrow:!0});if(t!==null){W(`Git already installed at ${t}`);return}switch(process.platform){case"win32":{const r=await Le("git",e),n=Sb();return n!==null&&await Re(n,ne),r}case"darwin":return He("git",e);case"linux":{if($e())return we("git",e);if(Te())return xe([{name:"git",version:e}]);if(ye())return fe([{name:"git",version:e}]);if(await be())return Ne([{name:"git",version:e}]);throw new Error("Unsupported linux distribution")}default:throw new Error("Unsupported platform")}}function Sb(){const e=["C:/Program Files/Git/bin/git.exe","C:/Program Files (x86)/Git/bin/git.exe"];for(const t of e)if(Jt(t))return t;return _e("Git not found in the default locations. Add git to PATH manually."),null}const bb=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url));async function Rb(e,t,r){const{keywords:n,optionalKeywords:i}=Ob(t,r),o=await yn(Z(bb,"github_facebook_infer.json")),s=vn(o,{version:e,keywords:n,optionalKeywords:i,filterMapTag(l){return l.replace(/^v/,"")}});if(s!==void 0)return{url:`https://github.com/facebook/infer/releases/download/${s.tag}/${s.name}`,extractedFolderName:`${Zt(s.name,".tar.xz")}`,binRelativeDir:"bin",binFileName:ge("infer")};throw new Error(`No asset found for version ${e} matching ${n} and ${i}`)}function $b({version:e,setupDir:t,arch:r}){return Pt("infer",e,Rb,t,r)}function Ob(e,t){const r=[],n=[];switch(e){case"linux":{r.push("linux"),ot.includes(t)?(n.push("64"),n.push("x86_64")):(W(`Using arch ${t} for infer`),r.push(t));break}case"darwin":{r.push("osx"),ot.includes(t)?n.push("x86_64"):ct.includes(t)?n.push("arm64"):(W(`Using arch ${t} for infer`),r.push(t));break}default:W(`Using ${e} ${t} for infer`),r.push(e,t);break}return{keywords:r,optionalKeywords:n}}function Ib(e,t){switch(e){case"win32":return ot.includes(t)||lr.includes(t)?"win":ct.includes(t)?"winarm64":"win";case"darwin":return"mac";case"linux":return ot.includes(t)||lr.includes(t)?"linux":ct.includes(t)?"linux-aarch64":"linux";default:throw new Error(`Unsupported platform '${e}'`)}}function Pb(e,t,r){const n=Ib(t,r);return{binRelativeDir:"",binFileName:ge("ninja"),extractedFolderName:"",url:`https://github.com/ninja-build/ninja/releases/download/v${e}/ninja-${n}.zip`}}async function am({version:e,setupDir:t,arch:r}){return await be()?(await gh(),await Ne([{name:"ninja-build"},{name:"ninja-is-really-ninja"}]),await Re("/usr/lib/ninja-build/bin",ne),{binDir:"/usr/lib/ninja-build/bin",installDir:"/usr/lib/ninja-build/",bin:"/usr/lib/ninja-build/bin/ninja"}):Pt("ninja",e,Pb,t,r)}const Tb=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url));function xb(e){return{url:`https://github.com/SimonKagstrom/kcov/releases/download/${e}/kcov-amd64.tar.gz`,extractedFolderName:"",binRelativeDir:"usr/local/bin",binFileName:ge("kcov")}}function Ab(e,t,r){return{url:`https://github.com/SimonKagstrom/kcov/archive/refs/tags/${e}.tar.gz`,extractedFolderName:"",binRelativeDir:"build/src",binFileName:ge("kcov"),extractFunction:(n,i)=>Cb(n,i,r)}}async function Cb(e,t,r){const n=await gn(e,t,1),i=await Nb(r);process.platform==="linux"&&($e()?await Promise.all([we("libdwarf"),we("libcurl-openssl")]):Te()?await xe([{name:"libdwarf-devel"},{name:"libcurl-devel"}]):ye()&&await fe([{name:"libdw-dev"},{name:"libcurl4-openssl-dev"}]));try{if(pe.sync("patch",{nothrow:!0})!==null){const s=Z(Tb,"gcc13.patch");await le("patch",["-N","-p1","-i",s],{cwd:n,stdio:"inherit"})}else W("`patch` not found, skipping gcc13.patch, kcov may not build on gcc 13")}catch{}const o=Z(n,"build");return await le(i,["-S",n,"-B",o,"-DCMAKE_BUILD_TYPE=Release","-G","Ninja"],{cwd:n,stdio:"inherit"}),await le(i,["--build",o,"--config","Release"],{cwd:n,stdio:"inherit"}),n}async function Nb(e){let t=pe.sync("cmake",{nothrow:!0});if(t===null){const{binDir:n}=await sm({version:rt("cmake",void 0,await qt()),setupDir:Z(at("~"),"cmake"),arch:e});t=Z(n,"cmake")}return pe.sync("ninja",{nothrow:!0})===null&&await am({version:rt("ninja",void 0,await qt()),setupDir:Z(at("~"),"ninja"),arch:e}),t}async function Lb({version:e,setupDir:t,arch:r}){if(process.platform!=="linux"){W("Kcov is not supported on non-linux");return}const n=e.split("-");let i=EE(n[0]);const o=n[1],s=_E(i);s===38&&(i="v38");let l;return o==="binary"&&s>=39?(l=await Pt("kcov",i,xb,t,r),$e()?await we("binutils"):Te()?await xe([{name:"binutils"}]):ye()&&await fe([{name:"libbinutils"}]),l):(l=await Pt("kcov",i,Ab,t,r),l)}function Db({version:e}){return ar("lizard",e)}async function kb({version:e}){switch(process.platform){case"win32":return Le("make",e);case"darwin":{await He("make",e);const t=Z(Ha(),"opt/make/libexec/gnubin");return await Re(t,ne),{binDir:t}}case"linux":{if($e())return we("make",e);if(Te())return xe([{name:"make",version:e}]);if(ye())return fe([{name:"make",version:e}]);if(await be())return Ne([{name:"make",version:e}]);throw new Error("Unsupported linux distribution")}default:throw new Error("Unsupported platform")}}function Fb({version:e}){return ar("meson",e)}var Yt={},Kd;function qb(){if(Kd)return Yt;Kd=1;const e=hr(),t=Cr,r=qe,n=ue,i=ip,o=i.env["ProgramFiles(x86)"],s=[i.env["ProgramFiles(x86)"],i.env.ProgramFiles],l=["Enterprise","Professional","Community","BuildTools"],u=["2022","2019","2017"],c={2022:"17.0",2019:"16.0",2017:"15.0",2015:"14.0",2013:"12.0"};function a(y){return Object.values(c).includes(y)?y:y in c?c[y]:y}Yt.vsversion_to_versionnumber=a;function h(y){if(Object.keys(c).includes(y))return y;for(const[v,S]of Object.entries(c))if(S===y)return v;return y}Yt.vsversion_to_year=h;const p=`${o}\\Microsoft Visual Studio\\Installer`;function w(y,v){try{return t.execSync(`vswhere -products * ${v} -prerelease -property installationPath`).toString().trim()+"\\"+y}catch(S){e.warning(`vswhere failed: ${S}`)}return null}Yt.findWithVswhere=w;function E(y){const v=a(y);let S;if(v){const g=v.split(".")[0]+".9";S=`-version "${v},${g}"`}else S="-latest";let _=w("VC\\Auxiliary\\Build\\vcvarsall.bat",S);if(_&&r.existsSync(_))return e.info(`Found with vswhere: ${_}`),_;e.info("Not found with vswhere");const b=y?[h(y)]:u;for(const g of s)for(const $ of b)for(const I of l)if(_=`${g}\\Microsoft Visual Studio\\${$}\\${I}\\VC\\Auxiliary\\Build\\vcvarsall.bat`,e.info(`Trying standard location: ${_}`),r.existsSync(_))return e.info(`Found standard location: ${_}`),_;if(e.info("Not found in standard locations"),_=`${o}\\Microsoft Visual C++ Build Tools\\vcbuildtools.bat`,r.existsSync(_))return e.info(`Found VS 2015: ${_}`),_;throw e.info(`Not found in VS 2015 location: ${_}`),new Error("Microsoft Visual Studio not found")}Yt.findVcvarsall=E;function d(y){return["PATH","INCLUDE","LIB","LIBPATH"].indexOf(y.toUpperCase())!=-1}function f(y){let v=y.split(";");function S(_,b,g){return g.indexOf(_)===b}return v.filter(S).join(";")}function m(y,v,S,_,b,g){if(i.platform!="win32"){e.info("This is not a Windows virtual environment, bye!");return}i.env.PATH+=n.delimiter+p;let $={win32:"x86",win64:"x64",x86_64:"x64","x86-64":"x64"};y.toLowerCase()in $&&(y=$[y.toLowerCase()]);var I=[y];_&&JSON.parse(_)===!0&&I.push("uwp"),v&&I.push(v),S&&I.push(`-vcvars_ver=${S}`),b&&JSON.parse(b)===!0&&I.push("-vcvars_spectre_libs=spectre");const A=`"${E(g)}" ${I.join(" ")}`;e.debug(`vcvars command-line: ${A}`);const K=t.execSync(`set && cls && ${A} && cls && set`,{shell:"cmd"}).toString().split("\f"),J=K[0].split(`\r
`),x=K[1].split(`\r
`),T=K[2].split(`\r
`),F=x.filter(k=>!!(k.match(/^\[ERROR.*\]/)&&!k.match(/Error in script usage. The correct usage is:$/)));if(F.length>0)throw new Error(`invalid parameters\r
`+F.join(`\r
`));let U={};for(let k of J){const[G,C]=k.split("=");U[G]=C}e.startGroup("Environment variables");for(let k of T){if(!k.includes("="))continue;let[G,C]=k.split("="),H=U[G];C!==H&&(e.info(`Setting ${G}`),d(G)&&(C=f(C)),e.exportVariable(G,C))}e.endGroup(),e.info("Configured Developer Command Prompt")}return Yt.setupMSVCDevCmd=m,Yt}var Ra=qb();function Ub(e){switch(e){case"x32":case"32":case"ia32":return"x86";case"64":return"x64";default:return e}}async function rc({vsversion:e,VCTargetsPath:t,arch:r,toolset:n,sdk:i,uwp:o,spectre:s}){t!==void 0&&await me(t)&&(W(`Adding ${t} to PATH`),await Ie("VCTargetsPath",t,ne)),await Ra.setupMSVCDevCmd(Ub(r),i,n,o,s,e)}const{GITHUB_ACTIONS:jb}=Tt,Mb=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url));async function Tr({version:e,setupDir:t,arch:r,sdk:n,uwp:i,spectre:o}){if(process.platform!=="win32")return;const s=Ra.vsversion_to_versionnumber(e);W(`Checking if MSVC ${s} is already installed`);let l=!1;try{const a=Ra.findVcvarsall(s);l=!0,W(`Found the pre-installed version of MSVC at ${a}`)}catch{}let u,c;if(!l)try{s==="14.0"?(u="14.0",await Le("visualcpp-build-tools","14.0.25420.1",["--ignore-dependencies"]),c="C:/Program Files (x86)/MSBuild/Microsoft.Cpp/v4.0/v140"):s==="15.0"?(u="14.16",await Le("visualstudio2017buildtools","15.9.41.0",[]),c="C:/Program Files (x86)/Microsoft Visual Studio/2017/BuildTools/VC/Tools/MSVC/14.16"):s==="16.0"?(u="14.29",await Le("visualstudio2019buildtools","16.11.7.0",[]),c="C:/Program Files (x86)/Microsoft Visual Studio/2019/BuildTools/VC/Tools/MSVC/14.29.30133"):s==="17.0"?(u=void 0,await Le("visualstudio2022buildtools","117.0.5.0",[]),c=void 0):De(`The given MSVC versions ${e} is not supported yet.`)}catch(a){De(a)}await rc({VCTargetsPath:c,arch:r,toolset:u,sdk:n,uwp:i,spectre:o}),jb&&await Gb()}async function Gb(){const e=Z(Mb,"msvc_matcher.json");if(!await me(e))return _e("the msvc_matcher.json file does not exist in the same folder as setup-cpp.js");W(`::add-matcher::${e}`)}let Ft;async function Vb({version:e}){if(!ye())return;if(typeof Ft=="string")return{binDir:Ft};const t=pe.sync("nala",{nothrow:!0});if(t!==null)return Ft=Pe(t),{binDir:Ft};await fe([{name:"python3-apt"}]),Ft="/usr/bin";try{const r=await Sa({name:"nala",version:e});if(r!==void 0)return await fe([{name:r}]),{binDir:Ft}}catch(r){W(`Failed to install nala: ${r}`)}try{const r=await Sa({name:"nala-legacy"});if(r!==void 0)return await fe([{name:r}],!0),{binDir:Ft}}catch(r){W(`Failed to install nala-legacy: ${r}`)}return await Bb(),{binDir:Ft}}async function Bb(){const e=new Fr.DownloaderHelper("https://gitlab.com/volian/volian-archive/-/raw/main/install-nala.sh",We(),{fileName:"install-nala.sh"});e.on("error",n=>{throw new Error(`Failed to download install-nala.sh: ${n}`)}),await e.start();const t=Z(We(),"install-nala.sh"),r=await In(t,"utf8");await gp(t,r.replace(/sudo/g,"")),await fe([{name:"wget"}]);try{he("bash",[t])}catch(n){De(`Failed to install nala via installer: ${n}`),he("apt",["install","-y","-t","nala","nala"])}}async function Yd({version:e}){return process.platform!=="win32"?void 0:(await Le("opencppcoverage",e),{binDir:await Hb()})}async function Hb(){const e="C:/Program Files/OpenCppCoverage";return await Re(e,ne),e}function zb(e,t,r){return{url:Wb(t,r,e),binRelativeDir:"",binFileName:ge("pwsh"),extractedFolderName:""}}function Wb(e,t,r){switch(e){case"win32":{const n=["ia32","x86","i386","x32"].includes(t)?"win-x86":"win-x64";return`https://github.com/PowerShell/PowerShell/releases/download/v${r}/PowerShell-${r}-${n}.zip`}case"darwin":{const n=["arm","arm64"].includes(t)?"osx-arm64":"osx-x64";return`https://github.com/PowerShell/PowerShell/releases/download/v${r}/powershell-${r}-${n}.tar.gz`}case"linux":{const i={arm64:"linux-arm64",arm:"linux-arm64",arm32:"linux-arm32",aarch64:"linux-arm64",x64:"linux-x64"}[t]??"linux-x64";return`https://github.com/PowerShell/PowerShell/releases/download/v${r}/powershell-${r}-${i}.tar.gz`}default:throw new Error(`Unsupported platform '${e}'`)}}async function Jd({version:e,setupDir:t,arch:r}){try{return await be()?Qd({version:e,setupDir:t,arch:r}):await Pt("pwsh",e,zb,t,r)}catch(n){return De(`Failed to setup pwsh via download: ${n}. Trying package managers...`),Qd({version:e})}}async function Qd({version:e}){switch(process.platform){case"win32":{await Le("powershell-core",e);const t="C:/Program Files/PowerShell/7";return await Re(t,ne),{binDir:t}}case"darwin":return He("powershell",e,{cask:!0,overwrite:!1});case"linux":{if($e())return we("powershell-bin",e,"yay");if(Te())return await xe([{name:"curl"}]),he("/bin/bash",["-c","curl https://packages.microsoft.com/config/rhel/8/prod.repo | sudo tee /etc/yum.repos.d/microsoft.repo"]),xe([{name:"powershell",version:e}]);if(ye()){await fe([{name:"curl"}]);const t=await qt(),r=`${t[0]}.0${t[1]}`;return he("curl",["-LJO",`https://packages.microsoft.com/config/ubuntu/${r}/packages-microsoft-prod.deb`]),he("dpkg",["-i","packages-microsoft-prod.deb"]),fe([{name:"powershell",version:e}],!0)}else if(await be())return Ne([{name:"powershell",version:void 0}]);throw new Error("Unsupported linux distribution")}default:throw new Error("Unsupported platform")}}async function Xb({version:e}){switch(process.platform){case"win32":return Le("sccache",e);case"linux":{if(ye()){if((await em.getUbuntuVersion())[0]>=24)return fe([{name:"sccache",version:e}])}else if(await be())return Ne([{name:"sccache",version:e}]);return He("sccache",e)}case"darwin":return He("sccache",e);default:throw new Error("Unsupported platform")}}function Kb(e){switch(e){case"win32":return"windows";default:return e}}function Yb(e){switch(e){case"x64":return"amd64";case"ia32":case"x86":case"i386":case"x32":return"386";default:return e}}function Jb(e,t,r){const n=Kb(t),i=Yb(r),o=t==="win32"?"zip":"tar.gz";return{binRelativeDir:"",binFileName:ge("task"),extractedFolderName:"",url:`https://github.com/go-task/task/releases/download/v${e}/task_${n}_${i}.${o}`}}function Qb({version:e,setupDir:t,arch:r}){return Pt("task",e,Jb,t,r)}let Zd=!1;async function Zb({version:e,setupDir:t,arch:r}){const n=await pe("vcpkg",{nothrow:!0});if(Zd&&n!==null)return{binDir:Pe(n)};if(await om({version:""}),process.platform==="linux"){if($e())await Promise.all([we("curl"),we("zip"),we("unzip"),we("tar"),we("pkg-config")]);else if(Te())await xe([{name:"curl"},{name:"zip"},{name:"unzip"},{name:"tar"},{name:"pkg-config"}]);else if(ye())await fe([{name:"curl"},{name:"zip"},{name:"unzip"},{name:"tar"},{name:"pkg-config"}]);else if(await be()){const i=[{name:"curl"},{name:"zip"},{name:"unzip"},{name:"tar"},{name:"pkgconf"}];ct.includes(r)&&i.push({name:"build-base"}),await Ne(i)}}return await me(Z(t,Ea("bootstrap-vcpkg",".bat")))?Qt(`Vcpkg folder already exists at ${t}. Skipping the clone`):await le("git",["clone","https://github.com/microsoft/vcpkg"],{cwd:Pe(t),stdio:"inherit"}),e!==""&&e!=="true"&&(W(`Checking out vcpkg version ${e}`),await le("git",["checkout",e],{cwd:t,stdio:"inherit"})),process.platform==="linux"&&ct.includes(r)&&await Ie("VCPKG_FORCE_SYSTEM_BINARIES","1"),await le(Ea(ah("bootstrap-vcpkg"),".bat"),{cwd:t,shell:!0,stdio:"inherit"}),await vr(t),await Re(t,ne),Zd=!0,{binDir:t}}const cm={llvm:un,clang:un,"clang++":un},um={gcc:_n,"g++":_n},lm={mingw:Za},fm={msvc:Tr,cl:Tr,msbuild:Tr,visualstudio:Tr},dm={appleclang:Pr,applellvm:Pr,"apple-clang":Pr,"apple-llvm":Pr},e0={cmakelang:$r,"cmake-lint":$r,"cmake-format":$r,cmakelint:$r,cmakeformat:$r},pm=["llvm","clang","clang++","clang-tidy","clang-format","clangtidy","clangformat"],hm={git:om,nala:Vb,brew:Va,choco:Vh,python:Zh,powershell:Jd,pwsh:Jd,...cm,...um,...lm,...fm,...dm,...e0,cmake:sm,ninja:am,vcpkg:Zb,bazel:nb,conan:ab,meson:Fb,gcovr:XS,opencppcoverage:Yd,OpenCppCoverage:Yd,ccache:ib,sccache:Xb,doxygen:wb,graphviz:cn,cppcheck:cb,cpplint:lb,flawfinder:Eb,lizard:Db,infer:$b,"clang-tidy":np,clangtidy:np,"clang-format":rp,clangformat:rp,vcvarsall:rc,kcov:Lb,make:kb,task:Qb,sevenzip:sn,"7zip":sn,"7z":sn},mm=Object.keys(hm),ep=["compiler","architecture","timeout",...mm],ym=60*60*1e3;async function t0(e,t,r,n,i,o,s,l=ym){Ee.startGroup(`Installing ${e} ${t}`);try{await r0(e,t,r,n,i,o)}catch(u){De(u),u instanceof Error&&u.stack!==void 0&&De(u.stack),s.push(`${e} failed to install`)}Ee.endGroup()}async function r0(e,t,r,n,i,o){const s=pm.includes(e);let l;if(e==="vcvarsall")await rc({version:rt(e,t,r),arch:n,uwp:!1,spectre:!1});else if(e==="brew")l=await Va({rcOptions:ne});else{const u=Z(i,s?"llvm":e),c=rt(e,t,r),a=hm[e];l=await a({version:c,setupDir:u,arch:n})}o.push(Lh(e,l))}const n0=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url));var nc=(e=>(e[e.All=0]="All",e[e.ClangFormat=1]="ClangFormat",e[e.Core=2]="Core",e))(nc||{});async function i0(e,t=0){if(ye())try{return await s0(e,t)}catch(r){ga(`Failed to install llvm via system package manager ${r}. Trying to remove the repository`);try{he(Z(n0,"llvm_repo_remove.bash"),[`${Er(e)}`])}catch(n){ga(`Failed to remove llvm repository ${n}`)}}}async function s0(e,t=0){const r=Er(e),n=`/usr/lib/llvm-${r}`;await fe([{name:"ca-certificates"}]);const i=new Fr.DownloaderHelper("https://apt.llvm.org/llvm.sh",We(),{fileName:"llvm.sh"});i.on("error",l=>{throw new Error(`Failed to download the LLVM installer script: ${l}`)}),await i.start();const o=await In(i.getDownloadPath(),"utf-8"),s=Z(We(),"llvm-setup-cpp.sh");return await o0(o,s,r,t),await Ih(),await fe([{name:"lsb-release"},{name:"wget"},{name:"gnupg"}]),await vp(s,"755"),await yt("bash",[s,`${r}`,...t===0?["all"]:[]],{stdio:"inherit",shell:!0,timeout:ym}),await Re(`${n}/bin`,ne),{installDir:`${n}`,binDir:`${n}/bin`,bin:`${n}/bin/clang++`}}async function o0(e,t,r,n){let i=a0(e);i=c0(i),i=f0(n,i,r),i=await u0(i),i=l0(i),await gp(t,i)}function a0(e){return process.env.NODE_DEBUG!=="1"&&process.env.NODE_DEBUG!=="true"?e.replace(/set -eux/g,"set -eu"):e}function c0(e){return e.replace(/add-apt-repository\s*(-y)?\s*"\${REPO_NAME}"/g,`add-apt-repository -y -n "\${REPO_NAME}"
apt-get update -o ${gr}`)}async function u0(e){let t=e.replace(/apt-get install -y/g,`apt-get install -o Dpkg::Options::="--force-overwrite" -o ${gr}  -y --fix-broken`);const r=["libc++-$LLVM_VERSION-dev","libc++abi-$LLVM_VERSION-dev","libunwind-$LLVM_VERSION-dev"];return await Promise.all(r.map(async n=>{const i=n.replace("$LLVM_VERSION","*");await Y_(i)&&(ga(`Removing conflicting package ${i}`),t=t.replace(n,""))})),t}function l0(e){return Sh()?e.replace(/apt-get/g,"nala"):e}function f0(e,t,r){return e===1?t.replace(/ -y \$PKG/g,` -y clang-format-${r}`):t}const tp=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url));async function d0(e,t,r){const n=await p0(t,r,e);return W(`Downloading LLVM from ${n}`),{url:n,extractedFolderName:"",binRelativeDir:"bin",binFileName:ge("clang"),extractFunction:t==="win32"?Hh(Qa(n)):(i,o)=>gn(i,o,1)}}async function p0(e,t,r){const{keywords:n,optionalKeywords:i}=await h0(e,t),o=await yn(Z(tp,"github_llvm_llvm-project.json")),s=vn(o,{version:r,keywords:n,optionalKeywords:i,filterMapTag(c){return c.replace(/^llvmorg-/,"")}});if(s!==void 0)return`https://github.com/llvm/llvm-project/releases/download/${s.tag}/${s.name}`;const l=await yn(Z(tp,"llvm_org_releases.json")),u=vn(l,{version:r,keywords:n,optionalKeywords:i});if(u!==void 0)return`https://releases.llvm.org/${u.tag}/${u.name}`;throw new Error(`No asset found for version ${r} matching ${n} and ${i}`)}async function h0(e,t){const r=[],n=[];switch(e){case"win32":{n.push(".exe",".exe");const i=[];ot.includes(t)?(i.push("win64"),n.push(["x86_64","X64"])):lr.includes(t)?i.push("win32"):ct.includes(t)?i.push("woa64"):(W(`Using arch ${t} for LLVM`),i.push(t)),i.push("windows","Windows"),r.push(i);break}case"linux":{const i=["linux","Linux"];if(ye()){n.push("ubuntu");const o=await qt();if(o!==null){n.push(`${o[0]}`);const s=o[1]<10?`0${o[1]}`:`${o[1]}`;n.push(`${o[0]}.${s}`),n.push(`${o[0]}.${s}.${o[2]}`)}}else Te()&&n.push("rhel");ot.includes(t)?r.push(["x86_64","X64"]):lr.includes(t)?r.push("x86"):ct.includes(t)?r.push("aarch64"):ZS.includes(t)?r.push("armv7a"):eb.includes(t)?r.push("powerpc64le"):tb.includes(t)?r.push("sparc64"):(W(`Using arch ${t} for LLVM`),r.push(t)),r.push(i);break}case"darwin":{r.push(["apple","macos","macOS"]),ot.includes(t)?n.push(["x86_64","X64"]):ct.includes(t)?n.push(["arm64","ARM64"]):(W(`Using arch ${t} for LLVM`),r.push(t));break}case"freebsd":{r.push("freebsd"),ot.includes(t)?r.push("amd64"):lr.includes(t)?r.push("i386"):(W(`Using arch ${t} for LLVM`),r.push(t));break}case"solaris":{r.push("solaris"),ot.includes(t)?r.push("amd64"):rb.includes(t)?r.push("sparcv9"):(W(`Using arch ${t} for LLVM`),r.push(t));break}default:W(`Using ${e} ${t} for LLVM`),r.push(e,t);break}return{keywords:r,optionalKeywords:n}}async function m0({version:e,setupDir:t,arch:r}){const n=await Pt("llvm",e,d0,t,r);return await v0(Er(e),r),n}async function y0(e,t){if(ye())for(const r of["libtinfo5","libtinfo6"])try{await fe([{name:r}])}catch{try{if(r==="libtinfo5"){W(`Failed to install ${r}
Manually installing the package`);const i=`libtinfo5_6.3-2ubuntu0.1_${im(t)}.deb`,o=`https://launchpad.net/ubuntu/+archive/primary/+files/${i}`,s=new Fr.DownloaderHelper(o,We(),{fileName:i});s.on("error",async l=>{W(`Failed to download ${o}: ${l}`),await s.stop()}),await s.start(),he("dpkg",["-i",Z(We(),i)])}}catch{W(`Failed to install ${r}. Ignoring`)}}else $e()?await we("ncurses5-compat-libs",void 0,"yay"):Te()&&await xe([{name:"ncurses-compat-libs"}])}const v0=Ue(y0,{promise:!0});async function w0({version:e,setupDir:t,arch:r}){if(process.platform!=="darwin")return Promise.resolve(void 0);try{return await g0({version:e,setupDir:t,arch:r})}catch(n){W(`Failed to install llvm via brew: ${n}`);return}}async function g0({version:e}){const t=Er(e),r=await He("llvm",`${t}`,{"force-bottle":!0});return await Re(r.binDir,ne),r}const{GITHUB_ACTIONS:_0}=Tt,E0=typeof __dirname=="string"?__dirname:ue.dirname(Nt(import.meta.url));async function un({version:e,setupDir:t,arch:r}){const n=await ic(e,t,r);return await b0(r),await $0(),n.installDir!==void 0&&await R0(n.installDir,e),n}async function ic(e,t,r,n=nc.All){const i=await i0(e,n);if(i!==void 0)return i;const o=await JS(e);if(o!==void 0)return o;const s=await w0({version:e,setupDir:t,arch:r});return s!==void 0?s:m0({version:e,setupDir:t,arch:r})}async function S0(e){process.platform==="linux"&&await _n({version:rt("gcc",void 0,await qt()),setupDir:"",arch:e,priority:40})}const b0=Ue(S0,{promise:!0});async function R0(e,t){const r=process.env.LD_LIBRARY_PATH??"",n=process.env.DYLD_LIBRARY_PATH??"",i=Er(t),o=[Ie("CC",ge(`${e}/bin/clang`),ne),Ie("CXX",ge(`${e}/bin/clang++`),ne),Ie("LLVM_PATH",e,ne),Ie("LLVM_LD_LIBRARY_PATH",`${r}${ln}${e}/lib`,ne),Ie("LLVM_DYLD_LIBRARY_PATH",`${n}${ln}${e}/lib`,ne),Ie("LLVM_LDFLAGS",`-L${Hd(`${e}/lib`)}`,ne),Ie("LLVM_CPPFLAGS",`-I${Hd(`${e}/include`)}`,ne),await me(`${e}/lib/clang/${t}/include`)?Ie("LLVM_CPATH",`${e}/lib/clang/${t}/include`,ne):await me(`${e}/lib/clang/${i}/include`)?Ie("LLVM_CPATH",`${e}/lib/clang/${i}/include`,ne):Promise.resolve(),Ie("LLVM_LIBRARY_PATH",`${e}/lib`,ne),Dh()];ye()&&o.push(mt("cc",`${e}/bin/clang`,ne,60),mt("cxx",`${e}/bin/clang++`,ne,60),mt("clang",`${e}/bin/clang`,ne),mt("clang++",`${e}/bin/clang++`,ne),mt("lld",`${e}/bin/lld`,ne),mt("ld.lld",`${e}/bin/ld.lld`,ne),mt("llvm-ar",`${e}/bin/llvm-ar`,ne)),await Promise.all(o)}async function $0(){if(!_0)return;const e=Z(E0,"llvm_matcher.json");if(!await me(e))return _e("the llvm_matcher.json file does not exist in the same folder as setup-cpp.js");W(`::add-matcher::${e}`)}function rp({version:e,setupDir:t,arch:r}){return ic(e,t,r,nc.ClangFormat)}function np({version:e,setupDir:t,arch:r}){return ic(e,t,r)}const O0=/[.-]((?:\d{4}|\d+(?:\.\d+)*(?:-[\w.-]+)?(?:\+[\w.-]+)?)$)/;function I0(e){try{const t=e.match(O0);if(t===null)return{compiler:e,version:void 0};const r=t[1],n=e.slice(0,t.index).replace(/[.-]$/,"");return!r.match(/^\d{4}$/)&&Fn(r)===null&&W(`Non-semver version format: ${r}`),{compiler:n,version:r}}catch(t){return De(`Failed to parse the compiler info ${e}: ${t}`),{compiler:e,version:void 0}}}async function P0(e,t,r,n,i,o,s){let l;try{if(Ee.startGroup(`Installing ${e} ${t??""}`),e in cm)l=await un({version:rt("llvm",t,r),setupDir:Z(n,"llvm"),arch:i}),await KS();else if(e in um){const u=rt("gcc",t,r);l=await _n({version:u,setupDir:Z(n,"gcc"),arch:i}),await Xd(u)}else if(e in lm){const u=rt("mingw",t,r);l=await Za({version:u,setupDir:Z(n,"gcc"),arch:i}),await Xd(u)}else e in fm?l=await Tr({version:rt("msvc",t,r),setupDir:Z(n,"msvc"),arch:i}):e in dm?await Pr():(l=null,s.push(`Unsupported compiler ${e}`))}catch(u){De(u),u instanceof Error&&De(u.stack??""),s.push(`Failed to install the ${e} compiler ${t}`)}l!==null&&o.push(Lh(e,l)),Ee.endGroup()}async function T0(e,t="npm"){try{return await pe("setup-cpp",{nothrow:!0})!==null?`setup-cpp@${e} already installed`:(W(`Installing setup-cpp@${e} via ${t}...`),await le(t,["install","-g",`setup-cpp@${e}`],{stdio:"inherit",timeout:1e3*60*1}),`setup-cpp@${e} installed successfully`)}catch(r){return new Error(`Failed to install the setup-cpp@${e} CLI: ${r}. Ignoring...`)}}async function x0(e={}){const t=e.architecture??process.arch,r=process.env.SETUP_CPP_DIR??at("~"),n=[],i=[],o=Uf.create({autoloadLocales:!0});Uf.addLocale(O_),y_.addLocale(g_);let s,l;const u=await qt(),c=e.compiler!==void 0?I0(e.compiler):void 0;if(!gS(e,[...pm,"compiler"],c))return{successMessages:[],errorMessages:["The same version must be used for llvm, clang-format and clang-tidy"]};$e()&&typeof e.cppcheck=="string"&&typeof e.gcovr=="string"&&(W("installing python-pygments to avoid conflicts with cppcheck and gcovr on Arch linux"),await we("python-pygments"));const a=mm.filter(E=>{const d=e[E];return d!==void 0&&d!=="false"}),h=e["setup-cpp"]===void 0||e["setup-cpp"]?T0(Aa.version,e["node-package-manager"]):Promise.resolve(void 0);let p=!1;for(const E of a){const d=e[E],f=e.timeout!==void 0?Number.parseFloat(e.timeout)*60*1e3:void 0;if(s=Date.now(),await t0(E,d,u,t,r,n,i,f),l=Date.now(),W(`took ${o.format(s,l)||"0 seconds"}`),i.length!==0&&fn.isCI){p=!0;break}}if(!p&&c!==void 0){const E=Date.now();await P0(c.compiler,c.version,u,r,t,n,i);const d=Date.now();W(`took ${o.format(E,d)||"0 seconds"}`)}const w=await h;return typeof w=="string"?n.push(w):w instanceof Error&&i.push(w.message),await Zg(ne),{successMessages:n,errorMessages:i}}async function A0(e){const t=fn.GITHUB_ACTIONS?Promise.resolve():C0(),r=N0(e);if(r.help)return L0(),0;if(r.version)return W(`${Aa.version}`),0;const{successMessages:n,errorMessages:i}=await x0(r);for(const o of n)Ky(o);for(const o of i)De(o);if((n.length!==0||i.length!==0)&&(W("setup-cpp finished"),!fn.GITHUB_ACTIONS))switch(process.platform){case"win32":{_e("Run `RefreshEnv.cmd` or restart your shell to update the environment.");break}case"linux":case"darwin":{_e("Run `source ~/.cpprc` or restart your shell to update the environment.");break}}return await t,i.length===0?0:1}async function C0(){try{await Ry({pkg:Aa})}catch(e){_e(`Failed to check for updates: ${e instanceof Error?e.message+e.stack:e}`)}}function N0(e){const t=Object.fromEntries(ep.map(r=>[r,Nh(r)]));return Qm(e,{string:[...ep,"timeout","node-package-manager"],default:t,alias:{h:"help",v:"version"},boolean:["help","version","setup-cpp"]})}function L0(){W(`
setup-cpp [options]
setup-cpp --compiler llvm --cmake true --ninja true --ccache true --vcpkg true

Install all the tools required for building and testing C++/C projects.

--architecture	 the cpu architecture to install the tools for. By default it uses the current CPU architecture.
--timeout	 the timeout for the installation of each tool in minutes. By default it is 10 minutes.
--compiler	 the <compiler> to install.
          	 You can specify the version instead of specifying just the name e.g: --compiler 'llvm-13.0.0'
--tool_name	 pass "true" or pass the <version> you would like to install for this tool. e.g. --conan true or --conan "1.42.1"
--nodePackageManager	 the node package manager to use (npm/yarn/pnpm) when installing setup-cpp globally
--help	 show this help message
--version	 show the version of setup-cpp

All the available tools:
`),console.table({"compiler and analyzer":{tools:"--llvm, --gcc, --msvc, --apple-clang, --vcvarsall"},"build system":{tools:"--cmake, --ninja, --meson, --make, --task, --bazel"},"package manager":{tools:"--vcpkg, --conan, --choco, --brew, --nala, --git, --setup-cpp"},"analyzer/linter":{tools:"--clang-tidy, --clang-format, --cppcheck, --cpplint, --flawfinder, --lizard, --infer, , --cmakelang, --cmake-lint, --cmake-format"},cache:{tools:"--ccache, --sccache"},documentation:{tools:"--doxygen, --graphviz"},coverage:{tools:"--gcovr, --opencppcoverage, --kcov"},other:{tools:"--python, --powershell, --sevenzip"}},["tools"])}process.env.SETUP_CPP_SKIP_MAIN!=="true"&&A0(process.argv).then(e=>{process.exitCode=e}).catch(e=>{De("main() panicked!"),De(e),process.exitCode=1});export{Gy as H,Ee as a,Tt as b,st as c,za as e,Oe as g,W as i,me as p,N0 as parseArgs,Ey as r,Ja as t,_e as w};
>>>>>>> 94f7139d (build: use esbuild for minification)
//# sourceMappingURL=setup-cpp.mjs.map
